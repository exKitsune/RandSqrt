import{a as fp,t as cp}from"../chunks/disclose-version.rmtXnb8y.js";import{i as up}from"../chunks/legacy.BBfVxCVy.js";import{y as Df,ar as sp,as as lp,at as hp,B as dp,p as pp,au as be,g as at,av as gp,aw as mp,t as Go,a as bp,d as An,ax as yp,s as un,c as Cn,r as kn}from"../chunks/runtime.CvROAZ4Y.js";import{a as _p,l as wp,e as vp,s as Xo}from"../chunks/render.hiniec3c.js";import{o as xp,b as Mp}from"../chunks/index-client.Ck5zYekP.js";function Oc(t){if(Df){var n=!1,e=()=>{if(!n){if(n=!0,t.hasAttribute("value")){var r=t.value;qc(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;qc(t,"checked",null),t.checked=i}}};t.__on_r=e,sp(e),_p()}}function qc(t,n,e,r){var i=t.__attributes??(t.__attributes={});Df&&(i[n]=t.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&t.nodeName==="LINK")||i[n]!==(i[n]=e)&&(n==="style"&&"__styles"in t&&(t.__styles={}),n==="loading"&&(t[lp]=e),t.removeAttribute(n))}function Uc(t,n,e=n){var r=hp();wp(t,"input",()=>{var i=zc(t)?Bc(t.value):t.value;e(i),r&&i!==(i=n())&&(t.value=i??"")}),dp(()=>{var i=n();if(Df&&t.defaultValue!==t.value){e(t.value);return}zc(t)&&i===Bc(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function zc(t){var n=t.type;return n==="number"||n==="range"}function Bc(t){return t===""?null:+t}function Dn(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Nr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function co(t){let n,e,r;t.length!==2?(n=Dn,e=(f,c)=>Dn(t(f),c),r=(f,c)=>t(f)-c):(n=t===Dn||t===Nr?t:$p,e=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const h=s+u>>>1;e(f[h],c)<0?s=h+1:u=h}while(s<u)}return s}function o(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const h=s+u>>>1;e(f[h],c)<=0?s=h+1:u=h}while(s<u)}return s}function a(f,c,s=0,u=f.length){const h=i(f,c,s,u-1);return h>s&&r(f[h-1],c)>-r(f[h],c)?h-1:h}return{left:i,center:a,right:o}}function $p(){return 0}function Us(t){return t===null?NaN:+t}function*Tp(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Sp=co(Dn),Rf=Sp.right;co(Us).center;function Ap(t){return t.length|0}function Cp(t){return!(t>0)}function kp(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Ep(t){return n=>t(...n)}function Np(...t){const n=typeof t[t.length-1]=="function"&&Ep(t.pop());t=t.map(kp);const e=t.map(Ap),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Cp))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function zs(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function Lp(t,n){const e=zs(t,n);return e&&Math.sqrt(e)}function Rn(t,n){let e,r;for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));return[e,r]}class ne{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class br extends Map{constructor(n,e=Hs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(Na(this,n))}has(n){return super.has(Na(this,n))}set(n,e){return super.set(Bs(this,n),e)}delete(n){return super.delete(Ys(this,n))}}class uo extends Set{constructor(n,e=Hs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(Na(this,n))}add(n){return super.add(Bs(this,n))}delete(n){return super.delete(Ys(this,n))}}function Na({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function Bs({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Ys({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function Hs(t){return t!==null&&typeof t=="object"?t.valueOf():t}function La(t){return t}function Dp(t,...n){return If(t,La,La,n)}function Zo(t,n,...e){return If(t,La,n,e)}function Rp(t,n,...e){return If(t,Array.from,n,e)}function If(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const f=new br,c=r[a++];let s=-1;for(const u of o){const h=c(u,++s,o),l=f.get(h);l?l.push(u):f.set(h,[u])}for(const[u,h]of f)f.set(u,i(h,a));return n(f)}(t,0)}function Ip(t,n){return Array.from(n,e=>t[e])}function Pp(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Si(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Si(e[i],e[o]))),Ip(t,r)}return t.sort(Ws(e))}function Ws(t=Dn){if(t===Dn)return Si;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Si(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const Fp=Math.sqrt(50),Op=Math.sqrt(10),qp=Math.sqrt(2);function Ai(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Fp?10:o>=Op?5:o>=qp?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(t*s),c=Math.round(n*s),f/s<t&&++f,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,f=Math.round(t/s),c=Math.round(n/s),f*s<t&&++f,c*s>n&&--c),c<f&&.5<=e&&e<2?Ai(t,n,e*2):[f,c,s]}function Ci(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Ai(n,t,e):Ai(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)c[s]=(o-s)/-a;else for(let s=0;s<f;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)c[s]=(i+s)/-a;else for(let s=0;s<f;++s)c[s]=(i+s)*a;return c}function Da(t,n,e){return n=+n,t=+t,e=+e,Ai(t,n,e)[2]}function Ra(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?Da(n,t,e):Da(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function en(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Up(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function yr(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function zp(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Vs(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Si:Ws(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,u=Math.log(c),h=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*h*(c-h)/c)*(s-c/2<0?-1:1),d=Math.max(e,Math.floor(n-s*h/c+l)),p=Math.min(r,Math.floor(n+(c-s)*h/c+l));Vs(t,n,d,p,i)}const o=t[n];let a=e,f=r;for(Ke(t,e,n),i(t[r],o)>0&&Ke(t,e,r);a<f;){for(Ke(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?Ke(t,e,f):(++f,Ke(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function Ke(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function ki(t,n,e){if(t=Float64Array.from(Tp(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return yr(t);if(n>=1)return en(t);var r,i=(r-1)*n,o=Math.floor(i),a=en(Vs(t,o).subarray(0,o+1)),f=yr(t.subarray(o+1));return a+(f-a)*(i-o)}}function Bp(t,n,e=Us){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function Yp(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function Ia(t,n){return ki(t,.5,n)}function*Hp(t){for(const n of t)yield*n}function Gs(t){return Array.from(Hp(t))}function Wp(t,n){const e=new br;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function Vp(t,n=Gp){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function Gp(t,n){return[t,n]}function Pa(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Pf(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ei(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Xp(t){return t}var Zp=3,Yc=1e-6;function jp(t){return"translate("+t+",0)"}function Kp(t){return n=>+t(n)}function Qp(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function Jp(){return!this.__axis}function tg(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,u="y",h=jp;function l(d){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),g=i??(n.tickFormat?n.tickFormat.apply(n,e):Xp),m=Math.max(o,0)+f,_=n.range(),b=+_[0]+c,v=+_[_.length-1]+c,y=(n.bandwidth?Qp:Kp)(n.copy(),c),M=d.selection?d.selection():d,w=M.selectAll(".domain").data([null]),$=M.selectAll(".tick").data(p,n).order(),S=$.exit(),T=$.enter().append("g").attr("class","tick"),k=$.select("line"),x=$.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(T),k=k.merge(T.append("line").attr("stroke","currentColor").attr(u+"2",s*o)),x=x.merge(T.append("text").attr("fill","currentColor").attr(u,s*m).attr("dy","0.71em")),d!==M&&(w=w.transition(d),$=$.transition(d),k=k.transition(d),x=x.transition(d),S=S.transition(d).attr("opacity",Yc).attr("transform",function(N){return isFinite(N=y(N))?h(N+c):this.getAttribute("transform")}),T.attr("opacity",Yc).attr("transform",function(N){var P=this.parentNode.__axis;return h((P&&isFinite(P=P(N))?P:y(N))+c)})),S.remove(),w.attr("d",a?"M"+b+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+b+","+c+"H"+v),$.attr("opacity",1).attr("transform",function(N){return h(y(N)+c)}),k.attr(u+"2",s*o),x.attr(u,s*m).text(g),M.filter(Jp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=y})}return l.scale=function(d){return arguments.length?(n=d,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(d){return arguments.length?(e=d==null?[]:Array.from(d),l):e.slice()},l.tickValues=function(d){return arguments.length?(r=d==null?null:Array.from(d),l):r&&r.slice()},l.tickFormat=function(d){return arguments.length?(i=d,l):i},l.tickSize=function(d){return arguments.length?(o=a=+d,l):o},l.tickSizeInner=function(d){return arguments.length?(o=+d,l):o},l.tickSizeOuter=function(d){return arguments.length?(a=+d,l):a},l.tickPadding=function(d){return arguments.length?(f=+d,l):f},l.offset=function(d){return arguments.length?(c=+d,l):c},l}function ng(t){return tg(Zp,t)}var eg={value:()=>{}};function Xs(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new wi(e)}function wi(t){this._=t}function rg(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}wi.prototype=Xs.prototype={constructor:wi,on:function(t,n){var e=this._,r=rg(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=ig(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=Hc(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Hc(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new wi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function ig(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Hc(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=eg,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var Fa="http://www.w3.org/1999/xhtml";const Ce={svg:"http://www.w3.org/2000/svg",xhtml:Fa,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function so(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Ce.hasOwnProperty(n)?{space:Ce[n],local:t}:t}function og(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Fa&&n.documentElement.namespaceURI===Fa?n.createElement(t):n.createElementNS(e,t)}}function ag(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function lo(t){var n=so(t);return(n.local?ag:og)(n)}function fg(){}function Ff(t){return t==null?fg:function(){return this.querySelector(t)}}function cg(t){typeof t!="function"&&(t=Ff(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new Nt(r,this._parents)}function ug(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function sg(){return[]}function Zs(t){return t==null?sg:function(){return this.querySelectorAll(t)}}function lg(t){return function(){return ug(t.apply(this,arguments))}}function hg(t){typeof t=="function"?t=lg(t):t=Zs(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new Nt(r,i)}function js(t){return function(){return this.matches(t)}}function Ks(t){return function(n){return n.matches(t)}}var dg=Array.prototype.find;function pg(t){return function(){return dg.call(this.children,t)}}function gg(){return this.firstElementChild}function mg(t){return this.select(t==null?gg:pg(typeof t=="function"?t:Ks(t)))}var bg=Array.prototype.filter;function yg(){return Array.from(this.children)}function _g(t){return function(){return bg.call(this.children,t)}}function wg(t){return this.selectAll(t==null?yg:_g(typeof t=="function"?t:Ks(t)))}function vg(t){typeof t!="function"&&(t=js(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Nt(r,this._parents)}function Qs(t){return new Array(t.length)}function xg(){return new Nt(this._enter||this._groups.map(Qs),this._parents)}function Ni(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ni.prototype={constructor:Ni,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Mg(t){return function(){return t}}function $g(t,n,e,r,i,o){for(var a=0,f,c=n.length,s=o.length;a<s;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Ni(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function Tg(t,n,e,r,i,o,a){var f,c,s=new Map,u=n.length,h=o.length,l=new Array(u),d;for(f=0;f<u;++f)(c=n[f])&&(l[f]=d=a.call(c,c.__data__,f,n)+"",s.has(d)?i[f]=c:s.set(d,c));for(f=0;f<h;++f)d=a.call(t,o[f],f,o)+"",(c=s.get(d))?(r[f]=c,c.__data__=o[f],s.delete(d)):e[f]=new Ni(t,o[f]);for(f=0;f<u;++f)(c=n[f])&&s.get(l[f])===c&&(i[f]=c)}function Sg(t){return t.__data__}function Ag(t,n){if(!arguments.length)return Array.from(this,Sg);var e=n?Tg:$g,r=this._parents,i=this._groups;typeof t!="function"&&(t=Mg(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],h=i[s],l=h.length,d=Cg(t.call(u,u&&u.__data__,s,r)),p=d.length,g=f[s]=new Array(p),m=a[s]=new Array(p),_=c[s]=new Array(l);e(u,h,g,m,_,d,n);for(var b=0,v=0,y,M;b<p;++b)if(y=g[b]){for(b>=v&&(v=b+1);!(M=m[v])&&++v<p;);y._next=M||null}}return a=new Nt(a,r),a._enter=f,a._exit=c,a}function Cg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kg(){return new Nt(this._exit||this._groups.map(Qs),this._parents)}function Eg(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function Ng(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var s=e[c],u=r[c],h=s.length,l=f[c]=new Array(h),d,p=0;p<h;++p)(d=s[p]||u[p])&&(l[p]=d);for(;c<i;++c)f[c]=e[c];return new Nt(f,this._parents)}function Lg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Dg(t){t||(t=Rg);function n(h,l){return h&&l?t(h.__data__,l.__data__):!h-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),s,u=0;u<f;++u)(s=a[u])&&(c[u]=s);c.sort(n)}return new Nt(i,this._parents).order()}function Rg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Ig(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Pg(){return Array.from(this)}function Fg(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Og(){let t=0;for(const n of this)++t;return t}function qg(){return!this.node()}function Ug(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function zg(t){return function(){this.removeAttribute(t)}}function Bg(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Yg(t,n){return function(){this.setAttribute(t,n)}}function Hg(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Wg(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Vg(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Gg(t,n){var e=so(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Bg:zg:typeof n=="function"?e.local?Vg:Wg:e.local?Hg:Yg)(e,n))}function Js(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Xg(t){return function(){this.style.removeProperty(t)}}function Zg(t,n,e){return function(){this.style.setProperty(t,n,e)}}function jg(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Kg(t,n,e){return arguments.length>1?this.each((n==null?Xg:typeof n=="function"?jg:Zg)(t,n,e??"")):ke(this.node(),t)}function ke(t,n){return t.style.getPropertyValue(n)||Js(t).getComputedStyle(t,null).getPropertyValue(n)}function Qg(t){return function(){delete this[t]}}function Jg(t,n){return function(){this[t]=n}}function tm(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function nm(t,n){return arguments.length>1?this.each((n==null?Qg:typeof n=="function"?tm:Jg)(t,n)):this.node()[t]}function tl(t){return t.trim().split(/^|\s+/)}function Of(t){return t.classList||new nl(t)}function nl(t){this._node=t,this._names=tl(t.getAttribute("class")||"")}nl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function el(t,n){for(var e=Of(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function rl(t,n){for(var e=Of(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function em(t){return function(){el(this,t)}}function rm(t){return function(){rl(this,t)}}function im(t,n){return function(){(n.apply(this,arguments)?el:rl)(this,t)}}function om(t,n){var e=tl(t+"");if(arguments.length<2){for(var r=Of(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?im:n?em:rm)(e,n))}function am(){this.textContent=""}function fm(t){return function(){this.textContent=t}}function cm(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function um(t){return arguments.length?this.each(t==null?am:(typeof t=="function"?cm:fm)(t)):this.node().textContent}function sm(){this.innerHTML=""}function lm(t){return function(){this.innerHTML=t}}function hm(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function dm(t){return arguments.length?this.each(t==null?sm:(typeof t=="function"?hm:lm)(t)):this.node().innerHTML}function pm(){this.nextSibling&&this.parentNode.appendChild(this)}function gm(){return this.each(pm)}function mm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bm(){return this.each(mm)}function ym(t){var n=typeof t=="function"?t:lo(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function _m(){return null}function wm(t,n){var e=typeof t=="function"?t:lo(t),r=n==null?_m:typeof n=="function"?n:Ff(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function vm(){var t=this.parentNode;t&&t.removeChild(this)}function xm(){return this.each(vm)}function Mm(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function $m(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Tm(t){return this.select(t?$m:Mm)}function Sm(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Am(t){return function(n){t.call(this,n,this.__data__)}}function Cm(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function km(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function Em(t,n,e){return function(){var r=this.__on,i,o=Am(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function Nm(t,n,e){var r=Cm(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(f=n?Em:km,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function il(t,n,e){var r=Js(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Lm(t,n){return function(){return il(this,t,n)}}function Dm(t,n){return function(){return il(this,t,n.apply(this,arguments))}}function Rm(t,n){return this.each((typeof n=="function"?Dm:Lm)(t,n))}function*Im(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var ol=[null];function Nt(t,n){this._groups=t,this._parents=n}function Lr(){return new Nt([[document.documentElement]],ol)}function Pm(){return this}Nt.prototype=Lr.prototype={constructor:Nt,select:cg,selectAll:hg,selectChild:mg,selectChildren:wg,filter:vg,data:Ag,enter:xg,exit:kg,join:Eg,merge:Ng,selection:Pm,order:Lg,sort:Dg,call:Ig,nodes:Pg,node:Fg,size:Og,empty:qg,each:Ug,attr:Gg,style:Kg,property:nm,classed:om,text:um,html:dm,raise:gm,lower:bm,append:ym,insert:wm,remove:xm,clone:Tm,datum:Sm,on:Nm,dispatch:Rm,[Symbol.iterator]:Im};function $e(t){return typeof t=="string"?new Nt([[document.querySelector(t)]],[document.documentElement]):new Nt([[t]],ol)}function Fm(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Om(t,n){if(t=Fm(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function He(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Dr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function zn(){}var ee=.7,Ee=1/ee,Te="\\s*([+-]?\\d+)\\s*",_r="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qm=/^#([0-9a-f]{3,8})$/,Um=new RegExp(`^rgb\\(${Te},${Te},${Te}\\)$`),zm=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),Bm=new RegExp(`^rgba\\(${Te},${Te},${Te},${_r}\\)$`),Ym=new RegExp(`^rgba\\(${tn},${tn},${tn},${_r}\\)$`),Hm=new RegExp(`^hsl\\(${_r},${tn},${tn}\\)$`),Wm=new RegExp(`^hsla\\(${_r},${tn},${tn},${_r}\\)$`),Wc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};He(zn,re,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Vc,formatHex:Vc,formatHex8:Vm,formatHsl:Gm,formatRgb:Gc,toString:Gc});function Vc(){return this.rgb().formatHex()}function Vm(){return this.rgb().formatHex8()}function Gm(){return al(this).formatHsl()}function Gc(){return this.rgb().formatRgb()}function re(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=qm.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Xc(n):e===3?new mt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?ni(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?ni(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Um.exec(t))?new mt(n[1],n[2],n[3],1):(n=zm.exec(t))?new mt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Bm.exec(t))?ni(n[1],n[2],n[3],n[4]):(n=Ym.exec(t))?ni(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Hm.exec(t))?Kc(n[1],n[2]/100,n[3]/100,1):(n=Wm.exec(t))?Kc(n[1],n[2]/100,n[3]/100,n[4]):Wc.hasOwnProperty(t)?Xc(Wc[t]):t==="transparent"?new mt(NaN,NaN,NaN,0):null}function Xc(t){return new mt(t>>16&255,t>>8&255,t&255,1)}function ni(t,n,e,r){return r<=0&&(t=n=e=NaN),new mt(t,n,e,r)}function qf(t){return t instanceof zn||(t=re(t)),t?(t=t.rgb(),new mt(t.r,t.g,t.b,t.opacity)):new mt}function Pn(t,n,e,r){return arguments.length===1?qf(t):new mt(t,n,e,r??1)}function mt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}He(mt,Pn,Dr(zn,{brighter(t){return t=t==null?Ee:Math.pow(Ee,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ee:Math.pow(ee,t),new mt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mt(Qn(this.r),Qn(this.g),Qn(this.b),Li(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zc,formatHex:Zc,formatHex8:Xm,formatRgb:jc,toString:jc}));function Zc(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}`}function Xm(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}${jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function jc(){const t=Li(this.opacity);return`${t===1?"rgb(":"rgba("}${Qn(this.r)}, ${Qn(this.g)}, ${Qn(this.b)}${t===1?")":`, ${t})`}`}function Li(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jn(t){return t=Qn(t),(t<16?"0":"")+t.toString(16)}function Kc(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Bt(t,n,e,r)}function al(t){if(t instanceof Bt)return new Bt(t.h,t.s,t.l,t.opacity);if(t instanceof zn||(t=re(t)),!t)return new Bt;if(t instanceof Bt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Bt(a,f,c,t.opacity)}function Oa(t,n,e,r){return arguments.length===1?al(t):new Bt(t,n,e,r??1)}function Bt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}He(Bt,Oa,Dr(zn,{brighter(t){return t=t==null?Ee:Math.pow(Ee,t),new Bt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ee:Math.pow(ee,t),new Bt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new mt(jo(t>=240?t-240:t+120,i,r),jo(t,i,r),jo(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bt(Qc(this.h),ei(this.s),ei(this.l),Li(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Li(this.opacity);return`${t===1?"hsl(":"hsla("}${Qc(this.h)}, ${ei(this.s)*100}%, ${ei(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Qc(t){return t=(t||0)%360,t<0?t+360:t}function ei(t){return Math.max(0,Math.min(1,t||0))}function jo(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const fl=Math.PI/180,cl=180/Math.PI,Di=18,ul=.96422,sl=1,ll=.82521,hl=4/29,Se=6/29,dl=3*Se*Se,Zm=Se*Se*Se;function pl(t){if(t instanceof nn)return new nn(t.l,t.a,t.b,t.opacity);if(t instanceof bn)return gl(t);t instanceof mt||(t=qf(t));var n=ta(t.r),e=ta(t.g),r=ta(t.b),i=Ko((.2225045*n+.7168786*e+.0606169*r)/sl),o,a;return n===e&&e===r?o=a=i:(o=Ko((.4360747*n+.3850649*e+.1430804*r)/ul),a=Ko((.0139322*n+.0971045*e+.7141733*r)/ll)),new nn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function qa(t,n,e,r){return arguments.length===1?pl(t):new nn(t,n,e,r??1)}function nn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}He(nn,qa,Dr(zn,{brighter(t){return new nn(this.l+Di*(t??1),this.a,this.b,this.opacity)},darker(t){return new nn(this.l-Di*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=ul*Qo(n),t=sl*Qo(t),e=ll*Qo(e),new mt(Jo(3.1338561*n-1.6168667*t-.4906146*e),Jo(-.9787684*n+1.9161415*t+.033454*e),Jo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function Ko(t){return t>Zm?Math.pow(t,1/3):t/dl+hl}function Qo(t){return t>Se?t*t*t:dl*(t-hl)}function Jo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ta(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function jm(t){if(t instanceof bn)return new bn(t.h,t.c,t.l,t.opacity);if(t instanceof nn||(t=pl(t)),t.a===0&&t.b===0)return new bn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*cl;return new bn(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ua(t,n,e,r){return arguments.length===1?jm(t):new bn(t,n,e,r??1)}function bn(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function gl(t){if(isNaN(t.h))return new nn(t.l,0,0,t.opacity);var n=t.h*fl;return new nn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}He(bn,Ua,Dr(zn,{brighter(t){return new bn(this.h,this.c,this.l+Di*(t??1),this.opacity)},darker(t){return new bn(this.h,this.c,this.l-Di*(t??1),this.opacity)},rgb(){return gl(this).rgb()}}));var ml=-.14861,Uf=1.78277,zf=-.29227,ho=-.90649,wr=1.97294,Jc=wr*ho,tu=wr*Uf,nu=Uf*zf-ho*ml;function Km(t){if(t instanceof Jn)return new Jn(t.h,t.s,t.l,t.opacity);t instanceof mt||(t=qf(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(nu*r+Jc*n-tu*e)/(nu+Jc-tu),o=r-i,a=(wr*(e-i)-zf*o)/ho,f=Math.sqrt(a*a+o*o)/(wr*i*(1-i)),c=f?Math.atan2(a,o)*cl-120:NaN;return new Jn(c<0?c+360:c,f,i,t.opacity)}function rn(t,n,e,r){return arguments.length===1?Km(t):new Jn(t,n,e,r??1)}function Jn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}He(Jn,rn,Dr(zn,{brighter(t){return t=t==null?Ee:Math.pow(Ee,t),new Jn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ee:Math.pow(ee,t),new Jn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*fl,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new mt(255*(n+e*(ml*r+Uf*i)),255*(n+e*(zf*r+ho*i)),255*(n+e*(wr*r)),this.opacity)}}));function Qm(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function Jm(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return Qm((e-r/n)*n,a,i,o,f)}}const po=t=>()=>t;function bl(t,n){return function(e){return t+e*n}}function t2(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function Bf(t,n){var e=n-t;return e?bl(t,e>180||e<-180?e-360*Math.round(e/360):e):po(isNaN(t)?n:t)}function n2(t){return(t=+t)==1?wt:function(n,e){return e-n?t2(n,e,t):po(isNaN(n)?e:n)}}function wt(t,n){var e=n-t;return e?bl(t,e):po(isNaN(t)?n:t)}const ie=function t(n){var e=n2(n);function r(i,o){var a=e((i=Pn(i)).r,(o=Pn(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),s=wt(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r}(1);function e2(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=Pn(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var r2=e2(Jm);function i2(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function o2(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function a2(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Rr(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function f2(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function _t(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function c2(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Rr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var za=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(za.source,"g");function u2(t){return function(){return t}}function s2(t){return function(n){return t(n)+""}}function yl(t,n){var e=za.lastIndex=na.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=za.exec(t))&&(i=na.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:_t(r,i)})),e=na.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?s2(c[0].x):u2(n):(n=c.length,function(s){for(var u=0,h;u<n;++u)f[(h=c[u]).i]=h.x(s);return f.join("")})}function Rr(t,n){var e=typeof n,r;return n==null||e==="boolean"?po(n):(e==="number"?_t:e==="string"?(r=re(n))?(n=r,ie):yl:n instanceof re?ie:n instanceof Date?f2:o2(n)?i2:Array.isArray(n)?a2:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?c2:_t)(t,n)}function Yf(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var eu=180/Math.PI,Ba={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _l(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*eu,skewX:Math.atan(c)*eu,scaleX:a,scaleY:f}}var ri;function l2(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ba:_l(n.a,n.b,n.c,n.d,n.e,n.f)}function h2(t){return t==null||(ri||(ri=document.createElementNS("http://www.w3.org/2000/svg","g")),ri.setAttribute("transform",t),!(t=ri.transform.baseVal.consolidate()))?Ba:(t=t.matrix,_l(t.a,t.b,t.c,t.d,t.e,t.f))}function wl(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,h,l,d,p){if(s!==h||u!==l){var g=d.push("translate(",null,n,null,e);p.push({i:g-4,x:_t(s,h)},{i:g-2,x:_t(u,l)})}else(h||l)&&d.push("translate("+h+n+l+e)}function a(s,u,h,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:h.push(i(h)+"rotate(",null,r)-2,x:_t(s,u)})):u&&h.push(i(h)+"rotate("+u+r)}function f(s,u,h,l){s!==u?l.push({i:h.push(i(h)+"skewX(",null,r)-2,x:_t(s,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(s,u,h,l,d,p){if(s!==h||u!==l){var g=d.push(i(d)+"scale(",null,",",null,")");p.push({i:g-4,x:_t(s,h)},{i:g-2,x:_t(u,l)})}else(h!==1||l!==1)&&d.push(i(d)+"scale("+h+","+l+")")}return function(s,u){var h=[],l=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,h,l),a(s.rotate,u.rotate,h,l),f(s.skewX,u.skewX,h,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,h,l),s=u=null,function(d){for(var p=-1,g=l.length,m;++p<g;)h[(m=l[p]).i]=m.x(d);return h.join("")}}}var d2=wl(l2,"px, ","px)","deg)"),p2=wl(h2,", ",")",")");function g2(t){return function(n,e){var r=t((n=Oa(n)).h,(e=Oa(e)).h),i=wt(n.s,e.s),o=wt(n.l,e.l),a=wt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const m2=g2(Bf);function b2(t,n){var e=wt((t=qa(t)).l,(n=qa(n)).l),r=wt(t.a,n.a),i=wt(t.b,n.b),o=wt(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function y2(t){return function(n,e){var r=t((n=Ua(n)).h,(e=Ua(e)).h),i=wt(n.c,e.c),o=wt(n.l,e.l),a=wt(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const _2=y2(Bf);function vl(t){return function n(e){e=+e;function r(i,o){var a=t((i=rn(i)).h,(o=rn(o)).h),f=wt(i.s,o.s),c=wt(i.l,o.l),s=wt(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=n,r}(1)}vl(Bf);var Hf=vl(wt);function go(t,n){n===void 0&&(n=t,t=Rr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function Ht(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Ne=0,ir=0,Qe=0,xl=1e3,Ri,or,Ii=0,oe=0,mo=0,vr=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Wf(){return oe||(Ml(w2),oe=vr.now()+mo)}function w2(){oe=0}function Pi(){this._call=this._time=this._next=null}Pi.prototype=$l.prototype={constructor:Pi,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?Wf():+e)+(n==null?0:+n),!this._next&&or!==this&&(or?or._next=this:Ri=this,or=this),this._call=t,this._time=e,Ya()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ya())}};function $l(t,n,e){var r=new Pi;return r.restart(t,n,e),r}function v2(){Wf(),++Ne;for(var t=Ri,n;t;)(n=oe-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Ne}function ru(){oe=(Ii=vr.now())+mo,Ne=ir=0;try{v2()}finally{Ne=0,M2(),oe=0}}function x2(){var t=vr.now(),n=t-Ii;n>xl&&(mo-=n,Ii=t)}function M2(){for(var t,n=Ri,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ri=e);or=t,Ya(r)}function Ya(t){if(!Ne){ir&&(ir=clearTimeout(ir));var n=t-oe;n>24?(t<1/0&&(ir=setTimeout(ru,t-vr.now()-mo)),Qe&&(Qe=clearInterval(Qe))):(Qe||(Ii=vr.now(),Qe=setInterval(x2,xl)),Ne=1,Ml(ru))}}function iu(t,n,e){var r=new Pi;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var $2=Xs("start","end","cancel","interrupt"),T2=[],Tl=0,ou=1,Ha=2,vi=3,au=4,Wa=5,xi=6;function bo(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;S2(t,e,{name:n,index:r,group:i,on:$2,tween:T2,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Tl})}function Vf(t,n){var e=Gt(t,n);if(e.state>Tl)throw new Error("too late; already scheduled");return e}function fn(t,n){var e=Gt(t,n);if(e.state>vi)throw new Error("too late; already running");return e}function Gt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function S2(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=$l(o,0,e.time);function o(s){e.state=ou,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var u,h,l,d;if(e.state!==ou)return c();for(u in r)if(d=r[u],d.name===e.name){if(d.state===vi)return iu(a);d.state===au?(d.state=xi,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete r[u]):+u<n&&(d.state=xi,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete r[u])}if(iu(function(){e.state===vi&&(e.state=au,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=Ha,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Ha){for(e.state=vi,i=new Array(l=e.tween.length),u=0,h=-1;u<l;++u)(d=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++h]=d);i.length=h+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=Wa,1),h=-1,l=i.length;++h<l;)i[h].call(t,u);e.state===Wa&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=xi,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function A2(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>Ha&&r.state<Wa,r.state=xi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function C2(t){return this.each(function(){A2(this,t)})}function k2(t,n){var e,r;return function(){var i=fn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function E2(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=fn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=f;break}c===s&&i.push(f)}o.tween=i}}function N2(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=Gt(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?k2:E2)(e,t,n))}function Gf(t,n,e){var r=t._id;return t.each(function(){var i=fn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return Gt(i,r).value[n]}}function Sl(t,n){var e;return(typeof n=="number"?_t:n instanceof re?ie:(e=re(n))?(n=e,ie):yl)(t,n)}function L2(t){return function(){this.removeAttribute(t)}}function D2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function R2(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function I2(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function P2(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function F2(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function O2(t,n){var e=so(t),r=e==="transform"?p2:Sl;return this.attrTween(t,typeof n=="function"?(e.local?F2:P2)(e,r,Gf(this,"attr."+t,n)):n==null?(e.local?D2:L2)(e):(e.local?I2:R2)(e,r,n))}function q2(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function U2(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function z2(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&U2(t,o)),e}return i._value=n,i}function B2(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&q2(t,o)),e}return i._value=n,i}function Y2(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=so(t);return this.tween(e,(r.local?z2:B2)(r,n))}function H2(t,n){return function(){Vf(this,t).delay=+n.apply(this,arguments)}}function W2(t,n){return n=+n,function(){Vf(this,t).delay=n}}function V2(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?H2:W2)(n,t)):Gt(this.node(),n).delay}function G2(t,n){return function(){fn(this,t).duration=+n.apply(this,arguments)}}function X2(t,n){return n=+n,function(){fn(this,t).duration=n}}function Z2(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?G2:X2)(n,t)):Gt(this.node(),n).duration}function j2(t,n){if(typeof n!="function")throw new Error;return function(){fn(this,t).ease=n}}function K2(t){var n=this._id;return arguments.length?this.each(j2(n,t)):Gt(this.node(),n).ease}function Q2(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;fn(this,t).ease=e}}function J2(t){if(typeof t!="function")throw new Error;return this.each(Q2(this._id,t))}function tb(t){typeof t!="function"&&(t=js(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new xn(r,this._parents,this._name,this._id)}function nb(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],s=e[f],u=c.length,h=a[f]=new Array(u),l,d=0;d<u;++d)(l=c[d]||s[d])&&(h[d]=l);for(;f<r;++f)a[f]=n[f];return new xn(a,this._parents,this._name,this._id)}function eb(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function rb(t,n,e){var r,i,o=eb(n)?Vf:fn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function ib(t,n){var e=this._id;return arguments.length<2?Gt(this.node(),e).on.on(t):this.each(rb(e,t,n))}function ob(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function ab(){return this.on("end.remove",ob(this._id))}function fb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Ff(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,s=o[a]=new Array(c),u,h,l=0;l<c;++l)(u=f[l])&&(h=t.call(u,u.__data__,l,f))&&("__data__"in u&&(h.__data__=u.__data__),s[l]=h,bo(s[l],n,e,l,s,Gt(u,e)));return new xn(o,this._parents,n,e)}function cb(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Zs(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,h=0;h<s;++h)if(u=c[h]){for(var l=t.call(u,u.__data__,h,c),d,p=Gt(u,e),g=0,m=l.length;g<m;++g)(d=l[g])&&bo(d,n,e,g,l,p);o.push(l),a.push(u)}return new xn(o,a,n,e)}var ub=Lr.prototype.constructor;function sb(){return new ub(this._groups,this._parents)}function lb(t,n){var e,r,i;return function(){var o=ke(this,t),a=(this.style.removeProperty(t),ke(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function Al(t){return function(){this.style.removeProperty(t)}}function hb(t,n,e){var r,i=e+"",o;return function(){var a=ke(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function db(t,n,e){var r,i,o;return function(){var a=ke(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),ke(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function pb(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=fn(this,t),s=c.on,u=c.value[o]==null?f||(f=Al(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(a,i=u),c.on=r}}function gb(t,n,e){var r=(t+="")=="transform"?d2:Sl;return n==null?this.styleTween(t,lb(t,r)).on("end.style."+t,Al(t)):typeof n=="function"?this.styleTween(t,db(t,r,Gf(this,"style."+t,n))).each(pb(this._id,t)):this.styleTween(t,hb(t,r,n),e).on("end.style."+t,null)}function mb(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function bb(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&mb(t,a,e)),r}return o._value=n,o}function yb(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,bb(t,n,e??""))}function _b(t){return function(){this.textContent=t}}function wb(t){return function(){var n=t(this);this.textContent=n??""}}function vb(t){return this.tween("text",typeof t=="function"?wb(Gf(this,"text",t)):_b(t==null?"":t+""))}function xb(t){return function(n){this.textContent=t.call(this,n)}}function Mb(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&xb(i)),n}return r._value=t,r}function $b(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Mb(t))}function Tb(){for(var t=this._name,n=this._id,e=Cl(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)if(c=a[s]){var u=Gt(c,n);bo(c,t,e,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new xn(r,this._parents,t,e)}function Sb(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var s=fn(this,r),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),s.on=n}),i===0&&o()})}var Ab=0;function xn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Cl(){return++Ab}var sn=Lr.prototype;xn.prototype={constructor:xn,select:fb,selectAll:cb,selectChild:sn.selectChild,selectChildren:sn.selectChildren,filter:tb,merge:nb,selection:sb,transition:Tb,call:sn.call,nodes:sn.nodes,node:sn.node,size:sn.size,empty:sn.empty,each:sn.each,on:ib,attr:O2,attrTween:Y2,style:gb,styleTween:yb,text:vb,textTween:$b,remove:ab,tween:N2,delay:V2,duration:Z2,ease:K2,easeVarying:J2,end:Sb,[Symbol.iterator]:sn[Symbol.iterator]};function Cb(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var kb={time:null,delay:0,duration:250,ease:Cb};function Eb(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Nb(t){var n,e;t instanceof xn?(n=t._id,t=t._name):(n=Cl(),(e=kb).time=Wf(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&bo(c,t,n,s,a,e||Eb(c,n));return new xn(r,this._parents,t,n)}Lr.prototype.interrupt=C2;Lr.prototype.transition=Nb;const Va=Math.PI,Ga=2*Va,Xn=1e-6,Lb=Ga-Xn;function kl(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Db(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return kl;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class El{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?kl:Db(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,s=i-e,u=a-n,h=f-e,l=u*u+h*h;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>Xn)if(!(Math.abs(h*c-s*u)>Xn)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let d=r-a,p=i-f,g=c*c+s*s,m=d*d+p*p,_=Math.sqrt(g),b=Math.sqrt(l),v=o*Math.tan((Va-Math.acos((g+l-m)/(2*_*b)))/2),y=v/b,M=v/_;Math.abs(y-1)>Xn&&this._append`L${n+y*u},${e+y*h}`,this._append`A${o},${o},0,0,${+(h*d>u*p)},${this._x1=n+M*c},${this._y1=e+M*s}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=n+f,u=e+c,h=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>Xn||Math.abs(this._y1-u)>Xn)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%Ga+Ga),l>Lb?this._append`A${r},${r},0,1,${h},${n-f},${e-c}A${r},${r},0,1,${h},${this._x1=s},${this._y1=u}`:l>Xn&&this._append`A${r},${r},0,${+(l>=Va)},${h},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Kn(t=3){return new El(+t)}function Rb(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Fi(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function Le(t){return t=Fi(Math.abs(t)),t?t[1]:NaN}function Ib(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Pb(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var Fb=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xr(t){if(!(n=Fb.exec(t)))throw new Error("invalid format: "+t);var n;return new Xf({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}xr.prototype=Xf.prototype;function Xf(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Xf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ob(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Nl;function qb(t,n){var e=Fi(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Nl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Fi(t,Math.max(0,n+o-1))[0]}function fu(t,n){var e=Fi(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const cu={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Rb,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>fu(t*100,n),r:fu,s:qb,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uu(t){return t}var su=Array.prototype.map,lu=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ub(t){var n=t.grouping===void 0||t.thousands===void 0?uu:Ib(su.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?uu:Pb(su.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(h){h=xr(h);var l=h.fill,d=h.align,p=h.sign,g=h.symbol,m=h.zero,_=h.width,b=h.comma,v=h.precision,y=h.trim,M=h.type;M==="n"?(b=!0,M="g"):cu[M]||(v===void 0&&(v=12),y=!0,M="g"),(m||l==="0"&&d==="=")&&(m=!0,l="0",d="=");var w=g==="$"?e:g==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",$=g==="$"?r:/[%p]/.test(M)?a:"",S=cu[M],T=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function k(x){var N=w,P=$,R,A,I;if(M==="c")P=S(x)+P,x="";else{x=+x;var H=x<0||1/x<0;if(x=isNaN(x)?c:S(Math.abs(x),v),y&&(x=Ob(x)),H&&+x==0&&p!=="+"&&(H=!1),N=(H?p==="("?p:f:p==="-"||p==="("?"":p)+N,P=(M==="s"?lu[8+Nl/3]:"")+P+(H&&p==="("?")":""),T){for(R=-1,A=x.length;++R<A;)if(I=x.charCodeAt(R),48>I||I>57){P=(I===46?i+x.slice(R+1):x.slice(R))+P,x=x.slice(0,R);break}}}b&&!m&&(x=n(x,1/0));var B=N.length+x.length+P.length,W=B<_?new Array(_-B+1).join(l):"";switch(b&&m&&(x=n(W+x,W.length?_-P.length:1/0),W=""),d){case"<":x=N+x+P+W;break;case"=":x=N+W+x+P;break;case"^":x=W.slice(0,B=W.length>>1)+N+x+P+W.slice(B);break;default:x=W+N+x+P;break}return o(x)}return k.toString=function(){return h+""},k}function u(h,l){var d=s((h=xr(h),h.type="f",h)),p=Math.max(-8,Math.min(8,Math.floor(Le(l)/3)))*3,g=Math.pow(10,-p),m=lu[8+p/3];return function(_){return d(g*_)+m}}return{format:s,formatPrefix:u}}var ii,We,Ll;zb({thousands:",",grouping:[3],currency:["$",""]});function zb(t){return ii=Ub(t),We=ii.format,Ll=ii.formatPrefix,ii}function Bb(t){return Math.max(0,-Le(Math.abs(t)))}function Yb(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Le(n)/3)))*3-Le(Math.abs(t)))}function Hb(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,Le(n)-Le(t))+1}var j=1e-6,Dl=1e-12,J=Math.PI,st=J/2,hu=J/4,Lt=J*2,$t=180/J,ut=J/180,rt=Math.abs,Ve=Math.atan,Mn=Math.atan2,Q=Math.cos,Rl=Math.exp,Oi=Math.log,ea=Math.pow,G=Math.sin,Pt=Math.sign||function(t){return t>0?1:t<0?-1:0},Ct=Math.sqrt,Zf=Math.tan;function Il(t){return t>1?0:t<-1?J:Math.acos(t)}function Ut(t){return t>1?st:t<-1?-st:Math.asin(t)}function Ft(){}function qi(t,n){t&&pu.hasOwnProperty(t.type)&&pu[t.type](t,n)}var du={Feature:function(t,n){qi(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)qi(e[r].geometry,n)}},pu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Xa(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Xa(e[r],n,0)},Polygon:function(t,n){gu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)gu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)qi(e[r],n)}};function Xa(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function gu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Xa(t[e],n,1);n.polygonEnd()}function Zn(t,n){t&&du.hasOwnProperty(t.type)?du[t.type](t,n):qi(t,n)}function Za(t){return[Mn(t[1],t[0]),Ut(t[2])]}function De(t){var n=t[0],e=t[1],r=Q(e);return[r*Q(n),r*G(n),G(e)]}function oi(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ui(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function ra(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ai(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ja(t){var n=Ct(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Ka(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Qa(t,n){return rt(t)>J&&(t-=Math.round(t/Lt)*Lt),[t,n]}Qa.invert=Qa;function Pl(t,n,e){return(t%=Lt)?n||e?Ka(bu(t),yu(n,e)):bu(t):n||e?yu(n,e):Qa}function mu(t){return function(n,e){return n+=t,rt(n)>J&&(n-=Math.round(n/Lt)*Lt),[n,e]}}function bu(t){var n=mu(t);return n.invert=mu(-t),n}function yu(t,n){var e=Q(t),r=G(t),i=Q(n),o=G(n);function a(f,c){var s=Q(c),u=Q(f)*s,h=G(f)*s,l=G(c),d=l*e+u*r;return[Mn(h*i-d*o,u*e-l*r),Ut(d*i+h*o)]}return a.invert=function(f,c){var s=Q(c),u=Q(f)*s,h=G(f)*s,l=G(c),d=l*i-h*o;return[Mn(h*i+l*o,u*e+d*r),Ut(d*e-u*r)]},a}function Wb(t){t=Pl(t[0]*ut,t[1]*ut,t.length>2?t[2]*ut:0);function n(e){return e=t(e[0]*ut,e[1]*ut),e[0]*=$t,e[1]*=$t,e}return n.invert=function(e){return e=t.invert(e[0]*ut,e[1]*ut),e[0]*=$t,e[1]*=$t,e},n}function Vb(t,n,e,r,i,o){if(e){var a=Q(n),f=G(n),c=r*e;i==null?(i=n+r*Lt,o=n-c/2):(i=_u(a,i),o=_u(a,o),(r>0?i<o:i>o)&&(i+=r*Lt));for(var s,u=i;r>0?u>o:u<o;u-=c)s=Za([a,-f*Q(u),-f*G(u)]),t.point(s[0],s[1])}}function _u(t,n){n=De(n),n[0]-=t,ja(n);var e=Il(-n[1]);return((-n[2]<0?-e:e)+Lt-j)%Lt}function Fl(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Ft,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Mi(t,n){return rt(t[0]-n[0])<j&&rt(t[1]-n[1])<j}function fi(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Ol(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((g=p.length-1)<=0)){var g,m=p[0],_=p[g],b;if(Mi(m,_)){if(!m[2]&&!_[2]){for(i.lineStart(),f=0;f<g;++f)i.point((m=p[f])[0],m[1]);i.lineEnd();return}_[0]+=2*j}o.push(b=new fi(m,p,null,!0)),a.push(b.o=new fi(m,null,b,!1)),o.push(b=new fi(_,p,null,!1)),a.push(b.o=new fi(_,null,b,!0))}}),!!o.length){for(a.sort(n),wu(o),wu(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var s=o[0],u,h;;){for(var l=s,d=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(d)for(f=0,c=u.length;f<c;++f)i.point((h=u[f])[0],h[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(d)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((h=u[f])[0],h[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,d=!d}while(!l.v);i.lineEnd()}}}function wu(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ia(t){return rt(t[0])<=J?t[0]:Pt(t[0])*((rt(t[0])+J)%Lt-J)}function Gb(t,n){var e=ia(n),r=n[1],i=G(r),o=[G(e),-Q(e),0],a=0,f=0,c=new ne;i===1?r=st+j:i===-1&&(r=-st-j);for(var s=0,u=t.length;s<u;++s)if(l=(h=t[s]).length)for(var h,l,d=h[l-1],p=ia(d),g=d[1]/2+hu,m=G(g),_=Q(g),b=0;b<l;++b,p=y,m=w,_=$,d=v){var v=h[b],y=ia(v),M=v[1]/2+hu,w=G(M),$=Q(M),S=y-p,T=S>=0?1:-1,k=T*S,x=k>J,N=m*w;if(c.add(Mn(N*T*G(k),_*$+N*Q(k))),a+=x?S+T*Lt:S,x^p>=e^y>=e){var P=Ui(De(d),De(v));ja(P);var R=Ui(o,P);ja(R);var A=(x^S>=0?-1:1)*Ut(R[2]);(r>A||r===A&&(P[0]||P[1]))&&(f+=x^S>=0?1:-1)}}return(a<-j||a<j&&c<-Dl)^f&1}function ql(t,n,e,r){return function(i){var o=n(i),a=Fl(),f=n(a),c=!1,s,u,h,l={point:d,lineStart:g,lineEnd:m,polygonStart:function(){l.point=_,l.lineStart=b,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=d,l.lineStart=g,l.lineEnd=m,u=Gs(u);var y=Gb(s,r);u.length?(c||(i.polygonStart(),c=!0),Ol(u,Zb,y,e,i)):y&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(y,M){t(y,M)&&i.point(y,M)}function p(y,M){o.point(y,M)}function g(){l.point=p,o.lineStart()}function m(){l.point=d,o.lineEnd()}function _(y,M){h.push([y,M]),f.point(y,M)}function b(){f.lineStart(),h=[]}function v(){_(h[0][0],h[0][1]),f.lineEnd();var y=f.clean(),M=a.result(),w,$=M.length,S,T,k;if(h.pop(),s.push(h),h=null,!!$){if(y&1){if(T=M[0],(S=T.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),w=0;w<S;++w)i.point((k=T[w])[0],k[1]);i.lineEnd()}return}$>1&&y&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(Xb))}}return l}}function Xb(t){return t.length>1}function Zb(t,n){return((t=t.x)[0]<0?t[1]-st-j:st-t[1])-((n=n.x)[0]<0?n[1]-st-j:st-n[1])}const vu=ql(function(){return!0},jb,Qb,[-J,-st]);function jb(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?J:-J,c=rt(o-n);rt(c-J)<j?(t.point(n,e=(e+a)/2>0?st:-st),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=J&&(rt(n-r)<j&&(n-=r*j),rt(o-f)<j&&(o-=f*j),e=Kb(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function Kb(t,n,e,r){var i,o,a=G(t-e);return rt(a)>j?Ve((G(n)*(o=Q(r))*G(e)-G(r)*(i=Q(n))*G(t))/(i*o*a)):(n+r)/2}function Qb(t,n,e,r){var i;if(t==null)i=e*st,r.point(-J,i),r.point(0,i),r.point(J,i),r.point(J,0),r.point(J,-i),r.point(0,-i),r.point(-J,-i),r.point(-J,0),r.point(-J,i);else if(rt(t[0]-n[0])>j){var o=t[0]<n[0]?J:-J;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function Jb(t){var n=Q(t),e=2*ut,r=n>0,i=rt(n)>j;function o(u,h,l,d){Vb(d,t,e,l,u,h)}function a(u,h){return Q(u)*Q(h)>n}function f(u){var h,l,d,p,g;return{lineStart:function(){p=d=!1,g=1},point:function(m,_){var b=[m,_],v,y=a(m,_),M=r?y?0:s(m,_):y?s(m+(m<0?J:-J),_):0;if(!h&&(p=d=y)&&u.lineStart(),y!==d&&(v=c(h,b),(!v||Mi(h,v)||Mi(b,v))&&(b[2]=1)),y!==d)g=0,y?(u.lineStart(),v=c(b,h),u.point(v[0],v[1])):(v=c(h,b),u.point(v[0],v[1],2),u.lineEnd()),h=v;else if(i&&h&&r^y){var w;!(M&l)&&(w=c(b,h,!0))&&(g=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}y&&(!h||!Mi(h,b))&&u.point(b[0],b[1]),h=b,d=y,l=M},lineEnd:function(){d&&u.lineEnd(),h=null},clean:function(){return g|(p&&d)<<1}}}function c(u,h,l){var d=De(u),p=De(h),g=[1,0,0],m=Ui(d,p),_=oi(m,m),b=m[0],v=_-b*b;if(!v)return!l&&u;var y=n*_/v,M=-n*b/v,w=Ui(g,m),$=ai(g,y),S=ai(m,M);ra($,S);var T=w,k=oi($,T),x=oi(T,T),N=k*k-x*(oi($,$)-1);if(!(N<0)){var P=Ct(N),R=ai(T,(-k-P)/x);if(ra(R,$),R=Za(R),!l)return R;var A=u[0],I=h[0],H=u[1],B=h[1],W;I<A&&(W=A,A=I,I=W);var L=I-A,F=rt(L-J)<j,D=F||L<j;if(!F&&B<H&&(W=H,H=B,B=W),D?F?H+B>0^R[1]<(rt(R[0]-A)<j?H:B):H<=R[1]&&R[1]<=B:L>J^(A<=R[0]&&R[0]<=I)){var q=ai(T,(-k+P)/x);return ra(q,$),[R,Za(q)]}}}function s(u,h){var l=r?t:J-t,d=0;return u<-l?d|=1:u>l&&(d|=2),h<-l?d|=4:h>l&&(d|=8),d}return ql(a,f,o,r?[0,-t]:[-J,t-J])}function ty(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],s=n[1],u=0,h=1,l=c-a,d=s-f,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<h&&(h=p)}else if(l>0){if(p>h)return;p>u&&(u=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>h)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<h&&(h=p)}if(p=r-f,!(!d&&p>0)){if(p/=d,d<0){if(p<u)return;p<h&&(h=p)}else if(d>0){if(p>h)return;p>u&&(u=p)}if(p=o-f,!(!d&&p<0)){if(p/=d,d<0){if(p>h)return;p>u&&(u=p)}else if(d>0){if(p<u)return;p<h&&(h=p)}return u>0&&(t[0]=a+u*l,t[1]=f+u*d),h<1&&(n[0]=a+h*l,n[1]=f+h*d),!0}}}}}var ar=1e9,ci=-ar;function Ul(t,n,e,r){function i(s,u){return t<=s&&s<=e&&n<=u&&u<=r}function o(s,u,h,l){var d=0,p=0;if(s==null||(d=a(s,h))!==(p=a(u,h))||c(s,u)<0^h>0)do l.point(d===0||d===3?t:e,d>1?r:n);while((d=(d+h+4)%4)!==p);else l.point(u[0],u[1])}function a(s,u){return rt(s[0]-t)<j?u>0?0:3:rt(s[0]-e)<j?u>0?2:1:rt(s[1]-n)<j?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var h=a(s,1),l=a(u,1);return h!==l?h-l:h===0?u[1]-s[1]:h===1?s[0]-u[0]:h===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,h=Fl(),l,d,p,g,m,_,b,v,y,M,w,$={point:S,lineStart:N,lineEnd:P,polygonStart:k,polygonEnd:x};function S(A,I){i(A,I)&&u.point(A,I)}function T(){for(var A=0,I=0,H=d.length;I<H;++I)for(var B=d[I],W=1,L=B.length,F=B[0],D,q,tt=F[0],nt=F[1];W<L;++W)D=tt,q=nt,F=B[W],tt=F[0],nt=F[1],q<=r?nt>r&&(tt-D)*(r-q)>(nt-q)*(t-D)&&++A:nt<=r&&(tt-D)*(r-q)<(nt-q)*(t-D)&&--A;return A}function k(){u=h,l=[],d=[],w=!0}function x(){var A=T(),I=w&&A,H=(l=Gs(l)).length;(I||H)&&(s.polygonStart(),I&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),H&&Ol(l,f,A,o,s),s.polygonEnd()),u=s,l=d=p=null}function N(){$.point=R,d&&d.push(p=[]),M=!0,y=!1,b=v=NaN}function P(){l&&(R(g,m),_&&y&&h.rejoin(),l.push(h.result())),$.point=S,y&&u.lineEnd()}function R(A,I){var H=i(A,I);if(d&&p.push([A,I]),M)g=A,m=I,_=H,M=!1,H&&(u.lineStart(),u.point(A,I));else if(H&&y)u.point(A,I);else{var B=[b=Math.max(ci,Math.min(ar,b)),v=Math.max(ci,Math.min(ar,v))],W=[A=Math.max(ci,Math.min(ar,A)),I=Math.max(ci,Math.min(ar,I))];ty(B,W,t,n,e,r)?(y||(u.lineStart(),u.point(B[0],B[1])),u.point(W[0],W[1]),H||u.lineEnd(),w=!1):H&&(u.lineStart(),u.point(A,I),w=!1)}b=A,v=I,y=H}return $}}const Ja=t=>t;var oa=new ne,tf=new ne,zl,Bl,nf,ef,mn={point:Ft,lineStart:Ft,lineEnd:Ft,polygonStart:function(){mn.lineStart=ny,mn.lineEnd=ry},polygonEnd:function(){mn.lineStart=mn.lineEnd=mn.point=Ft,oa.add(rt(tf)),tf=new ne},result:function(){var t=oa/2;return oa=new ne,t}};function ny(){mn.point=ey}function ey(t,n){mn.point=Yl,zl=nf=t,Bl=ef=n}function Yl(t,n){tf.add(ef*t-nf*n),nf=t,ef=n}function ry(){Yl(zl,Bl)}var Re=1/0,zi=Re,Mr=-Re,Bi=Mr,Yi={point:iy,lineStart:Ft,lineEnd:Ft,polygonStart:Ft,polygonEnd:Ft,result:function(){var t=[[Re,zi],[Mr,Bi]];return Mr=Bi=-(zi=Re=1/0),t}};function iy(t,n){t<Re&&(Re=t),t>Mr&&(Mr=t),n<zi&&(zi=n),n>Bi&&(Bi=n)}var rf=0,of=0,fr=0,Hi=0,Wi=0,xe=0,af=0,ff=0,cr=0,Hl,Wl,Kt,Qt,It={point:ae,lineStart:xu,lineEnd:Mu,polygonStart:function(){It.lineStart=fy,It.lineEnd=cy},polygonEnd:function(){It.point=ae,It.lineStart=xu,It.lineEnd=Mu},result:function(){var t=cr?[af/cr,ff/cr]:xe?[Hi/xe,Wi/xe]:fr?[rf/fr,of/fr]:[NaN,NaN];return rf=of=fr=Hi=Wi=xe=af=ff=cr=0,t}};function ae(t,n){rf+=t,of+=n,++fr}function xu(){It.point=oy}function oy(t,n){It.point=ay,ae(Kt=t,Qt=n)}function ay(t,n){var e=t-Kt,r=n-Qt,i=Ct(e*e+r*r);Hi+=i*(Kt+t)/2,Wi+=i*(Qt+n)/2,xe+=i,ae(Kt=t,Qt=n)}function Mu(){It.point=ae}function fy(){It.point=uy}function cy(){Vl(Hl,Wl)}function uy(t,n){It.point=Vl,ae(Hl=Kt=t,Wl=Qt=n)}function Vl(t,n){var e=t-Kt,r=n-Qt,i=Ct(e*e+r*r);Hi+=i*(Kt+t)/2,Wi+=i*(Qt+n)/2,xe+=i,i=Qt*t-Kt*n,af+=i*(Kt+t),ff+=i*(Qt+n),cr+=i*3,ae(Kt=t,Qt=n)}function Gl(t){this._context=t}Gl.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Lt);break}}},result:Ft};var cf=new ne,aa,Xl,Zl,ur,sr,$r={point:Ft,lineStart:function(){$r.point=sy},lineEnd:function(){aa&&jl(Xl,Zl),$r.point=Ft},polygonStart:function(){aa=!0},polygonEnd:function(){aa=null},result:function(){var t=+cf;return cf=new ne,t}};function sy(t,n){$r.point=jl,Xl=ur=t,Zl=sr=n}function jl(t,n){ur-=t,sr-=n,cf.add(Ct(ur*ur+sr*sr)),ur=t,sr=n}let $u,Vi,Tu,Su;class Au{constructor(n){this._append=n==null?Kl:ly(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Tu||this._append!==Vi){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Tu=r,Vi=this._append,Su=this._,this._=i}this._+=Su;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Kl(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function ly(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Kl;if(n!==$u){const e=10**n;$u=n,Vi=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return Vi}function yo(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),Zn(f,i(o))),o.result()}return a.area=function(f){return Zn(f,i(mn)),mn.result()},a.measure=function(f){return Zn(f,i($r)),$r.result()},a.bounds=function(f){return Zn(f,i(Yi)),Yi.result()},a.centroid=function(f){return Zn(f,i(It)),It.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,Ja):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new Au(e)):new Gl(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new Au(e)),a},a.projection(t).digits(e).context(n)}function uf(t){return{stream:_o(t)}}function _o(t){return function(n){var e=new sf;for(var r in t)e[r]=t[r];return e.stream=n,e}}function sf(){}sf.prototype={constructor:sf,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jf(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),Zn(e,t.stream(Yi)),n(Yi.result()),r!=null&&t.clipExtent(r),t}function Kf(t,n,e){return jf(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function Ql(t,n,e){return Kf(t,[[0,0],n],e)}function Jl(t,n,e){return jf(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function th(t,n,e){return jf(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var Cu=16,hy=Q(30*ut);function ku(t,n){return+n?py(t,n):dy(t)}function dy(t){return _o({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function py(t,n){function e(r,i,o,a,f,c,s,u,h,l,d,p,g,m){var _=s-r,b=u-i,v=_*_+b*b;if(v>4*n&&g--){var y=a+l,M=f+d,w=c+p,$=Ct(y*y+M*M+w*w),S=Ut(w/=$),T=rt(rt(w)-1)<j||rt(o-h)<j?(o+h)/2:Mn(M,y),k=t(T,S),x=k[0],N=k[1],P=x-r,R=N-i,A=b*P-_*R;(A*A/v>n||rt((_*P+b*R)/v-.5)>.3||a*l+f*d+c*p<hy)&&(e(r,i,o,a,f,c,x,N,T,y/=$,M/=$,w,g,m),m.point(x,N),e(x,N,T,y,M,w,s,u,h,l,d,p,g,m))}}return function(r){var i,o,a,f,c,s,u,h,l,d,p,g,m={point:_,lineStart:b,lineEnd:y,polygonStart:function(){r.polygonStart(),m.lineStart=M},polygonEnd:function(){r.polygonEnd(),m.lineStart=b}};function _(S,T){S=t(S,T),r.point(S[0],S[1])}function b(){h=NaN,m.point=v,r.lineStart()}function v(S,T){var k=De([S,T]),x=t(S,T);e(h,l,u,d,p,g,h=x[0],l=x[1],u=S,d=k[0],p=k[1],g=k[2],Cu,r),r.point(h,l)}function y(){m.point=_,r.lineEnd()}function M(){b(),m.point=w,m.lineEnd=$}function w(S,T){v(i=S,T),o=h,a=l,f=d,c=p,s=g,m.point=v}function $(){e(h,l,u,d,p,g,o,a,i,f,c,s,Cu,r),m.lineEnd=y,y()}return m}}var gy=_o({point:function(t,n){this.stream.point(t*ut,n*ut)}});function my(t){return _o({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function by(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function Eu(t,n,e,r,i,o){if(!o)return by(t,n,e,r,i);var a=Q(o),f=G(o),c=a*t,s=f*t,u=a/t,h=f/t,l=(f*e-a*n)/t,d=(f*n+a*e)/t;function p(g,m){return g*=r,m*=i,[c*g-s*m+n,e-s*g-c*m]}return p.invert=function(g,m){return[r*(u*g-h*m+l),i*(d-h*g-u*m)]},p}function Bn(t){return nh(function(){return t})()}function nh(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,s=0,u,h=0,l=1,d=1,p=null,g=vu,m=null,_,b,v,y=Ja,M=.5,w,$,S,T,k;function x(A){return S(A[0]*ut,A[1]*ut)}function N(A){return A=S.invert(A[0],A[1]),A&&[A[0]*$t,A[1]*$t]}x.stream=function(A){return T&&k===A?T:T=gy(my(u)(g(w(y(k=A)))))},x.preclip=function(A){return arguments.length?(g=A,p=void 0,R()):g},x.postclip=function(A){return arguments.length?(y=A,m=_=b=v=null,R()):y},x.clipAngle=function(A){return arguments.length?(g=+A?Jb(p=A*ut):(p=null,vu),R()):p*$t},x.clipExtent=function(A){return arguments.length?(y=A==null?(m=_=b=v=null,Ja):Ul(m=+A[0][0],_=+A[0][1],b=+A[1][0],v=+A[1][1]),R()):m==null?null:[[m,_],[b,v]]},x.scale=function(A){return arguments.length?(e=+A,P()):e},x.translate=function(A){return arguments.length?(r=+A[0],i=+A[1],P()):[r,i]},x.center=function(A){return arguments.length?(o=A[0]%360*ut,a=A[1]%360*ut,P()):[o*$t,a*$t]},x.rotate=function(A){return arguments.length?(f=A[0]%360*ut,c=A[1]%360*ut,s=A.length>2?A[2]%360*ut:0,P()):[f*$t,c*$t,s*$t]},x.angle=function(A){return arguments.length?(h=A%360*ut,P()):h*$t},x.reflectX=function(A){return arguments.length?(l=A?-1:1,P()):l<0},x.reflectY=function(A){return arguments.length?(d=A?-1:1,P()):d<0},x.precision=function(A){return arguments.length?(w=ku($,M=A*A),R()):Ct(M)},x.fitExtent=function(A,I){return Kf(x,A,I)},x.fitSize=function(A,I){return Ql(x,A,I)},x.fitWidth=function(A,I){return Jl(x,A,I)},x.fitHeight=function(A,I){return th(x,A,I)};function P(){var A=Eu(e,0,0,l,d,h).apply(null,n(o,a)),I=Eu(e,r-A[0],i-A[1],l,d,h);return u=Pl(f,c,s),$=Ka(n,I),S=Ka(u,$),w=ku($,M),R()}function R(){return T=k=null,x}return function(){return n=t.apply(this,arguments),x.invert=n.invert&&N,P()}}function Qf(t){var n=0,e=J/3,r=nh(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*ut,e=o[1]*ut):[n*$t,e*$t]},i}function yy(t){var n=Q(t);function e(r,i){return[r*n,G(i)/n]}return e.invert=function(r,i){return[r/n,Ut(i*n)]},e}function _y(t,n){var e=G(t),r=(e+G(n))/2;if(rt(r)<j)return yy(t);var i=1+e*(2*r-e),o=Ct(i)/r;function a(f,c){var s=Ct(i-2*r*G(c))/r;return[s*G(f*=r),o-s*Q(f)]}return a.invert=function(f,c){var s=o-c,u=Mn(f,rt(s))*Pt(s);return s*r<0&&(u-=J*Pt(f)*Pt(s)),[u/r,Ut((i-(f*f+s*s)*r*r)/(2*r))]},a}function Gi(){return Qf(_y).scale(155.424).center([0,33.6442])}function eh(){return Gi().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function wy(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function vy(){var t,n,e=eh(),r,i=Gi().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Gi().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,d){c=[l,d]}};function u(l){var d=l[0],p=l[1];return c=null,r.point(d,p),c||(o.point(d,p),c)||(f.point(d,p),c)}u.invert=function(l){var d=e.scale(),p=e.translate(),g=(l[0]-p[0])/d,m=(l[1]-p[1])/d;return(m>=.12&&m<.234&&g>=-.425&&g<-.214?i:m>=.166&&m<.234&&g>=-.214&&g<-.115?a:e).invert(l)},u.stream=function(l){return t&&n===l?t:t=wy([e.stream(n=l),i.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),h()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var d=e.scale(),p=+l[0],g=+l[1];return r=e.translate(l).clipExtent([[p-.455*d,g-.238*d],[p+.455*d,g+.238*d]]).stream(s),o=i.translate([p-.307*d,g+.201*d]).clipExtent([[p-.425*d+j,g+.12*d+j],[p-.214*d-j,g+.234*d-j]]).stream(s),f=a.translate([p-.205*d,g+.212*d]).clipExtent([[p-.214*d+j,g+.166*d+j],[p-.115*d-j,g+.234*d-j]]).stream(s),h()},u.fitExtent=function(l,d){return Kf(u,l,d)},u.fitSize=function(l,d){return Ql(u,l,d)},u.fitWidth=function(l,d){return Jl(u,l,d)},u.fitHeight=function(l,d){return th(u,l,d)};function h(){return t=n=null,u}return u.scale(1070)}function rh(t){return function(n,e){var r=Q(n),i=Q(e),o=t(r*i);return o===1/0?[2,0]:[o*i*G(n),o*G(e)]}}function Ir(t){return function(n,e){var r=Ct(n*n+e*e),i=t(r),o=G(i),a=Q(i);return[Mn(n*o,r*a),Ut(r&&e*o/r)]}}var ih=rh(function(t){return Ct(2/(1+t))});ih.invert=Ir(function(t){return 2*Ut(t/2)});function xy(){return Bn(ih).scale(124.75).clipAngle(180-.001)}var oh=rh(function(t){return(t=Il(t))&&t/G(t)});oh.invert=Ir(function(t){return t});function My(){return Bn(oh).scale(79.4188).clipAngle(180-.001)}function wo(t,n){return[t,Oi(Zf((st+n)/2))]}wo.invert=function(t,n){return[t,2*Ve(Rl(n))-st]};function $y(){return ah(wo).scale(961/Lt)}function ah(t){var n=Bn(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,s;n.scale=function(h){return arguments.length?(r(h),u()):r()},n.translate=function(h){return arguments.length?(i(h),u()):i()},n.center=function(h){return arguments.length?(e(h),u()):e()},n.clipExtent=function(h){return arguments.length?(h==null?a=f=c=s=null:(a=+h[0][0],f=+h[0][1],c=+h[1][0],s=+h[1][1]),u()):a==null?null:[[a,f],[c,s]]};function u(){var h=J*r(),l=n(Wb(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-h,l[1]-h],[l[0]+h,l[1]+h]]:t===wo?[[Math.max(l[0]-h,a),f],[Math.min(l[0]+h,c),s]]:[[a,Math.max(l[1]-h,f)],[c,Math.min(l[1]+h,s)]])}return u()}function ui(t){return Zf((st+t)/2)}function Ty(t,n){var e=Q(t),r=t===n?G(t):Oi(e/Q(n))/Oi(ui(n)/ui(t)),i=e*ea(ui(t),r)/r;if(!r)return wo;function o(a,f){i>0?f<-st+j&&(f=-st+j):f>st-j&&(f=st-j);var c=i/ea(ui(f),r);return[c*G(r*a),i-c*Q(r*a)]}return o.invert=function(a,f){var c=i-f,s=Pt(r)*Ct(a*a+c*c),u=Mn(a,rt(c))*Pt(c);return c*r<0&&(u-=J*Pt(a)*Pt(c)),[u/r,2*Ve(ea(i/s,1/r))-st]},o}function Sy(){return Qf(Ty).scale(109.5).parallels([30,30])}function Xi(t,n){return[t,n]}Xi.invert=Xi;function Ay(){return Bn(Xi).scale(152.63)}function Cy(t,n){var e=Q(t),r=t===n?G(t):(e-Q(n))/(n-t),i=e/r+t;if(rt(r)<j)return Xi;function o(a,f){var c=i-f,s=r*a;return[c*G(s),i-c*Q(s)]}return o.invert=function(a,f){var c=i-f,s=Mn(a,rt(c))*Pt(c);return c*r<0&&(s-=J*Pt(a)*Pt(c)),[s/r,i-Pt(r)*Ct(a*a+c*c)]},o}function ky(){return Qf(Cy).scale(131.154).center([0,13.9389])}var dr=1.340264,pr=-.081106,gr=893e-6,mr=.003796,Zi=Ct(3)/2,Ey=12;function fh(t,n){var e=Ut(Zi*G(n)),r=e*e,i=r*r*r;return[t*Q(e)/(Zi*(dr+3*pr*r+i*(7*gr+9*mr*r))),e*(dr+pr*r+i*(gr+mr*r))]}fh.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<Ey&&(f=e*(dr+pr*r+i*(gr+mr*r))-n,c=dr+3*pr*r+i*(7*gr+9*mr*r),e-=a=f/c,r=e*e,i=r*r*r,!(rt(a)<Dl));++o);return[Zi*t*(dr+3*pr*r+i*(7*gr+9*mr*r))/Q(e),Ut(G(e)/Zi)]};function Ny(){return Bn(fh).scale(177.158)}function ch(t,n){var e=Q(n),r=Q(t)*e;return[e*G(t)/r,G(n)/r]}ch.invert=Ir(Ve);function Ly(){return Bn(ch).scale(144.049).clipAngle(60)}function uh(t,n){return[Q(n)*G(t),G(n)]}uh.invert=Ir(Ut);function Dy(){return Bn(uh).scale(249.5).clipAngle(90+j)}function sh(t,n){var e=Q(n),r=1+Q(t)*e;return[e*G(t)/r,G(n)/r]}sh.invert=Ir(function(t){return 2*Ve(t)});function Ry(){return Bn(sh).scale(250).clipAngle(142)}function lh(t,n){return[Oi(Zf((st+n)/2)),-t]}lh.invert=function(t,n){return[-n,2*Ve(Rl(t))-st]};function Iy(){var t=ah(lh),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function cn(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function vo(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const lf=Symbol("implicit");function Jf(){var t=new br,n=[],e=[],r=lf;function i(o){let a=t.get(o);if(a===void 0){if(r!==lf)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new br;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Jf(n,e).unknown(r)},cn.apply(i,arguments),i}function xo(){var t=Jf().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,s=0,u=.5;delete t.unknown;function h(){var l=n().length,d=i<r,p=d?i:r,g=d?r:i;o=(g-p)/Math.max(1,l-c+s*2),f&&(o=Math.floor(o)),p+=(g-p-o*(l-c))*u,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var m=Pa(l).map(function(_){return p+o*_});return e(d?m.reverse():m)}return t.domain=function(l){return arguments.length?(n(l),h()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,h()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,h()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),h()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),h()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,h()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),h()):u},t.copy=function(){return xo(n(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},cn.apply(h(),arguments)}function hh(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return hh(n())},t}function Py(){return hh(xo.apply(null,arguments).paddingInner(1))}function Fy(t){return function(){return t}}function hf(t){return+t}var Nu=[0,1];function Ot(t){return t}function df(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:Fy(isNaN(n)?NaN:.5)}function Oy(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function qy(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=df(i,r),o=e(a,o)):(r=df(r,i),o=e(o,a)),function(f){return o(r(f))}}function Uy(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=df(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=Rf(t,f,1,r)-1;return o[c](i[c](f))}}function Pr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Mo(){var t=Nu,n=Nu,e=Rr,r,i,o,a=Ot,f,c,s;function u(){var l=Math.min(t.length,n.length);return a!==Ot&&(a=Oy(t[0],t[l-1])),f=l>2?Uy:qy,c=s=null,h}function h(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),n,e)))(r(a(l)))}return h.invert=function(l){return a(i((s||(s=f(n,t.map(r),_t)))(l)))},h.domain=function(l){return arguments.length?(t=Array.from(l,hf),u()):t.slice()},h.range=function(l){return arguments.length?(n=Array.from(l),u()):n.slice()},h.rangeRound=function(l){return n=Array.from(l),e=Yf,u()},h.clamp=function(l){return arguments.length?(a=l?!0:Ot,u()):a!==Ot},h.interpolate=function(l){return arguments.length?(e=l,u()):e},h.unknown=function(l){return arguments.length?(o=l,h):o},function(l,d){return r=l,i=d,u()}}function dh(){return Mo()(Ot,Ot)}function zy(t,n,e,r){var i=Ra(t,n,e),o;switch(r=xr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=Yb(i,a))&&(r.precision=o),Ll(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Hb(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Bb(i))&&(r.precision=o-(r.type==="%")*2);break}}return We(r)}function Fr(t){var n=t.domain;return t.ticks=function(e){var r=n();return Ci(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return zy(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);u-- >0;){if(s=Da(a,f,e),s===c)return r[i]=a,r[o]=f,n(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function tc(){var t=dh();return t.copy=function(){return Pr(t,tc())},cn.apply(t,arguments),Fr(t)}function ph(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,hf),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return ph(t).unknown(n)},t=arguments.length?Array.from(t,hf):[0,1],Fr(e)}function gh(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function Lu(t){return Math.log(t)}function Du(t){return Math.exp(t)}function By(t){return-Math.log(-t)}function Yy(t){return-Math.exp(-t)}function Hy(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Wy(t){return t===10?Hy:t===Math.E?Math.exp:n=>Math.pow(t,n)}function Vy(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function Ru(t){return(n,e)=>-t(-n,e)}function mh(t){const n=t(Lu,Du),e=n.domain;let r=10,i,o;function a(){return i=Vy(r),o=Wy(r),e()[0]<0?(i=Ru(i),o=Ru(o),t(By,Yy)):t(Lu,Du),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const h=u<s;h&&([s,u]=[u,s]);let l=i(s),d=i(u),p,g;const m=f==null?10:+f;let _=[];if(!(r%1)&&d-l<m){if(l=Math.floor(l),d=Math.ceil(d),s>0){for(;l<=d;++l)for(p=1;p<r;++p)if(g=l<0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;_.push(g)}}else for(;l<=d;++l)for(p=r-1;p>=1;--p)if(g=l>0?p/o(-l):p*o(l),!(g<s)){if(g>u)break;_.push(g)}_.length*2<m&&(_=Ci(s,u,m))}else _=Ci(l,d,Math.min(d-l,m)).map(o);return h?_.reverse():_},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=xr(c)).precision==null&&(c.trim=!0),c=We(c)),f===1/0)return c;const s=Math.max(1,r*f/n.ticks().length);return u=>{let h=u/o(Math.round(i(u)));return h*r<r-.5&&(h*=r),h<=s?c(u):""}},n.nice=()=>e(gh(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function bh(){const t=mh(Mo()).domain([1,10]);return t.copy=()=>Pr(t,bh()).base(t.base()),cn.apply(t,arguments),t}function Iu(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function Pu(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function yh(t){var n=1,e=t(Iu(n),Pu(n));return e.constant=function(r){return arguments.length?t(Iu(n=+r),Pu(n)):n},Fr(e)}function _h(){var t=yh(Mo());return t.copy=function(){return Pr(t,_h()).constant(t.constant())},cn.apply(t,arguments)}function Fu(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Gy(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Xy(t){return t<0?-t*t:t*t}function wh(t){var n=t(Ot,Ot),e=1;function r(){return e===1?t(Ot,Ot):e===.5?t(Gy,Xy):t(Fu(e),Fu(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},Fr(n)}function vh(){var t=wh(Mo());return t.copy=function(){return Pr(t,vh()).exponent(t.exponent())},cn.apply(t,arguments),t}function xh(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=Bp(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[Rf(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Dn),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return xh().domain(t).range(n).unknown(r)},cn.apply(o,arguments)}function Mh(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[Rf(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return Mh().domain(t).range(n).unknown(e)},cn.apply(i,arguments)}const fa=new Date,ca=new Date;function dt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let s;do c.push(s=new Date(+o)),n(o,f),t(o);while(s<o&&o<a);return c},i.filter=o=>dt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(fa.setTime(+o),ca.setTime(+a),t(fa),t(ca),Math.floor(e(fa,ca))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const ji=dt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);ji.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?dt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):ji);ji.range;const yn=1e3,qt=yn*60,_n=qt*60,$n=_n*24,nc=$n*7,Ou=$n*30,ua=$n*365,Yt=dt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*yn)},(t,n)=>(n-t)/yn,t=>t.getUTCSeconds());Yt.range;const Or=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yn)},(t,n)=>{t.setTime(+t+n*qt)},(t,n)=>(n-t)/qt,t=>t.getMinutes());Or.range;const qr=dt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*qt)},(t,n)=>(n-t)/qt,t=>t.getUTCMinutes());qr.range;const Ur=dt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*yn-t.getMinutes()*qt)},(t,n)=>{t.setTime(+t+n*_n)},(t,n)=>(n-t)/_n,t=>t.getHours());Ur.range;const zr=dt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*_n)},(t,n)=>(n-t)/_n,t=>t.getUTCHours());zr.range;const se=dt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*qt)/$n,t=>t.getDate()-1);se.range;const $o=dt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>t.getUTCDate()-1);$o.range;const To=dt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/$n,t=>Math.floor(t/$n));To.range;function le(t){return dt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*qt)/nc)}const Ie=le(0),Tr=le(1),$h=le(2),Th=le(3),fe=le(4),Sh=le(5),Ah=le(6);Ie.range;Tr.range;$h.range;Th.range;fe.range;Sh.range;Ah.range;function he(t){return dt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/nc)}const Pe=he(0),Sr=he(1),Ch=he(2),kh=he(3),ce=he(4),Eh=he(5),Nh=he(6);Pe.range;Sr.range;Ch.range;kh.range;ce.range;Eh.range;Nh.range;const Br=dt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Br.range;const Yr=dt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Yr.range;const Wt=dt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());Wt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});Wt.range;const Vt=dt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Vt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:dt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});Vt.range;function Lh(t,n,e,r,i,o){const a=[[Yt,1,yn],[Yt,5,5*yn],[Yt,15,15*yn],[Yt,30,30*yn],[o,1,qt],[o,5,5*qt],[o,15,15*qt],[o,30,30*qt],[i,1,_n],[i,3,3*_n],[i,6,6*_n],[i,12,12*_n],[r,1,$n],[r,2,2*$n],[e,1,nc],[n,1,Ou],[n,3,3*Ou],[t,1,ua]];function f(s,u,h){const l=u<s;l&&([s,u]=[u,s]);const d=h&&typeof h.range=="function"?h:c(s,u,h),p=d?d.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,h){const l=Math.abs(u-s)/h,d=co(([,,m])=>m).right(a,l);if(d===a.length)return t.every(Ra(s/ua,u/ua,h));if(d===0)return ji.every(Math.max(Ra(s,u,h),1));const[p,g]=a[l/a[d-1][2]<a[d][2]/l?d-1:d];return p.every(g)}return[f,c]}const[Zy,jy]=Lh(Vt,Yr,Pe,To,zr,qr),[Ky,Qy]=Lh(Wt,Br,Ie,se,Ur,Or);function sa(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function la(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Je(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Jy(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,s=tr(i),u=nr(i),h=tr(o),l=nr(o),d=tr(a),p=nr(a),g=tr(f),m=nr(f),_=tr(c),b=nr(c),v={a:H,A:B,b:W,B:L,c:null,d:Hu,e:Hu,f:x_,g:L_,G:R_,H:__,I:w_,j:v_,L:Dh,m:M_,M:$_,p:F,q:D,Q:Gu,s:Xu,S:T_,u:S_,U:A_,V:C_,w:k_,W:E_,x:null,X:null,y:N_,Y:D_,Z:I_,"%":Vu},y={a:q,A:tt,b:nt,B:K,c:null,d:Wu,e:Wu,f:q_,g:Z_,G:K_,H:P_,I:F_,j:O_,L:Ih,m:U_,M:z_,p:U,q:Y,Q:Gu,s:Xu,S:B_,u:Y_,U:H_,V:W_,w:V_,W:G_,x:null,X:null,y:X_,Y:j_,Z:Q_,"%":Vu},M={a:k,A:x,b:N,B:P,c:R,d:Bu,e:Bu,f:g_,g:zu,G:Uu,H:Yu,I:Yu,j:l_,L:p_,m:s_,M:h_,p:T,q:u_,Q:b_,s:y_,S:d_,u:i_,U:o_,V:a_,w:r_,W:f_,x:A,X:I,y:zu,Y:Uu,Z:c_,"%":m_};v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),y.x=w(e,y),y.X=w(r,y),y.c=w(n,y);function w(E,O){return function(z){var C=[],ot=-1,V=0,ct=E.length,ht,kt,me;for(z instanceof Date||(z=new Date(+z));++ot<ct;)E.charCodeAt(ot)===37&&(C.push(E.slice(V,ot)),(kt=qu[ht=E.charAt(++ot)])!=null?ht=E.charAt(++ot):kt=ht==="e"?" ":"0",(me=O[ht])&&(ht=me(z,kt)),C.push(ht),V=ot+1);return C.push(E.slice(V,ot)),C.join("")}}function $(E,O){return function(z){var C=Je(1900,void 0,1),ot=S(C,E,z+="",0),V,ct;if(ot!=z.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(O&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(V=la(Je(C.y,0,1)),ct=V.getUTCDay(),V=ct>4||ct===0?Sr.ceil(V):Sr(V),V=$o.offset(V,(C.V-1)*7),C.y=V.getUTCFullYear(),C.m=V.getUTCMonth(),C.d=V.getUTCDate()+(C.w+6)%7):(V=sa(Je(C.y,0,1)),ct=V.getDay(),V=ct>4||ct===0?Tr.ceil(V):Tr(V),V=se.offset(V,(C.V-1)*7),C.y=V.getFullYear(),C.m=V.getMonth(),C.d=V.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),ct="Z"in C?la(Je(C.y,0,1)).getUTCDay():sa(Je(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(ct+5)%7:C.w+C.U*7-(ct+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,la(C)):sa(C)}}function S(E,O,z,C){for(var ot=0,V=O.length,ct=z.length,ht,kt;ot<V;){if(C>=ct)return-1;if(ht=O.charCodeAt(ot++),ht===37){if(ht=O.charAt(ot++),kt=M[ht in qu?O.charAt(ot++):ht],!kt||(C=kt(E,z,C))<0)return-1}else if(ht!=z.charCodeAt(C++))return-1}return C}function T(E,O,z){var C=s.exec(O.slice(z));return C?(E.p=u.get(C[0].toLowerCase()),z+C[0].length):-1}function k(E,O,z){var C=d.exec(O.slice(z));return C?(E.w=p.get(C[0].toLowerCase()),z+C[0].length):-1}function x(E,O,z){var C=h.exec(O.slice(z));return C?(E.w=l.get(C[0].toLowerCase()),z+C[0].length):-1}function N(E,O,z){var C=_.exec(O.slice(z));return C?(E.m=b.get(C[0].toLowerCase()),z+C[0].length):-1}function P(E,O,z){var C=g.exec(O.slice(z));return C?(E.m=m.get(C[0].toLowerCase()),z+C[0].length):-1}function R(E,O,z){return S(E,n,O,z)}function A(E,O,z){return S(E,e,O,z)}function I(E,O,z){return S(E,r,O,z)}function H(E){return a[E.getDay()]}function B(E){return o[E.getDay()]}function W(E){return c[E.getMonth()]}function L(E){return f[E.getMonth()]}function F(E){return i[+(E.getHours()>=12)]}function D(E){return 1+~~(E.getMonth()/3)}function q(E){return a[E.getUTCDay()]}function tt(E){return o[E.getUTCDay()]}function nt(E){return c[E.getUTCMonth()]}function K(E){return f[E.getUTCMonth()]}function U(E){return i[+(E.getUTCHours()>=12)]}function Y(E){return 1+~~(E.getUTCMonth()/3)}return{format:function(E){var O=w(E+="",v);return O.toString=function(){return E},O},parse:function(E){var O=$(E+="",!1);return O.toString=function(){return E},O},utcFormat:function(E){var O=w(E+="",y);return O.toString=function(){return E},O},utcParse:function(E){var O=$(E+="",!0);return O.toString=function(){return E},O}}}var qu={"-":"",_:" ",0:"0"},bt=/^\s*\d+/,t_=/^%/,n_=/[\\^$*+?|[\]().{}]/g;function et(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function e_(t){return t.replace(n_,"\\$&")}function tr(t){return new RegExp("^(?:"+t.map(e_).join("|")+")","i")}function nr(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function r_(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function i_(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function o_(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function a_(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function f_(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Uu(t,n,e){var r=bt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function zu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function c_(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function u_(t,n,e){var r=bt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function s_(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Bu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function l_(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Yu(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function h_(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function d_(t,n,e){var r=bt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function p_(t,n,e){var r=bt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function g_(t,n,e){var r=bt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function m_(t,n,e){var r=t_.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function b_(t,n,e){var r=bt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function y_(t,n,e){var r=bt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Hu(t,n){return et(t.getDate(),n,2)}function __(t,n){return et(t.getHours(),n,2)}function w_(t,n){return et(t.getHours()%12||12,n,2)}function v_(t,n){return et(1+se.count(Wt(t),t),n,3)}function Dh(t,n){return et(t.getMilliseconds(),n,3)}function x_(t,n){return Dh(t,n)+"000"}function M_(t,n){return et(t.getMonth()+1,n,2)}function $_(t,n){return et(t.getMinutes(),n,2)}function T_(t,n){return et(t.getSeconds(),n,2)}function S_(t){var n=t.getDay();return n===0?7:n}function A_(t,n){return et(Ie.count(Wt(t)-1,t),n,2)}function Rh(t){var n=t.getDay();return n>=4||n===0?fe(t):fe.ceil(t)}function C_(t,n){return t=Rh(t),et(fe.count(Wt(t),t)+(Wt(t).getDay()===4),n,2)}function k_(t){return t.getDay()}function E_(t,n){return et(Tr.count(Wt(t)-1,t),n,2)}function N_(t,n){return et(t.getFullYear()%100,n,2)}function L_(t,n){return t=Rh(t),et(t.getFullYear()%100,n,2)}function D_(t,n){return et(t.getFullYear()%1e4,n,4)}function R_(t,n){var e=t.getDay();return t=e>=4||e===0?fe(t):fe.ceil(t),et(t.getFullYear()%1e4,n,4)}function I_(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+et(n/60|0,"0",2)+et(n%60,"0",2)}function Wu(t,n){return et(t.getUTCDate(),n,2)}function P_(t,n){return et(t.getUTCHours(),n,2)}function F_(t,n){return et(t.getUTCHours()%12||12,n,2)}function O_(t,n){return et(1+$o.count(Vt(t),t),n,3)}function Ih(t,n){return et(t.getUTCMilliseconds(),n,3)}function q_(t,n){return Ih(t,n)+"000"}function U_(t,n){return et(t.getUTCMonth()+1,n,2)}function z_(t,n){return et(t.getUTCMinutes(),n,2)}function B_(t,n){return et(t.getUTCSeconds(),n,2)}function Y_(t){var n=t.getUTCDay();return n===0?7:n}function H_(t,n){return et(Pe.count(Vt(t)-1,t),n,2)}function Ph(t){var n=t.getUTCDay();return n>=4||n===0?ce(t):ce.ceil(t)}function W_(t,n){return t=Ph(t),et(ce.count(Vt(t),t)+(Vt(t).getUTCDay()===4),n,2)}function V_(t){return t.getUTCDay()}function G_(t,n){return et(Sr.count(Vt(t)-1,t),n,2)}function X_(t,n){return et(t.getUTCFullYear()%100,n,2)}function Z_(t,n){return t=Ph(t),et(t.getUTCFullYear()%100,n,2)}function j_(t,n){return et(t.getUTCFullYear()%1e4,n,4)}function K_(t,n){var e=t.getUTCDay();return t=e>=4||e===0?ce(t):ce.ceil(t),et(t.getUTCFullYear()%1e4,n,4)}function Q_(){return"+0000"}function Vu(){return"%"}function Gu(t){return+t}function Xu(t){return Math.floor(+t/1e3)}var ye,ec,Hr;J_({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J_(t){return ye=Jy(t),ec=ye.format,ye.parse,Hr=ye.utcFormat,ye.utcParse,ye}function t6(t){return new Date(t)}function n6(t){return t instanceof Date?+t:+new Date(+t)}function rc(t,n,e,r,i,o,a,f,c,s){var u=dh(),h=u.invert,l=u.domain,d=s(".%L"),p=s(":%S"),g=s("%I:%M"),m=s("%I %p"),_=s("%a %d"),b=s("%b %d"),v=s("%B"),y=s("%Y");function M(w){return(c(w)<w?d:f(w)<w?p:a(w)<w?g:o(w)<w?m:r(w)<w?i(w)<w?_:b:e(w)<w?v:y)(w)}return u.invert=function(w){return new Date(h(w))},u.domain=function(w){return arguments.length?l(Array.from(w,n6)):l().map(t6)},u.ticks=function(w){var $=l();return t($[0],$[$.length-1],w??10)},u.tickFormat=function(w,$){return $==null?M:s($)},u.nice=function(w){var $=l();return(!w||typeof w.range!="function")&&(w=n($[0],$[$.length-1],w??10)),w?l(gh($,w)):u},u.copy=function(){return Pr(u,rc(t,n,e,r,i,o,a,f,c,s))},u}function e6(){return cn.apply(rc(Ky,Qy,Wt,Br,Ie,se,Ur,Or,Yt,ec).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function r6(){return cn.apply(rc(Zy,jy,Vt,Yr,Pe,$o,zr,qr,Yt,Hr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function So(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ao(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,s=Ot,u,h=!1,l;function d(g){return isNaN(g=+g)?l:(g=.5+((g=+u(g))-o)*(r*g<r*o?f:c),s(h?Math.max(0,Math.min(1,g)):g))}d.domain=function(g){return arguments.length?([t,n,e]=g,i=u(t=+t),o=u(n=+n),a=u(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d):[t,n,e]},d.clamp=function(g){return arguments.length?(h=!!g,d):h},d.interpolator=function(g){return arguments.length?(s=g,d):s};function p(g){return function(m){var _,b,v;return arguments.length?([_,b,v]=m,s=go(g,[_,b,v]),d):[s(0),s(.5),s(1)]}}return d.range=p(Rr),d.rangeRound=p(Yf),d.unknown=function(g){return arguments.length?(l=g,d):l},function(g){return u=g,i=g(t),o=g(n),a=g(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,d}}function Fh(){var t=Fr(Ao()(Ot));return t.copy=function(){return So(t,Fh())},vo.apply(t,arguments)}function Oh(){var t=mh(Ao()).domain([.1,1,10]);return t.copy=function(){return So(t,Oh()).base(t.base())},vo.apply(t,arguments)}function qh(){var t=yh(Ao());return t.copy=function(){return So(t,qh()).constant(t.constant())},vo.apply(t,arguments)}function Uh(){var t=wh(Ao());return t.copy=function(){return So(t,Uh()).exponent(t.exponent())},vo.apply(t,arguments)}function X(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const i6=X("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),o6=X("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),a6=X("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),f6=X("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),c6=X("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),u6=X("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),s6=X("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),l6=X("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),h6=X("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),d6=X("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),p6=X("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ft=t=>r2(t[t.length-1]);var zh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(X);const Bh=ft(zh);var Yh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(X);const Hh=ft(Yh);var Wh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(X);const Vh=ft(Wh);var Gh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(X);const Xh=ft(Gh);var pf=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(X);const Ki=ft(pf);var Zh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(X);const jh=ft(Zh);var gf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(X);const Qi=ft(gf);var Kh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(X);const Qh=ft(Kh);var Jh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(X);const td=ft(Jh);var nd=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(X);const ed=ft(nd);var rd=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(X);const id=ft(rd);var od=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(X);const ad=ft(od);var fd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(X);const cd=ft(fd);var ud=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(X);const sd=ft(ud);var ld=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(X);const hd=ft(ld);var dd=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(X);const pd=ft(dd);var gd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(X);const md=ft(gd);var bd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(X);const yd=ft(bd);var _d=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(X);const wd=ft(_d);var vd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(X);const xd=ft(vd);var Md=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(X);const $d=ft(Md);var Td=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(X);const Sd=ft(Td);var Ad=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(X);const Cd=ft(Ad);var kd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(X);const Ed=ft(kd);var Nd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(X);const Ld=ft(Nd);var Dd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(X);const Rd=ft(Dd);var Id=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(X);const Pd=ft(Id);function Fd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const Od=Hf(rn(300,.5,0),rn(-240,.5,1));var qd=Hf(rn(-100,.75,.35),rn(80,1.5,.8)),Ud=Hf(rn(260,.75,.35),rn(80,1.5,.8)),si=rn();function zd(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return si.h=360*t-100,si.s=1.5-1.5*n,si.l=.8-.9*n,si+""}var li=Pn(),g6=Math.PI/3,m6=Math.PI*2/3;function Bd(t){var n;return t=(.5-t)*Math.PI,li.r=255*(n=Math.sin(t))*n,li.g=255*(n=Math.sin(t+g6))*n,li.b=255*(n=Math.sin(t+m6))*n,li+""}function Yd(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Co(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const Hd=Co(X("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Wd=Co(X("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Vd=Co(X("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Gd=Co(X("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _e(t){return function(){return t}}const Xd=Math.cos,ic=Math.min,Ji=Math.sin,pt=Math.sqrt,Zu=1e-12,to=Math.PI,ko=2*to;function b6(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new El(n)}function y6(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Zd(t){this._context=t}Zd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function Eo(t){return new Zd(t)}function _6(t){return t[0]}function w6(t){return t[1]}function v6(t,n){var e=_e(!0),r=null,i=Eo,o=null,a=b6(f);t=typeof t=="function"?t:t===void 0?_6:_e(t),n=typeof n=="function"?n:n===void 0?w6:_e(n);function f(c){var s,u=(c=y6(c)).length,h,l=!1,d;for(r==null&&(o=i(d=a())),s=0;s<=u;++s)!(s<u&&e(h=c[s],s,c))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(h,s,c),+n(h,s,c));if(d)return o=null,d+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:_e(+c),f):t},f.y=function(c){return arguments.length?(n=typeof c=="function"?c:_e(+c),f):n},f.defined=function(c){return arguments.length?(e=typeof c=="function"?c:_e(!!c),f):e},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}class jd{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function x6(t){return new jd(t,!0)}function M6(t){return new jd(t,!1)}const $6=pt(3),Kd={draw(t,n){const e=pt(n+ic(n/28,.75))*.59436,r=e/2,i=r*$6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Ar={draw(t,n){const e=pt(n/to);t.moveTo(e,0),t.arc(0,0,e,0,ko)}},Qd={draw(t,n){const e=pt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},Jd=pt(1/3),T6=Jd*2,t0={draw(t,n){const e=pt(n/T6),r=e*Jd;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},n0={draw(t,n){const e=pt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},e0={draw(t,n){const e=pt(n-ic(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},r0={draw(t,n){const e=pt(n),r=-e/2;t.rect(r,r,e,e)}},i0={draw(t,n){const e=pt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},S6=.8908130915292852,o0=Ji(to/10)/Ji(7*to/10),A6=Ji(ko/10)*o0,C6=-Xd(ko/10)*o0,a0={draw(t,n){const e=pt(n*S6),r=A6*e,i=C6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ko*o/5,f=Xd(a),c=Ji(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},ha=pt(3),f0={draw(t,n){const e=-pt(n/(ha*3));t.moveTo(0,e*2),t.lineTo(-ha*e,-e),t.lineTo(ha*e,-e),t.closePath()}},k6=pt(3),c0={draw(t,n){const e=pt(n)*.6824,r=e/2,i=e*k6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Dt=-.5,Rt=pt(3)/2,mf=1/pt(12),E6=(mf/2+1)*3,u0={draw(t,n){const e=pt(n/E6),r=e/2,i=e*mf,o=r,a=e*mf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(Dt*r-Rt*i,Rt*r+Dt*i),t.lineTo(Dt*o-Rt*a,Rt*o+Dt*a),t.lineTo(Dt*f-Rt*c,Rt*f+Dt*c),t.lineTo(Dt*r+Rt*i,Dt*i-Rt*r),t.lineTo(Dt*o+Rt*a,Dt*a-Rt*o),t.lineTo(Dt*f+Rt*c,Dt*c-Rt*f),t.closePath()}},s0={draw(t,n){const e=pt(n-ic(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},N6=[Ar,Qd,t0,r0,a0,f0,u0],L6=[Ar,e0,s0,c0,Kd,i0,n0];function Fn(){}function no(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function No(t){this._context=t}No.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:no(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:no(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function D6(t){return new No(t)}function l0(t){this._context=t}l0.prototype={areaStart:Fn,areaEnd:Fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:no(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function R6(t){return new l0(t)}function h0(t){this._context=t}h0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:no(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function I6(t){return new h0(t)}function d0(t,n){this._basis=new No(t),this._beta=n}d0.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,f=-1,c;++f<=e;)c=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*n[f]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const P6=function t(n){function e(r){return n===1?new No(r):new d0(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function eo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function oc(t,n){this._context=t,this._k=(1-n)/6}oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:eo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:eo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const F6=function t(n){function e(r){return new oc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function ac(t,n){this._context=t,this._k=(1-n)/6}ac.prototype={areaStart:Fn,areaEnd:Fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:eo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const O6=function t(n){function e(r){return new ac(r,n)}return e.tension=function(r){return t(+r)},e}(0);function fc(t,n){this._context=t,this._k=(1-n)/6}fc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const q6=function t(n){function e(r){return new fc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function cc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Zu){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Zu){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/u,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function p0(t,n){this._context=t,this._alpha=n}p0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:cc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const U6=function t(n){function e(r){return n?new p0(r,n):new oc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function g0(t,n){this._context=t,this._alpha=n}g0.prototype={areaStart:Fn,areaEnd:Fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:cc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const z6=function t(n){function e(r){return n?new g0(r,n):new ac(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function m0(t,n){this._context=t,this._alpha=n}m0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const B6=function t(n){function e(r){return n?new m0(r,n):new fc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function b0(t){this._context=t}b0.prototype={areaStart:Fn,areaEnd:Fn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function Y6(t){return new b0(t)}function ju(t){return t<0?-1:1}function Ku(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(ju(o)+ju(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function Qu(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function da(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*n,o-f,a-f*e,o,a)}function ro(t){this._context=t}ro.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:da(this,this._t0,Qu(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,da(this,Qu(this,e=Ku(this,t,n)),e);break;default:da(this,this._t0,e=Ku(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function y0(t){this._context=new _0(t)}(y0.prototype=Object.create(ro.prototype)).point=function(t,n){ro.prototype.point.call(this,n,t)};function _0(t){this._context=t}_0.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function H6(t){return new ro(t)}function W6(t){return new y0(t)}function w0(t){this._context=t}w0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=Ju(t),i=Ju(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Ju(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function V6(t){return new w0(t)}function Lo(t,n){this._context=t,this._t=n}Lo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function G6(t){return new Lo(t,.5)}function X6(t){return new Lo(t,0)}function Z6(t){return new Lo(t,1)}function lr(t,n,e){this.k=t,this.x=n,this.y=e}lr.prototype={constructor:lr,scale:function(t){return t===1?this:new lr(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new lr(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};lr.prototype;function On(t){return t!=null&&!Number.isNaN(t)}function Fe(t,n){return+On(n)-+On(t)||Dn(t,n)}function bf(t,n){return+On(n)-+On(t)||Nr(t,n)}function uc(t){return t!=null&&`${t}`!=""}function v0(t){return isFinite(t)?t:NaN}function Do(t){return t>0&&isFinite(t)?t:NaN}function sc(t){return t<0&&isFinite(t)?t:NaN}function j6(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${K6(t.getUTCFullYear())}-${gn(t.getUTCMonth()+1,2)}-${gn(t.getUTCDate(),2)}${e||r||i||o?`T${gn(e,2)}:${gn(r,2)}${i||o?`:${gn(i,2)}${o?`.${gn(o,3)}`:""}`:""}Z`:""}`}function K6(t){return t<0?`-${gn(-t,6)}`:t>9999?`+${gn(t,6)}`:gn(t,4)}function gn(t,n){return`${t}`.padStart(n,"0")}const Q6=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function x0(t,n){return Q6.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Oe(t){if(t==null)return;const n=t[0],e=t[t.length-1];return Nr(n,e)}const Me=1e3,Nn=Me*60,Ln=Nn*60,on=Ln*24,jt=on*7,te=on*30,En=on*365,pa=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Me],["5 seconds",5*Me],["15 seconds",15*Me],["30 seconds",30*Me],["minute",Nn],["5 minutes",5*Nn],["15 minutes",15*Nn],["30 minutes",30*Nn],["hour",Ln],["3 hours",3*Ln],["6 hours",6*Ln],["12 hours",12*Ln],["day",on],["2 days",2*on],["week",jt],["2 weeks",2*jt],["month",te],["3 months",3*te],["6 months",6*te],["year",En],["2 years",2*En],["5 years",5*En],["10 years",10*En],["20 years",20*En],["50 years",50*En],["100 years",100*En]],lc=new Map([["second",Me],["minute",Nn],["hour",Ln],["day",on],["monday",jt],["tuesday",jt],["wednesday",jt],["thursday",jt],["friday",jt],["saturday",jt],["sunday",jt],["week",jt],["month",te],["year",En]]),M0=new Map([["second",Yt],["minute",Or],["hour",Ur],["day",se],["monday",Tr],["tuesday",$h],["wednesday",Th],["thursday",fe],["friday",Sh],["saturday",Ah],["sunday",Ie],["week",Ie],["month",Br],["year",Wt]]),hc=new Map([["second",Yt],["minute",qr],["hour",zr],["day",To],["monday",Sr],["tuesday",Ch],["wednesday",kh],["thursday",ce],["friday",Eh],["saturday",Nh],["sunday",Pe],["week",Pe],["month",Yr],["year",Vt]]),Wr=Symbol("intervalDuration"),Ro=Symbol("intervalType");for(const[t,n]of M0)n[Wr]=lc.get(t),n[Ro]="time";for(const[t,n]of hc)n[Wr]=lc.get(t),n[Ro]="utc";const hr=[["year",Vt,"utc"],["month",Yr,"utc"],["day",To,"utc",6*te],["hour",zr,"utc",3*on],["minute",qr,"utc",6*Ln],["second",Yt,"utc",30*Nn]],$i=[["year",Wt,"time"],["month",Br,"time"],["day",se,"time",6*te],["hour",Ur,"time",3*on],["minute",Or,"time",6*Ln],["second",Yt,"time",30*Nn]],J6=[hr[0],$i[0],hr[1],$i[1],hr[2],$i[2],...hr.slice(3)];function $0(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=hc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function T0(t){return A0($0(t),"time")}function S0(t){return A0($0(t),"utc")}function A0([t,n],e){let r=(e==="time"?M0:hc).get(t);return n>1&&(r=r.every(n),r[Wr]=lc.get(t)*n,r[Ro]=e),r}function ts(t,n){if(!(n>1))return;const e=t[Wr];if(!pa.some(([,i])=>i===e)||e%on===0&&on<e&&e<te)return;const[r]=pa[co(([,i])=>Math.log(i)).center(pa,Math.log(e*n))];return(t[Ro]==="time"?T0:S0)(r)}function ns(t,n,e){const r=n==="time"?ec:Hr;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=tw(e);switch(t){case"millisecond":return we(r(".%L"),r(":%M:%S"),i);case"second":return we(r(":%S"),r("%-I:%M"),i);case"minute":return we(r("%-I:%M"),r("%p"),i);case"hour":return we(r("%-I %p"),r("%b %-d"),i);case"day":return we(r("%-d"),r("%b"),i);case"month":return we(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function tw(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function nw(t){return t==="time"?$i:t==="utc"?hr:J6}function ew(t,n,e){const r=en(Vp(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return ns("millisecond","utc",e);for(const[i,o,a,f]of nw(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return ns(i,a,e)}}function we(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-Oe(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const dc=Object.getPrototypeOf(Uint8Array),rw=Object.prototype.toString;function Vr(t){return t instanceof Array||t instanceof dc}function C0(t){return t instanceof dc&&!iw(t)}function k0(t){return(t==null?void 0:t.prototype)instanceof dc&&!ow(t)}function iw(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function ow(t){return t===BigInt64Array||t===BigUint64Array}const aw=Symbol("reindex");function qn(t,n,e){const r=typeof n;return r==="string"?P0(t)?pc(t.getChild(n),e):es(t,cw(n),e):r==="function"?es(t,n,e):r==="number"||n instanceof Date||r==="boolean"?xt(t,wn(n),e):typeof(n==null?void 0:n.transform)=="function"?yf(n.transform(t),e):fw(yf(n,e),t==null?void 0:t[aw])}function fw(t,n){return t!=null&&n?mc(t,n):t}function es(t,n,e){return xt(t,k0(e)?(r,i)=>gc(n(r,i)):n,e)}function yf(t,n){return n===void 0?Un(t):F0(t)?pc(t,n):t instanceof n?t:n.from(t,k0(n)&&!C0(t)?gc:void 0)}function pc(t,n){return t==null?t:(n===void 0||n===Array)&&kw(t.type)?N0(t.toArray()):yf(t.toArray(),n)}const Ti=[null],cw=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},uw={transform:Gr},Tn={transform:t=>t},sw=()=>!0,Tt=t=>t==null?t:`${t}`,vt=t=>t==null?t:+t,E0=t=>t?t[0]:void 0,lw=t=>t?t[1]:void 0,wn=t=>()=>t;function hw(t){const n=+`${t}`.slice(1)/100;return(e,r)=>ki(e,n,r)}function io(t){return C0(t)?t:xt(t,gc,Float64Array)}function gc(t){return t==null?NaN:Number(t)}function N0(t){return xt(t,dw)}function dw(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?x0(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ue(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:qo(t)?[void 0,t]:[t,void 0]}function St(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function L0(t,n,e){if(t!=null)return Xt(t,n,e)}function Xt(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function qe(t){return P0(t)?t:Un(t)}function Un(t){if(t==null||Vr(t))return t;if(F0(t))return pc(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function xt(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function _f(t,n=Array){return t instanceof n?t.slice():n.from(t)}function de(t){return(t==null?void 0:t.toString)===rw}function wf(t){return de(t)&&(t.type!==void 0||t.domain!==void 0)}function Io(t){return de(t)&&typeof t.transform!="function"}function Ue(t){return Io(t)&&t.value===void 0&&t.channel===void 0}function Po(t,n){return t===void 0&&n===void 0?[E0,lw]:[t,n]}function pw({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=ue(n)),t===void 0&&([t]=ue(e)),t}function vf(t){return Vr(t)?t.length:t==null?void 0:t.numRows}function Gr(t){const n=vf(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function mc(t,n){return Vr(t)?xt(n,e=>t[e],t.constructor):xt(n,e=>t.at(e))}function gw(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function vn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fo(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function mw(t,n){const e=bc(t,n);return e&&(r=>On(r)?e.floor(r):r)}function bc(t,n){if(t!=null){if(typeof t=="number")return bw(t);if(typeof t=="string")return(n==="time"?T0:S0)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function bw(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>Pa(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>Pa(Math.ceil(e/n),r/n).map(i=>i*n)}}function Xr(t,n){if(t=bc(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function yw(t,n){if(t=Xr(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function _w(t){return typeof(t==null?void 0:t.range)=="function"}function Oo(t){return t===void 0||Io(t)?t:{value:t}}function ww(t){return t==null?null:{transform:n=>qn(n,t,Float64Array),label:Fo(t)}}function pe(t){return t&&typeof t[Symbol.iterator]=="function"}function D0(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function rs(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function an(t){for(const n of t)if(n!=null)return n instanceof Date}function vw(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&x0(n)}function xw(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Mw(t){for(const n of t)if(n!=null)return typeof n=="number"}function ga(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const $w=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function qo(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||$w.has(t))}function Tw(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function At(t){return t==null||Cr(t)}function Cr(t){return/^\s*none\s*$/i.test(t)}function Sw(t){return/^\s*round\s*$/i.test(t)}function xf(t,n){return L0(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Uo(t="middle"){return xf(t,"frameAnchor")}function Aw(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function Cw(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function R0(t){return pe(t)?Cw(t):t}function I0(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=Xt(t,"clip",["frame","sphere"])),t}function P0(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function F0(t){return t&&typeof t.toArray=="function"&&t.type}function kw(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const Jt=Symbol("position"),Sn=Symbol("color"),Zr=Symbol("radius"),jr=Symbol("length"),Kr=Symbol("opacity"),zo=Symbol("symbol"),O0=Symbol("projection"),lt=new Map([["x",Jt],["y",Jt],["fx",Jt],["fy",Jt],["r",Zr],["color",Sn],["opacity",Kr],["symbol",zo],["length",jr],["projection",O0]]);function Ew(t){return t===Jt||t===O0}function Nw(t){return t===Jt||t===Zr||t===jr||t===Kr}const Lw=Math.sqrt(3),Dw=2/Lw,Rw={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*Dw,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},yc=new Map([["asterisk",Kd],["circle",Ar],["cross",Qd],["diamond",t0],["diamond2",n0],["hexagon",Rw],["plus",e0],["square",r0],["square2",i0],["star",a0],["times",s0],["triangle",f0],["triangle2",c0],["wye",u0]]);function _c(t){return t&&typeof t.draw=="function"}function Iw(t){return _c(t)?!0:typeof t!="string"?!1:yc.has(t.toLowerCase())}function wc(t){if(t==null||_c(t))return t;const n=yc.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Pw(t){if(t==null||_c(t))return[void 0,t];if(typeof t=="string"){const n=yc.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function q0({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=U0(t)),n!=null&&!Ue(n)&&(r=ma(r,vc(n))),e&&(r=ma(r,z0))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||Ue(n))&&{sort:n},transform:ma(r,a)}}function ze({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=U0(t)),n!=null&&!Ue(n)&&(r=ba(r,vc(n))),e&&(r=ba(r,z0))),{...i,...(n===null||Ue(n))&&{sort:n},initializer:ba(r,o)}}function ma(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,qe(e),r,i)}}function ba(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,s,u,h;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:u=f,facets:h=c,channels:s}=n.call(this,f,c,{...i,...a},...o),{data:u,facets:h,channels:{...a,...s}}}}function Fw(t,n){return(t.initializer!=null?ze:q0)(t,n)}function U0(t){return(n,e)=>{const r=qn(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function z0(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function Ow(t,{sort:n,...e}={}){return{...(Io(t)&&t.channel!==void 0?ze:Fw)(e,vc(t)),sort:Ue(n)?n:null}}function vc(t){return(typeof t=="function"&&t.length!==1?qw:Uw)(t)}function qw(t){return(n,e)=>{const r=Vr(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function Uw(t){let n,e;({channel:n,value:t,order:e}={...Oo(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?bf:Fe),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=Fe;break;case"descending":e=bf;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=qn(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(s,u)=>e(f[s],f[u]);return{data:i,facets:o.map(s=>s.slice().sort(c))}}}function zw(t,n,e=Bw){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&de(t))return Yw(t);if(typeof t=="function")return Hw(t);if(/^p\d{2}$/i.test(t))return pn(hw(t));switch(`${t}`.toLowerCase()){case"first":return Vw;case"last":return Gw;case"identity":return Ww;case"count":return os;case"distinct":return Xw;case"sum":return n==null?os:Zw;case"proportion":return as(n,"data");case"proportion-facet":return as(n,"facet");case"deviation":return pn(Lp);case"min":return pn(yr);case"min-index":return pn(zp);case"max":return pn(en);case"max-index":return pn(Up);case"mean":return is(Yp);case"median":return is(Ia);case"variance":return pn(zs);case"mode":return pn(Wp)}return e(t)}function Bw(t){throw new Error(`invalid reduce: ${t}`)}function Yw(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function Hw(t){return{reduceIndex(n,e,r){return t(mc(e,n),r)}}}function pn(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function is(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return an(e)?new Date(r):r}}}const Ww={reduceIndex(t,n){return mc(n,t)}},Vw={reduceIndex(t,n){return n[t[0]]}},Gw={reduceIndex(t,n){return n[t[t.length-1]]}},os={label:"Frequency",reduceIndex(t){return t.length}},Xw={label:"Distinct",reduceIndex(t,n){const e=new uo;for(const r of t)e.add(n[r]);return e.size}},Zw=pn(Pf);function as(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Pf(e,o=>r[o])/i}}function kr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=Fo(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),B0(f,{scale:n,type:e,value:qn(t,r),label:a,filter:i,hint:o})}function jw(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,kr(n,r,e)]))}function Kw(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:xt(o,a)]}));return e.channels=t,e}function B0(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&ga(r,qo)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&ga(r,Tw)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&ga(r,Iw)?(n.scale=null,n.value=xt(r,wc)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=lt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!lt.has(e))throw new Error(`unknown scale: ${e}`);return n}function Qw(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const s in i){if(!lt.has(s))continue;let{value:u,order:h=o,reverse:l=a,reduce:d=f,limit:p=c}=Oo(i[s]);const g=u==null?void 0:u.startsWith("-");if(g&&(u=u.slice(1)),h=h===void 0?g!==(u==="width"||u==="height")?H0:Y0:n3(h),d==null||d===!1)continue;const m=s==="fx"||s==="fy"?t3(n,r[s]):Jw(e,s);if(!m)throw new Error(`missing channel for scale: ${s}`);const _=m.value,[b=0,v=1/0]=pe(p)?p:p<0?[p]:[0,p];if(u==null)m.domain=()=>{let y=Array.from(new uo(_));return l&&(y=y.reverse()),(b!==0||v!==1/0)&&(y=y.slice(b,v)),y};else{const y=u==="data"?t:u==="height"?fs(e,"y1","y2"):u==="width"?fs(e,"x1","x2"):Mf(e,u,u==="y"?"y2":u==="x"?"x2":void 0),M=zw(d===!0?"max":d,y);m.domain=()=>{let w=Rp(Gr(_),$=>M.reduceIndex($,y),$=>_[$]);return h&&w.sort(h),l&&w.reverse(),(b!==0||v!==1/0)&&(w=w.slice(b,v)),w.map(E0)}}}}function Jw(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function t3(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function fs(t,n,e){const r=Mf(t,n),i=Mf(t,e);return xt(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Mf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function n3(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Y0;case"descending":return H0}throw new Error(`invalid order: ${t}`)}function Y0([t,n],[e,r]){return Fe(n,r)||Fe(t,e)}function H0([t,n],[e,r]){return bf(n,r)||Fe(t,e)}function cs(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const W0=new Map([["accent",o6],["category10",i6],["dark2",a6],["observable10",f6],["paired",c6],["pastel1",u6],["pastel2",s6],["set1",l6],["set2",h6],["set3",d6],["tableau10",p6]]);function e3(t){return t!=null&&W0.has(`${t}`.toLowerCase())}const us=new Map([...W0,["brbg",ln(zh,Bh)],["prgn",ln(Yh,Hh)],["piyg",ln(Wh,Vh)],["puor",ln(Gh,Xh)],["rdbu",ln(pf,Ki)],["rdgy",ln(Zh,jh)],["rdylbu",ln(gf,Qi)],["rdylgn",ln(Kh,Qh)],["spectral",ln(Jh,td)],["burd",ss(pf,Ki)],["buylrd",ss(gf,Qi)],["blues",gt(Td,Sd)],["greens",gt(Ad,Cd)],["greys",gt(kd,Ed)],["oranges",gt(Id,Pd)],["purples",gt(Nd,Ld)],["reds",gt(Dd,Rd)],["turbo",hn(Yd)],["viridis",hn(Hd)],["magma",hn(Wd)],["inferno",hn(Vd)],["plasma",hn(Gd)],["cividis",hn(Fd)],["cubehelix",hn(Od)],["warm",hn(qd)],["cool",hn(Ud)],["bugn",gt(nd,ed)],["bupu",gt(rd,id)],["gnbu",gt(od,ad)],["orrd",gt(fd,cd)],["pubu",gt(ld,hd)],["pubugn",gt(ud,sd)],["purd",gt(dd,pd)],["rdpu",gt(gd,md)],["ylgn",gt(_d,wd)],["ylgnbu",gt(bd,yd)],["ylorbr",gt(vd,xd)],["ylorrd",gt(Md,$d)],["rainbow",ls(zd)],["sinebow",ls(Bd)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?Ht(n,e):t[e])}function ln(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?Ht(n,e):t[e])}function ss(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?Ht(r=>n(1-r),e):t[e].slice().reverse())}function hn(t){return({length:n})=>Ht(t,Math.max(2,Math.floor(n)))}function ls(t){return({length:n})=>Ht(t,Math.floor(n)+1).slice(0,-1)}function V0(t){const n=`${t}`.toLowerCase();if(!us.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return us.get(n)}function Bo(t,n){const e=V0(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function r3(t,n="greys"){const e=new Set,[r,i]=Bo(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const hs=new Map([["brbg",Bh],["prgn",Hh],["piyg",Vh],["puor",Xh],["rdbu",Ki],["rdgy",jh],["rdylbu",Qi],["rdylgn",Qh],["spectral",td],["burd",t=>Ki(1-t)],["buylrd",t=>Qi(1-t)],["blues",Sd],["greens",Cd],["greys",Ed],["purples",Ld],["reds",Rd],["oranges",Pd],["turbo",Yd],["viridis",Hd],["magma",Wd],["inferno",Vd],["plasma",Gd],["cividis",Fd],["cubehelix",Od],["warm",qd],["cool",Ud],["bugn",ed],["bupu",id],["gnbu",ad],["orrd",cd],["pubugn",sd],["pubu",hd],["purd",pd],["rdpu",md],["ylgnbu",yd],["ylgn",wd],["ylorbr",xd],["ylorrd",$d],["rainbow",zd],["sinebow",Bd]]);function xc(t){const n=`${t}`.toLowerCase();if(!hs.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return hs.get(n)}const i3=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function o3(t){return t!=null&&i3.has(`${t}`.toLowerCase())}const G0=t=>n=>t(1-n),ya=[0,1],ds=new Map([["number",_t],["rgb",ie],["hsl",m2],["hcl",_2],["lab",b2]]);function X0(t){const n=`${t}`.toLowerCase();if(!ds.has(n))throw new Error(`unknown interpolator: ${n}`);return ds.get(n)}function Qr(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=j0(t,e),unknown:c,round:s,scheme:u,interval:h,range:l=lt.get(t)===Zr?m3(e,f):lt.get(t)===jr?b3(e,f):lt.get(t)===Kr?ya:void 0,interpolate:d=lt.get(t)===Sn?u==null&&l!==void 0?ie:xc(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?Yf:_t,reverse:p}){if(h=Xr(h,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof d!="function"&&(d=X0(d)),p=!!p,l!==void 0){const g=(f=Un(f)).length,m=(l=Un(l)).length;if(g!==m){if(d.length===1)throw new Error("invalid piecewise interpolator");d=go(d,l),l=void 0}}if(d.length===1?(p&&(d=G0(d),p=!1),l===void 0&&(l=Float64Array.from(f,(g,m)=>m/(f.length-1)),l.length===2&&(l=ya)),n.interpolate((l===ya?wn:$c)(d))):n.interpolate(d),a){const[g,m]=Rn(f);(g>0||m<0)&&(f=_f(f),(Oe(f)||1)===Math.sign(g)?f[0]=0:f[f.length-1]=0)}return p&&(f=Ei(f)),n.domain(f).unknown(c),i&&(n.nice(a3(i,r)),f=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:f,range:l,scale:n,interpolate:d,interval:h}}function a3(t,n){return t===!0?void 0:typeof t=="number"?t:yw(t,n)}function f3(t,n,e){return Qr(t,tc(),n,e)}function c3(t,n,e){return Z0(t,n,{...e,exponent:.5})}function Z0(t,n,{exponent:e=1,...r}){return Qr(t,vh().exponent(e),n,{...r,type:"pow"})}function u3(t,n,{base:e=10,domain:r=y3(n),...i}){return Qr(t,bh().base(e),n,{...i,domain:r})}function s3(t,n,{constant:e=1,...r}){return Qr(t,_h().constant(e),n,r)}function l3(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=_3(n),unknown:f,interpolate:c,reverse:s}){return e===void 0&&(e=c!==void 0?Ht(c,i):lt.get(t)===Sn?Bo(o,i):void 0),a.length>0&&(a=xh(a,e===void 0?{length:i}:e).quantiles()),Mc(t,n,{domain:a,range:e,reverse:s,unknown:f})}function h3(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=j0(t,n),unknown:a,interpolate:f,reverse:c}){const[s,u]=Rn(o);let h;return e===void 0?(h=Ci(s,u,r),h[0]<=s&&h.splice(0,1),h[h.length-1]>=u&&h.pop(),r=h.length+1,e=f!==void 0?Ht(f,r):lt.get(t)===Sn?Bo(i,r):void 0):(h=Ht(_t(s,u),r+1).slice(1,-1),s instanceof Date&&(h=h.map(l=>new Date(l)))),Oe(Un(o))<0&&h.reverse(),Mc(t,n,{domain:h,range:e,reverse:c,unknown:a})}function Mc(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?Ht(o,e.length+1):lt.get(t)===Sn?Bo(i,e.length+1):void 0,reverse:f}){e=Un(e);const c=Oe(e);if(!isNaN(c)&&!d3(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Ei(a)),{type:"threshold",scale:Mh(c<0?Ei(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function d3(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=Nr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function p3(t){return{type:"identity",scale:Nw(lt.get(t))?ph():n=>n}}function Er(t,n=v0){return t.length?[yr(t,({value:e})=>e===void 0?e:yr(e,n)),en(t,({value:e})=>e===void 0?e:en(e,n))]:[0,1]}function j0(t,n){const e=lt.get(t);return(e===Zr||e===Kr||e===jr?g3:Er)(n)}function g3(t){return[0,t.length?en(t,({value:n})=>n===void 0?n:en(n,v0)):1]}function m3(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=ki(t,.5,({value:a})=>a===void 0?NaN:ki(a,.25,Do)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/en(i);return o<1?i.map(a=>a*o):i}function b3(t,n){const e=Ia(t,({value:o})=>o===void 0?NaN:Ia(o,Math.abs)),r=n.map(o=>12*o/e),i=60/en(r);return i<1?r.map(o=>o*i):r}function y3(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Er(t,Do);if(e<0)return Er(t,sc)}return[1,10]}function _3(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function $c(t){return(n,e)=>r=>t(n+r*(e-n))}let $f=0,Tf;function w3(){const t=$f;return $f=0,Tf=void 0,t}function In(t){t!==Tf&&(Tf=t,console.warn(t),++$f)}function Yo(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=Er(r),unknown:c,pivot:s=0,scheme:u,range:h,symmetric:l=!0,interpolate:d=lt.get(t)===Sn?u==null&&h!==void 0?ie:xc(u!==void 0?u:"rdbu"):_t,reverse:p}){s=+s,f=Un(f);let[g,m]=f;if(f.length>2&&In(`Warning: the diverging ${t} scale domain contains extra elements.`),Nr(g,m)<0&&([g,m]=[m,g],p=!p),g=Math.min(g,s),m=Math.max(m,s),typeof d!="function"&&(d=X0(d)),h!==void 0&&(d=d.length===1?$c(d)(...h):go(d,h)),p&&(d=G0(d)),l){const _=e.apply(s),b=_-e.apply(g),v=e.apply(m)-_;b<v?g=e.invert(_-v):b>v&&(m=e.invert(_+b))}return n.domain([g,s,m]).unknown(c).interpolator(d),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[g,m],pivot:s,interpolate:d,scale:n}}function v3(t,n,e){return Yo(t,Fh(),T3,n,e)}function x3(t,n,e){return K0(t,n,{...e,exponent:.5})}function K0(t,n,{exponent:e=1,...r}){return Yo(t,Uh().exponent(e=+e),C3(e),n,{...r,type:"diverging-pow"})}function M3(t,n,{base:e=10,pivot:r=1,domain:i=Er(n,r<0?sc:Do),...o}){return Yo(t,Oh().base(e=+e),S3,n,{domain:i,pivot:r,...o})}function $3(t,n,{constant:e=1,...r}){return Yo(t,qh().constant(e=+e),k3(e),n,r)}const T3={apply(t){return t},invert(t){return t}},S3={apply:Math.log,invert:Math.exp},A3={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function C3(t){return t===.5?A3:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function k3(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function Q0(t,n,e,r){return Qr(t,n,e,r)}function E3(t,n,e){return Q0(t,e6(),n,e)}function N3(t,n,e){return Q0(t,r6(),n,e)}const Jr=Symbol("ordinal");function J0(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=Xr(i,r),o===void 0&&(o=n1(e,i,t)),(r==="categorical"||r===Jr)&&(r="ordinal"),f&&(o=Ei(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function L3(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=Xr(r,e),i===void 0&&(i=n1(n,r,t));let s;if(lt.get(t)===zo)s=I3(n),o=o===void 0?P3(s):xt(o,wc);else if(lt.get(t)===Sn&&(o===void 0&&(e==="ordinal"||e===Jr)&&(o=r3(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const u=xc(a),h=o[0],l=o[1]-o[0];o=({length:d})=>Ht(p=>u(h+l*p),d)}else o=V0(a);if(f===lf)throw new Error(`implicit unknown on ${t} scale is not supported`);return J0(t,Jf().unknown(f),n,{...c,type:e,domain:i,range:o,hint:s})}function D3(t,n,{align:e=.5,padding:r=.5,...i}){return t1(Py().align(e).padding(r),n,i,t)}function R3(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return t1(xo().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function t1(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=J0(r,t,n,e),t.round=i,t}function n1(t,n,e){const r=new uo;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Rn(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&lt.get(e)===Jt)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Pp(r,Fe)}function ps(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function I3(t){return{fill:ps(t,"fill"),stroke:ps(t,"stroke")}}function P3(t){return At(t.fill)?L6:N6}function Sf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,facet:{label:p=n}={},...g}={}){const m={};for(const[_,b]of t){const v=g[_],y=z3(_,b,{round:lt.get(_)===Jt?f:void 0,nice:c,clamp:s,zero:u,align:h,padding:l,projection:d,...v});if(y){let{label:M=_==="fx"||_==="fy"?p:n,percent:w,transform:$,inset:S,insetTop:T=S!==void 0?S:_==="y"?r:0,insetRight:k=S!==void 0?S:_==="x"?i:0,insetBottom:x=S!==void 0?S:_==="y"?o:0,insetLeft:N=S!==void 0?S:_==="x"?a:0}=v||{};if($==null)$=void 0;else if(typeof $!="function")throw new Error("invalid scale transform; not a function");y.percent=!!w,y.label=M===void 0?O3(b,y):M,y.transform=$,_==="x"||_==="fx"?(y.insetLeft=+N,y.insetRight=+k):(_==="y"||_==="fy")&&(y.insetTop=+T,y.insetBottom=+x),m[_]=y}}return m}function gs(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=V3(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function F3(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?Tc(n):n;i&&ms(i,a),o&&bs(o,a);const f=i||o?e1(t,n):n;e&&ms(e,f),r&&bs(r,f)}function O3(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!ge(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function q3(t){return Math.sign(Oe(t.domain()))*Math.sign(Oe(t.range()))}function Tc(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function e1({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=Tc(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function ms(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],ge(t)||(t.range=i1(t)),t.scale.range(t.range)}r1(t)}function bs(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],ge(t)?t.range.reverse():t.range=i1(t),t.scale.range(t.range)}r1(t)}function r1(t){t.round===void 0&&Y3(t)&&U3(t)<=30&&t.scale.round(!0)}function U3({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function i1(t){const n=t.scale.domain().length+o1(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function z3(t,n=[],e={}){const r=B3(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&ge({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(an)?In(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ve(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ve(r)}".`):i.some(vw)?In(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ve(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ve(r)}".`):i.some(xw)&&In(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ve(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ve(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=hi(n,e,io);break;case"identity":switch(lt.get(t)){case Jt:e=hi(n,e,io);break;case zo:e=hi(n,e,H3);break}break;case"utc":case"time":e=hi(n,e,N0);break}switch(r){case"diverging":return v3(t,n,e);case"diverging-sqrt":return x3(t,n,e);case"diverging-pow":return K0(t,n,e);case"diverging-log":return M3(t,n,e);case"diverging-symlog":return $3(t,n,e);case"categorical":case"ordinal":case Jr:return L3(t,n,e);case"cyclical":case"sequential":case"linear":return f3(t,n,e);case"sqrt":return c3(t,n,e);case"threshold":return Mc(t,n,e);case"quantile":return l3(t,n,e);case"quantize":return h3(t,n,e);case"pow":return Z0(t,n,e);case"log":return u3(t,n,e);case"symlog":return s3(t,n,e);case"utc":return N3(t,n,e);case"time":return E3(t,n,e);case"point":return D3(t,n,e);case"band":return R3(t,n,e);case"identity":return p3(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ve(t){return typeof t=="symbol"?t.description:t}function ys(t){return typeof t=="string"?`${t}`.toLowerCase():t}const _s={toString:()=>"projection"};function B3(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=ys(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=_s);for(const s of n){const u=ys(s.type);if(u!==void 0){if(e===void 0)e=u;else if(e!==u)throw new Error(`scale incompatible with channel: ${e} !== ${u}`)}}if(e===_s)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:s})=>s!==void 0))return;const c=lt.get(t);if(c===Zr)return"sqrt";if(c===Kr||c===jr)return"linear";if(c===zo)return"ordinal";if((r||i||[]).length>2)return _a(c);if(r!==void 0){if(rs(r))return _a(c);if(an(r))return"utc"}else{const s=n.map(({value:u})=>u).filter(u=>u!==void 0);if(s.some(rs))return _a(c);if(s.some(an))return"utc"}if(c===Sn){if(a!=null||o3(o))return"diverging";if(e3(o))return"categorical"}return"linear"}function _a(t){switch(t){case Jt:return"point";case Sn:return Jr;default:return"ordinal"}}function ge({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Jr}function o1({type:t}){return t==="threshold"}function Y3({type:t}){return t==="point"||t==="band"}function oo(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function hi(t,{domain:n,...e},r){var i;for(const o of t)o.value!==void 0&&(n===void 0&&(n=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:n===void 0?n:r(n),...e}}function H3(t){return xt(t,wc)}function W3(t){return n=>{if(!lt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function V3({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:n,domain:_f(e),...r!==void 0&&{range:_f(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function G3(t,n){const{fx:e,fy:r}=Sf(t,n),i=e==null?void 0:e.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Np(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function X3(t,{x:n,y:e}){return n&&(n=Af(n)),e&&(e=Af(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function Sc(t,{fx:n,fy:e}){const r=Gr(t),i=n==null?void 0:n.value,o=e==null?void 0:e.value;return n&&e?Zo(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Zo(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Zo(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function Z3(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function j3(t){const n=[],e=new Uint32Array(Pf(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const K3=new Map([["top",wa],["right",Ma],["bottom",va],["left",xa],["top-left",di(wa,xa)],["top-right",di(wa,Ma)],["bottom-left",di(va,xa)],["bottom-right",di(va,Ma)],["top-empty",t8],["right-empty",r8],["bottom-empty",n8],["left-empty",e8],["empty",i8]]);function Q3(t){if(t==null)return null;const n=K3.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const ws=new WeakMap;function Af(t){let n=ws.get(t);return n||ws.set(t,n=new br(xt(t,(e,r)=>[e,r]))),n}function Yn(t,n){return Af(t).get(n)}function J3(t,n,e){return n=vn(n),e=vn(e),t.find(r=>Object.is(vn(r.x),n)&&Object.is(vn(r.y),e))}function Ho(t,n,e){var r;return(r=J3(t,n,e))==null?void 0:r.empty}function wa(t,{y:n},{y:e}){return n?Yn(n,e)===0:!0}function va(t,{y:n},{y:e}){return n?Yn(n,e)===n.length-1:!0}function xa(t,{x:n},{x:e}){return n?Yn(n,e)===0:!0}function Ma(t,{x:n},{x:e}){return n?Yn(n,e)===n.length-1:!0}function t8(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Yn(n,r);if(o>0)return Ho(t,e,n[o-1])}function n8(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Yn(n,r);if(o<n.length-1)return Ho(t,e,n[o+1])}function e8(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Yn(n,e);if(o>0)return Ho(t,n[o-1],r)}function r8(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=Yn(n,e);if(o<n.length-1)return Ho(t,n[o+1],r)}function i8(t,n,{empty:e}){return e}function di(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function $a(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const a1=Math.PI,dn=2*a1,Ta=.618;function o8({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(de(t)){let M;if({type:t,domain:c,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:o=M!==void 0?M:o,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Cf(t));const{width:u,height:h,marginLeft:l,marginRight:d,marginTop:p,marginBottom:g}=a,m=u-l-d-o-r,_=h-p-g-e-i;if(t=t==null?void 0:t({width:m,height:_,clip:s,...f}),t==null)return;s=a8(s,l,p,u-d,h-g);let b=l+o,v=p+e,y;if(c!=null){const[[M,w],[$,S]]=yo(t).bounds(c),T=Math.min(m/($-M),_/(S-w));T>0?(b-=(T*(M+$)-m)/2,v-=(T*(w+S)-_)/2,y=uf({point(k,x){this.stream.point(k*T+b,x*T+v)}})):In("Warning: the projection could not be fit to the specified domain; using the default scale.")}return y??(y=b===0&&v===0?f1():uf({point(M,w){this.stream.point(M+b,w+v)}})),{stream:M=>t.stream(y.stream(s(M)))}}function Cf(t){switch(`${t}`.toLowerCase()){case"albers-usa":return zt(vy,.7463,.4673);case"albers":return pi(eh,.7463,.4673);case"azimuthal-equal-area":return zt(xy,4,4);case"azimuthal-equidistant":return zt(My,dn,dn);case"conic-conformal":return pi(Sy,dn,dn);case"conic-equal-area":return pi(Gi,6.1702,2.9781);case"conic-equidistant":return pi(ky,7.312,3.6282);case"equal-earth":return zt(Ny,5.4133,2.6347);case"equirectangular":return zt(Ay,dn,a1);case"gnomonic":return zt(Ly,3.4641,3.4641);case"identity":return{type:f1};case"reflect-y":return{type:f8};case"mercator":return zt($y,dn,dn);case"orthographic":return zt(Dy,2,2);case"stereographic":return zt(Ry,2,2);case"transverse-mercator":return zt(Iy,dn,dn);default:throw new Error(`unknown projection type: ${t}`)}}function a8(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Ul(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function zt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var s,u,h;const c=t();return a!=null&&((s=c.precision)==null||s.call(c,a)),o!=null&&((u=c.rotate)==null||u.call(c,o)),typeof f=="number"&&((h=c.clipAngle)==null||h.call(c,f)),r!=null&&(c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2])),c},aspectRatio:e/n}}function pi(t,n,e){const{type:r,aspectRatio:i}=zt(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:s}=o,u=r(o);return a!=null&&(u.parallels(a),f===void 0&&c!=null&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const f1=wn({stream:t=>t}),f8=wn(uf({point(t,n){this.stream.point(t,-n)}}));function c8(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(h,l){f[s]=h,c[s]=l}});for(s=0;s<a;++s)u.point(i[s],o[s])}function u8({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(de(t)&&(t=t.type),t!=null)}function s8(t){if(typeof(t==null?void 0:t.stream)=="function")return Ta;if(de(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?Cf(t).type:t,[[i,o],[a,f]]=yo(r({...e,width:100,height:100})).bounds(n),c=(f-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:Ta}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=Cf(t);if(n)return n}return Ta}}function l8(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)Zn(a,o);return[r,i]}function Ac(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:I0(e)}}function Mt(t,{document:n}){return $e(lo(t).call(n.documentElement))}const kf=Symbol("unset");function Cc(t){return(t.length===1?h8:d8)(t)}function h8(t){let n,e=kf;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function d8(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const p8=Cc(t=>new Intl.NumberFormat(t));Cc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));Cc((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function g8(t="en-US"){const n=p8(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function m8(t){return j6(t,"Invalid Date")}function b8(t="en-US"){const n=g8(t);return e=>(e instanceof Date?m8:typeof e=="number"?n:Tt)(e)}const Be=b8(),Et=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let y8=0;function _8(){return`plot-clip-${++y8}`}function w8(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:h,strokeLinejoin:l,strokeLinecap:d,strokeMiterlimit:p,strokeDasharray:g,strokeDashoffset:m,opacity:_,mixBlendMode:b,imageFilter:v,paintOrder:y,pointerEvents:M,shapeRendering:w,channels:$},{ariaLabel:S,fill:T="currentColor",fillOpacity:k,stroke:x="none",strokeOpacity:N,strokeWidth:P,strokeLinecap:R,strokeLinejoin:A,strokeMiterlimit:I,paintOrder:H}){T===null&&(f=null,c=null),x===null&&(s=null,h=null),At(T)?!At(x)&&(!At(f)||$!=null&&$.fill)&&(x="none"):At(x)&&(!At(s)||$!=null&&$.stroke)&&(T="none");const[B,W]=ue(f,T),[L,F]=St(c,k),[D,q]=ue(s,x),[tt,nt]=St(h,N),[K,U]=St(_);Cr(q)||(u===void 0&&(u=P),d===void 0&&(d=R),l===void 0&&(l=A),p===void 0&&!Sw(l)&&(p=I),!Cr(W)&&y===void 0&&(y=H));const[Y,E]=St(u);return T!==null&&(t.fill=yt(W,"currentColor"),t.fillOpacity=er(F,1)),x!==null&&(t.stroke=yt(q,"none"),t.strokeWidth=er(E,1),t.strokeOpacity=er(nt,1),t.strokeLinejoin=yt(l,"miter"),t.strokeLinecap=yt(d,"butt"),t.strokeMiterlimit=er(p,4),t.strokeDasharray=yt(g,"none"),t.strokeDashoffset=yt(m,"0")),t.target=Tt(a),t.ariaLabel=Tt(S),t.ariaDescription=Tt(i),t.ariaHidden=Tt(o),t.opacity=er(U,1),t.mixBlendMode=yt(b,"normal"),t.imageFilter=yt(v,"none"),t.paintOrder=yt(y,"normal"),t.pointerEvents=yt(M,"auto"),t.shapeRendering=yt(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:L,scale:"auto",optional:!0},stroke:{value:D,scale:"auto",optional:!0},strokeOpacity:{value:tt,scale:"auto",optional:!0},strokeWidth:{value:Y,optional:!0},opacity:{value:K,scale:"auto",optional:!0}}}function v8(t,n){n&&t.filter(e=>uc(n[e])).append("title").call(M8,n)}function x8(t,n){n&&t.filter(([e])=>uc(n[e])).append("title").call($8,n)}function M8(t,n){n&&t.text(e=>Be(n[e]))}function $8(t,n){n&&t.text(([e])=>Be(n[e]))}function Ge(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:h}){r&&Z(t,"aria-label",l=>r[l]),o&&Z(t,"fill",l=>o[l]),a&&Z(t,"fill-opacity",l=>a[l]),f&&Z(t,"stroke",l=>f[l]),c&&Z(t,"stroke-opacity",l=>c[l]),s&&Z(t,"stroke-width",l=>s[l]),u&&Z(t,"opacity",l=>u[l]),h&&u1(t,l=>h[l],n),e||v8(t,i)}function T8(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:h}){r&&Z(t,"aria-label",([l])=>r[l]),o&&Z(t,"fill",([l])=>o[l]),a&&Z(t,"fill-opacity",([l])=>a[l]),f&&Z(t,"stroke",([l])=>f[l]),c&&Z(t,"stroke-opacity",([l])=>c[l]),s&&Z(t,"stroke-width",([l])=>s[l]),u&&Z(t,"opacity",([l])=>u[l]),h&&u1(t,([l])=>h[l],n),e||x8(t,i)}function S8({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:c},{tip:s}){return[t,s?void 0:n,e,r,i,o,a,f,c].filter(u=>u!==void 0)}function A8(t,n,e){const r=Dp(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&In("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*C8(t,n,e,r){const{z:i}=e,{z:o}=r,a=S8(r,e),f=[...n,...a];for(const c of o?A8(t,o,i):[t]){let s,u;t:for(const h of c){for(const l of f)if(!On(l[h])){u&&u.push(-1);continue t}if(s===void 0){u&&(yield u),s=a.map(l=>vn(l[h])),u=[h];continue}u.push(h);for(let l=0;l<a.length;++l)if(vn(a[l][h])!==s[l]){yield u,s=a.map(p=>vn(p[h])),u=[h];continue t}}u&&(yield u)}}function k8(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":{t=Mt("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=E8(r,e);break}case"sphere":{i=N8(r);break}}Z(t,"aria-label",n.ariaLabel),Z(t,"aria-description",n.ariaDescription),Z(t,"aria-hidden",n.ariaHidden),Z(t,"clip-path",i)}function c1(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=_8();$e(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const E8=c1((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-c)}),N8=c1((t,n)=>{const{projection:e}=n;if(!e)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",yo(e)({type:"Sphere"}))});function Hn(t,n,e,r){k8(t,n,e,r),Z(t,"class",n.className),Z(t,"fill",n.fill),Z(t,"fill-opacity",n.fillOpacity),Z(t,"stroke",n.stroke),Z(t,"stroke-width",n.strokeWidth),Z(t,"stroke-opacity",n.strokeOpacity),Z(t,"stroke-linejoin",n.strokeLinejoin),Z(t,"stroke-linecap",n.strokeLinecap),Z(t,"stroke-miterlimit",n.strokeMiterlimit),Z(t,"stroke-dasharray",n.strokeDasharray),Z(t,"stroke-dashoffset",n.strokeDashoffset),Z(t,"shape-rendering",n.shapeRendering),Z(t,"filter",n.imageFilter),Z(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Z(t,"pointer-events",i)}function Wn(t,n){L8(t,"mix-blend-mode",n.mixBlendMode),Z(t,"opacity",n.opacity)}function u1(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(Ce.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Ce.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Z(t,n,e){e!=null&&t.attr(n,e)}function L8(t,n,e){e!=null&&t.style(n,e)}function Vn(t,n,{x:e,y:r},i=Et,o=Et){i+=n.dx,o+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function yt(t,n){if((t=Tt(t))!==n)return t}function er(t,n){if((t=vt(t))!==n)return t}const D8=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Wo(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!D8.test(t))throw new Error(`invalid class name: ${t}`);return t}function kc(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function ti({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class Zt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:s,dx:u=0,dy:h=0,margin:l=0,marginTop:d=l,marginRight:p=l,marginBottom:g=l,marginLeft:m=l,className:_,clip:b=i==null?void 0:i.clip,channels:v,tip:y,render:M}=r;if(this.data=n,this.sort=Ue(s)?s:null,this.initializer=ze(r).initializer,this.transform=this.initializer?r.transform:q0(r).transform,o===null||o===!1?this.facet=null:(this.facet=Xt(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Ti&&typeof f=="string"?[f]:f,this.fy=n===Ti&&typeof c=="string"?[c]:c),this.facetAnchor=Q3(a),e=R0(e),v!==void 0&&(e={...R8(v),...e}),i!==void 0&&(e={...w8(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([w,$])=>{if(Io($.value)){const{value:S,label:T=$.label,scale:k=$.scale}=$.value;$={...$,label:T,scale:k,value:S}}if(n===Ti&&typeof $.value=="string"){const{value:S}=$;$={...$,value:[S]}}return[w,$]}).filter(([w,{value:$,optional:S}])=>{if($!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+h,this.marginTop=+d,this.marginRight=+p,this.marginBottom=+g,this.marginLeft=+m,this.clip=I0(b),this.tip=I8(y),this.className=_?Wo(_):null,this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:$}=e[w];if(!($!=="x"&&$!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=l1(M,this.render))}initialize(n,e,r){let i=qe(this.data);n===void 0&&i!=null&&(n=[Gr(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=qe(i)),n!==void 0&&(n.original=o);const a=jw(this.channels,i);return this.sort!=null&&Qw(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=On}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&c8(i,o,e,r.projection)}}scale(n,e,r){const i=Kw(n,e);return r.projection&&this.project(n,i,r),i}}function s1(...t){return t.plot=Zt.prototype.plot,t}function l1(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,s,u,h,l)=>n.call(this,c,s,u,h,l,f))}}function R8(t){return Object.fromEntries(Object.entries(R0(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:Oo(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function I8(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Xt(t,"tip",["x","y","xy"]):t}function h1(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:de(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function P8(t,n,e={}){let r=.5-Et,i=.5+Et,o=.5+Et,a=.5-Et;for(const{marginTop:g,marginRight:m,marginBottom:_,marginLeft:b}of n)g>r&&(r=g),m>i&&(i=m),_>o&&(o=_),b>a&&(a=b);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:o,marginLeft:h=f!==void 0?f:a}=e;c=+c,s=+s,u=+u,h=+h;let{width:l=640,height:d=F8(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=e;l=+l,d=+d;const p={width:l,height:d,marginTop:c,marginRight:s,marginBottom:u,marginLeft:h};if(t.fx||t.fy){let{margin:g,marginTop:m=g!==void 0?g:c,marginRight:_=g!==void 0?g:s,marginBottom:b=g!==void 0?g:u,marginLeft:v=g!==void 0?g:h}=e.facet??{};m=+m,_=+_,b=+b,v=+v,p.facet={marginTop:m,marginRight:_,marginBottom:b,marginLeft:v}}return p}function F8({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const h=e&&e.scale.domain().length||1,l=s8(i);if(l){const p=r?r.scale.domain().length:1,g=(1.1*h-.1)/(1.1*p-.1)*l,m=Math.max(.1,Math.min(10,g));return Math.round((a-u-c)*m+f+s)}const d=n?ge(n)?n.scale.domain().length||1:Math.max(7,17/h):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=vs("y",n)/(vs("x",t)*o),g=r?r.scale.bandwidth():1,m=e?e.scale.bandwidth():1,_=g*(a-u-c)-t.insetLeft-t.insetRight;return(p*_+n.insetTop+n.insetBottom)/m+f+s}return!!(n||e)*Math.max(1,Math.min(60,d*h))*20+!!r*30+60}function vs(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Rn(r);return Math.abs(i(a)-i(o))}const xs=new WeakMap;function Ec(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...s}={}){return a=+a,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...s,render:l1(function(u,h,l,d,p,g){p={...p,pointerSticky:!1};const m=p.ownerSVGElement,{data:_}=p.getMarkState(this);let b=xs.get(m);b||xs.set(m,b={sticky:!1,roots:[],renders:[]});let v=b.renders.push(q)-1;const{x:y,y:M,fx:w,fy:$}=h;let S=w?w(u.fx)-d.marginLeft:0,T=$?$(u.fy)-d.marginTop:0;y!=null&&y.bandwidth&&(S+=y.bandwidth()/2),M!=null&&M.bandwidth&&(T+=M.bandwidth()/2);const k=u.fi!=null;let x;if(k){let U=b.facetStates;U||(b.facetStates=U=new Map),x=U.get(this),x||U.set(this,x=new Map)}const[N,P]=ti(this,d),{px:R,py:A}=l,I=R?U=>R[U]:d1(l,N),H=A?U=>A[U]:p1(l,P);let B,W,L,F;function D(U,Y){if(k)if(F&&(F=cancelAnimationFrame(F)),U==null)x.delete(u.fi);else{x.set(u.fi,Y),F=requestAnimationFrame(()=>{F=null;for(const[E,O]of x)if(O<Y||O===Y&&E<u.fi){U=null;break}q(U)});return}q(U)}function q(U){if(B===U&&L===b.sticky)return;B=U,L=p.pointerSticky=b.sticky;const Y=B==null?[]:[B];k&&(Y.fx=u.fx,Y.fy=u.fy,Y.fi=u.fi);const E=g(Y,h,l,d,p);if(W){if(k){const O=W.parentNode,z=W.getAttribute("transform"),C=E.getAttribute("transform");z?E.setAttribute("transform",z):E.removeAttribute("transform"),C?O.setAttribute("transform",C):O.removeAttribute("transform"),E.removeAttribute("aria-label"),E.removeAttribute("aria-description"),E.removeAttribute("aria-hidden")}W.replaceWith(E)}if(b.roots[v]=W=E,!(B==null&&(x==null?void 0:x.size)>1)){const O=B==null?null:Vr(_)?_[B]:_.get(B);p.dispatchValue(O)}return E}function tt(U){if(b.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[Y,E]=Om(U);Y-=S,E-=T;const O=Y<d.marginLeft||Y>d.width-d.marginRight?1:t,z=E<d.marginTop||E>d.height-d.marginBottom?1:n;let C=null,ot=a*a;for(const V of u){const ct=O*(I(V)-Y),ht=z*(H(V)-E),kt=ct*ct+ht*ht;kt<=ot&&(C=V,ot=kt)}if(C!=null&&(t!==1||n!==1)){const V=I(C)-Y,ct=H(C)-E;ot=V*V+ct*ct}D(C,ot)}function nt(U){U.pointerType==="mouse"&&B!=null&&(b.sticky&&b.roots.some(Y=>Y==null?void 0:Y.contains(U.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(Y=>Y(null))):(b.sticky=!0,q(B)),U.stopImmediatePropagation()))}function K(U){U.pointerType==="mouse"&&(b.sticky||D(null))}return m.addEventListener("pointerenter",tt),m.addEventListener("pointermove",tt),m.addEventListener("pointerdown",nt),m.addEventListener("pointerleave",K),q(null)},c)}}function O8(t){return Ec(1,1,t)}function q8(t){return Ec(1,.01,t)}function Ms(t){return Ec(.01,1,t)}function d1({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function p1({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function g1(t){return ge(t)&&t.interval===void 0?void 0:"tabular-nums"}function U8(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:h=(i-s-f)/64,tickFormat:l,fontVariant:d=g1(t),round:p=!0,opacity:g,className:m}=n;const _=Ac(n);m=Wo(m),g=St(g)[1],l===null&&(l=()=>null);const b=Mt("svg",_).attr("class",`${m}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(N=>N.append("style").text(`:where(.${m}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${m}-ramp text) {
  white-space: pre;
}`)).call(kc,u);let v=N=>N.selectAll(".tick line").attr("y1",a+c-o),y;const M=p?(N,P)=>N.rangeRound(P):(N,P)=>N.range(P),{type:w,domain:$,range:S,interpolate:T,scale:k,pivot:x}=t;if(T){const N=S===void 0?T:go(T.length===1?$c(T):T,S);y=M(k.copy(),Ht(_t(s,i-f),Math.min($.length+(x!==void 0),S===void 0?1/0:S.length)));const P=256,R=_.document.createElement("canvas");R.width=P,R.height=1;const A=R.getContext("2d");for(let I=0,H=P-1;I<P;++I)A.fillStyle=N(I/H),A.fillRect(I,0,1,1);b.append("image").attr("opacity",g).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(w==="threshold"){const N=$,P=l===void 0?R=>R:typeof l=="string"?We(l):l;y=M(tc().domain([-1,S.length-1]),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data(S).enter().append("rect").attr("x",(R,A)=>y(A-1)).attr("y",a).attr("width",(R,A)=>y(A)-y(A-1)).attr("height",o-a-c).attr("fill",R=>R),h=xt(N,(R,A)=>A),l=R=>P(N[R],R)}else y=M(xo().domain($),[s,i-f]),b.append("g").attr("fill-opacity",g).selectAll().data($).enter().append("rect").attr("x",y).attr("y",a).attr("width",Math.max(0,y.bandwidth()-1)).attr("height",o-a-c).attr("fill",k),v=()=>{};return b.append("g").attr("transform",`translate(0,${o-c})`).call(ng(y).ticks(Array.isArray(h)?null:h,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(h)?h:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",yt(d,"normal")).call(v).call(N=>N.select(".domain").remove()),e!==void 0&&b.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const m1=Math.PI/180;function Nc(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Sa(e),t.markerMid=Sa(r),t.markerEnd=Sa(i)}function Sa(t){if(t==null||t===!1)return null;if(t===!0)return Ts;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return $s("auto");case"arrow-reverse":return $s("auto-start-reverse");case"dot":return z8;case"circle":case"circle-fill":return Ts;case"circle-stroke":return B8;case"tick":return Aa("auto");case"tick-x":return Aa(90);case"tick-y":return Aa(0)}throw new Error(`invalid marker: ${t}`)}function $s(t){return(n,e)=>Mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function z8(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function Ts(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function B8(t,n){return Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Aa(t){return(n,e)=>Mt("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let Y8=0;function b1(t,n,{stroke:e},r){return _1(t,n,e&&(i=>e[i]),null,r)}function H8(t,n,{stroke:e,z:r},i){return _1(t,n,e&&(([o])=>e[o]),r,i)}const Ef=1,y1=2;function W8(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=kf;o<i;++o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=vn(n[c]))&&(e[c]|=Ef)}}for(let o=i-1,a=kf;o>=0;--o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=vn(n[c]))&&(e[c]|=y1)}}return([o])=>e[o]}function _1(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,f){if(!n&&!e&&!r)return;const c=new Map,s=a&&W8(t,a);function u(h,l,d){return function(p){if(d&&!d(p))return;const g=o(p);let m=c.get(l);m||c.set(l,m=new Map);let _=m.get(g);if(!_){const b=this.parentNode.insertBefore(l(g,f),this),v=`plot-marker-${++Y8}`;b.setAttribute("id",v),m.set(g,_=`url(#${v})`)}this.setAttribute(h,_)}}n&&t.each(u("marker-start",n,s&&(h=>s(h)&Ef))),e&&s&&t.each(u("marker-start",e,h=>!(s(h)&Ef))),e&&t.each(u("marker-mid",e)),r&&t.each(u("marker-end",r,s&&(h=>s(h)&y1)))}function w1({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=x1(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function v1({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=x1(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function x1(t,n,e){return t===void 0&&n===void 0&&e===void 0?Et?[1,0]:[.5,.5]:[n,e]}function M1(t,{interval:n}){return t={...Oo(t)},t.interval=bc(t.interval===void 0?n:t.interval),t}function $1(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=M1(i,e);if(f==null||c==null&&!r)return e;const s=Fo(i);if(c==null){let d;const p={transform:g=>d||(d=qn(g,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let u,h;function l(d){return h!==void 0&&d===u?h:h=xt(qn(u=d,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:s}:o,[`${t}2`]:a===void 0?{transform:d=>l(d).map(p=>c.offset(p)),label:s}:a})}function T1(t,n,e){const{[t]:r}=e,{value:i,interval:o}=M1(r,e);return i==null||o==null?e:n({...e,[t]:{label:Fo(r),transform:a=>{const f=xt(qn(a,i),s=>o.floor(s)),c=f.map(s=>o.offset(s));return f.map(an(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function V8(t={}){return $1("x",w1,t)}function G8(t={}){return $1("y",v1,t)}function X8(t={}){return T1("x",w1,t)}function Z8(t={}){return T1("y",v1,t)}const S1={ariaLabel:"rule",fill:null,stroke:"currentColor"};class j8 extends Zt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},h1(e,"x"),S1),this.insetTop=vt(f),this.insetBottom=vt(c),Nc(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:s,y2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetTop:_,insetBottom:b}=this;return Mt("svg:g",o).call(Hn,this,i,o).call(Vn,this,{x:c&&a},Et,0).call(v=>v.selectAll().data(n).enter().append("line").call(Wn,this).attr("x1",c?y=>c[y]:(g+h-p)/2).attr("x2",c?y=>c[y]:(g+h-p)/2).attr("y1",s&&!oo(f)?y=>s[y]+_:d+_).attr("y2",u&&!oo(f)?f.bandwidth?y=>u[y]+f.bandwidth()-b:y=>u[y]-b:l-m-b).call(Ge,this,r).call(b1,this,r,o)).node()}}class K8 extends Zt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},h1(e,"y"),S1),this.insetRight=vt(f),this.insetLeft=vt(c),Nc(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:s,x2:u}=r,{width:h,height:l,marginTop:d,marginRight:p,marginLeft:g,marginBottom:m}=i,{insetLeft:_,insetRight:b}=this;return Mt("svg:g",o).call(Hn,this,i,o).call(Vn,this,{y:c&&f},0,Et).call(v=>v.selectAll().data(n).enter().append("line").call(Wn,this).attr("x1",s&&!oo(a)?y=>s[y]+_:g+_).attr("x2",u&&!oo(a)?a.bandwidth?y=>u[y]+a.bandwidth()-b:y=>u[y]-b:h-p-b).attr("y1",c?y=>c[y]:(d+l-m)/2).attr("y2",c?y=>c[y]:(d+l-m)/2).call(Ge,this,r).call(b1,this,r,o)).node()}}function Q8(t,n){let{x:e=Tn,y:r,y1:i,y2:o,...a}=G8(n);return[i,o]=A1(r,i,o),new j8(t,{...a,x:e,y1:i,y2:o})}function J8(t,n){let{y:e=Tn,x:r,x1:i,x2:o,...a}=V8(n);return[i,o]=A1(r,i,o),new K8(t,{...a,y:e,x1:i,x2:o})}function A1(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function Lc(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const t5={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},C1="­";class Dc extends Zt{constructor(n,e={}){const{x:r,y:i,text:o=pe(n)&&D0(n)?Tn:uw,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:h,monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:g,fontVariant:m,fontWeight:_,rotate:b}=e,[v,y]=St(b,0),[M,w]=a5(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:ww(v),optional:!0},text:{value:o,filter:uc,optional:!0}},e,t5),this.rotate=y,this.textAnchor=yt(f,"middle"),this.lineAnchor=Xt(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=k1(h),this.monospace=!!l,this.fontFamily=Tt(d),this.fontSize=w,this.fontStyle=Tt(g),this.fontVariant=Tt(m),this.fontWeight=Tt(_),this.frameAnchor=Uo(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=L1(this),this.clipLine=D1(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,rotate:u,text:h,title:l,fontSize:d}=r,{rotate:p}=this,[g,m]=ti(this,i);return Mt("svg:g",o).call(Hn,this,i,o).call(N1,this,h,i).call(Vn,this,{x:c&&a,y:s&&f}).call(_=>_.selectAll().data(n).enter().append("text").call(Wn,this).call(n5,this,h,l).attr("transform",Lc`translate(${c?b=>c[b]:g},${s?b=>s[b]:m})${u?b=>` rotate(${u[b]})`:p?` rotate(${p})`:""}`).call(Z,"font-size",d&&(b=>d[b])).call(Ge,this,r)).node()}}function k1(t){return t==null?null:Xt(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function n5(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(s){const u=f(Be(e[s])??"").map(c),h=u.length,l=i==="top"?.71:i==="bottom"?1-h:(164-h*100)/200;if(h>1){let d=0;for(let p=0;p<h;++p){if(++d,!u[p])continue;const g=this.ownerDocument.createElementNS(Ce.svg,"tspan");g.setAttribute("x",0),p===d-1?g.setAttribute("y",`${(l+p)*o}em`):g.setAttribute("dy",`${d*o}em`),g.textContent=u[p],this.appendChild(g),d=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==e[s]){const d=this.ownerDocument.createElementNS(Ce.svg,"title");d.textContent=e[s],this.appendChild(d)}})}function E1(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Po(n,e)),new Dc(t,{...r,x:n,y:e})}function e5(t,{x:n=Tn,...e}={}){return new Dc(t,Z8({...e,x:n}))}function r5(t,{y:n=Tn,...e}={}){return new Dc(t,X8({...e,y:n}))}function N1(t,n,e){Z(t,"text-anchor",n.textAnchor),Z(t,"font-family",n.fontFamily),Z(t,"font-size",n.fontSize),Z(t,"font-style",n.fontStyle),Z(t,"font-variant",n.fontVariant===void 0?i5(e):n.fontVariant),Z(t,"font-weight",n.fontWeight)}function i5(t){return t&&(Mw(t)||an(t))?"tabular-nums":void 0}const o5=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function a5(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),o5.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function f5(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of c5(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===C1?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*c5(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case C1:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const Ss={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function Rc(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Xe(t,i))r+=Ss[t[i]]??(I1(t,i)?120:Ss.e);return r}function Ic(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=Xe(t,i))r+=I1(t,i)?126:63;return r}function L1({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Ic:Rc,i=n*100;return o=>f5(o,i,r)}function D1({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?Ic:Rc,i=n*100;switch(e){case"clip-start":return o=>Cs(o,i,r,"");case"clip-end":return o=>As(o,i,r,"");case"ellipsis-start":return o=>Cs(o,i,r,Ae);case"ellipsis-middle":return o=>u5(o,i,r,Ae);case"ellipsis-end":return o=>As(o,i,r,Ae)}}const Ae="…";function Ye(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=Xe(t,a);const s=e(t,a,f);if(o+s>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function As(t,n,e,r){t=t.trim();const i=e(r),[o]=Ye(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function u5(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=Ye(t,n/2,e,o),[c]=Ye(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(Xe(t,c)).trimStart()}function Cs(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=Ye(t,i-n+o,e,-o);return a<0?r:r+t.slice(Xe(t,a)).trimStart()}const Nf=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,ks=new RegExp("\\p{Extended_Pictographic}","uy");function Xe(t,n){return n+=s5(t,n)?2:1,h5(t,n)&&(n=Nf.lastIndex),l5(t,n)?Xe(t,n+1):n}function R1(t,n){return t.charCodeAt(n)<128}function s5(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function l5(t,n){return t.charCodeAt(n)===8205}function h5(t,n){return R1(t,n)?!1:(Nf.lastIndex=n,Nf.test(t))}function I1(t,n){return R1(t,n)?!1:(ks.lastIndex=n,ks.test(t))}const d5={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},P1=3.5,p5=P1*5,F1={draw(t,n,e){const r=n*e/p5;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},g5={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},m5=new Map([["arrow",F1],["spike",g5]]);function b5(t){return t&&typeof t.draw=="function"}function y5(t){if(b5(t))return t;const n=m5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class O1 extends Zt{constructor(n,e={}){const{x:r,y:i,r:o=P1,length:a,rotate:f,shape:c=F1,anchor:s="middle",frameAnchor:u}=e,[h,l]=St(a,12),[d,p]=St(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:h,scale:"length",optional:!0},rotate:{value:d,optional:!0}},e,d5),this.r=+o,this.length=l,this.rotate=p,this.shape=y5(c),this.anchor=Xt(s,"anchor",["start","middle","end"]),this.frameAnchor=Uo(u)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,length:u,rotate:h}=r,{length:l,rotate:d,anchor:p,shape:g,r:m}=this,[_,b]=ti(this,i);return Mt("svg:g",o).call(Hn,this,i,o).call(Vn,this,{x:c&&a,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Wn,this).attr("transform",Lc`translate(${c?y=>c[y]:_},${s?y=>s[y]:b})${h?y=>` rotate(${h[y]})`:d?` rotate(${d})`:""}${p==="start"?"":p==="end"?u?y=>` translate(0,${u[y]})`:` translate(0,${l})`:u?y=>` translate(0,${u[y]/2})`:` translate(0,${l/2})`}`).attr("d",u?y=>{const M=Kn();return g.draw(M,u[y],m),M}:(()=>{const y=Kn();return g.draw(y,l,m),y})()).call(Ge,this,r)).node()}}function _5(t,n={}){const{x:e=Tn,...r}=n;return new O1(t,{...r,x:e})}function w5(t,n={}){const{y:e=Tn,...r}=n;return new O1(t,{...r,y:e})}function Gn(t,n){return arguments.length<2&&!pe(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function Vo({anchor:t}={},n){return t===void 0?n[0]:Xt(t,"anchor",n)}function q1(t){return Vo(t,["left","right"])}function U1(t){return Vo(t,["right","left"])}function z1(t){return Vo(t,["bottom","top"])}function B1(t){return Vo(t,["top","bottom"])}function Y1(){const[t,n]=Gn(...arguments);return W1("y",q1(n),t,n)}function v5(){const[t,n]=Gn(...arguments);return W1("fy",U1(n),t,n)}function H1(){const[t,n]=Gn(...arguments);return V1("x",z1(n),t,n)}function x5(){const[t,n]=Gn(...arguments);return V1("fx",B1(n),t,n)}function W1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="y"?6:0,tickPadding:g,tickRotate:m,x:_,margin:b,marginTop:v=b===void 0?20:b,marginRight:y=b===void 0?n==="right"?40:0:b,marginBottom:M=b===void 0?20:b,marginLeft:w=b===void 0?n==="left"?40:0:b,label:$,labelAnchor:S,labelArrow:T,labelOffset:k,...x}){return p=vt(p),g=vt(g),m=vt(m),S!==void 0&&(S=Xt(S,"labelAnchor",["center","top","bottom"])),T=tp(T),s1(p&&!At(o)?M5(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,x:_,...x}):null,At(c)?null:T5(t,n,e,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,x:_,marginTop:v,marginRight:y,marginBottom:M,marginLeft:w,...x}),!At(c)&&$!==null?E1([],j1({fill:c,fillOpacity:s,...x},function(N,P,R,A,I){const H=A[t],{marginTop:B,marginRight:W,marginBottom:L,marginLeft:F}=t==="y"&&I.inset||I,D=S??(H.bandwidth?"center":"top"),q=k??(n==="right"?W:F)-3;return D==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=D,this.frameAnchor=`${D}-${n}`,this.rotate=0),this.dy=D==="top"?3-B:D==="bottom"?L-3:0,this.dx=n==="right"?q:-q,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[J1(t,H,{anchor:n,label:$,labelAnchor:D,labelArrow:T})]}}}})):null)}function V1(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:h,textStrokeOpacity:l,textStrokeWidth:d,tickSize:p=t==="x"?6:0,tickPadding:g,tickRotate:m,y:_,margin:b,marginTop:v=b===void 0?n==="top"?30:0:b,marginRight:y=b===void 0?20:b,marginBottom:M=b===void 0?n==="bottom"?30:0:b,marginLeft:w=b===void 0?20:b,label:$,labelAnchor:S,labelArrow:T,labelOffset:k,...x}){return p=vt(p),g=vt(g),m=vt(m),S!==void 0&&(S=Xt(S,"labelAnchor",["center","left","right"])),T=tp(T),s1(p&&!At(o)?$5(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:g,tickRotate:m,y:_,...x}):null,At(c)?null:S5(t,n,e,{fill:c,fillOpacity:s,stroke:h,strokeOpacity:l,strokeWidth:d,textAnchor:u,tickSize:p,tickPadding:g,tickRotate:m,y:_,marginTop:v,marginRight:y,marginBottom:M,marginLeft:w,...x}),!At(c)&&$!==null?E1([],j1({fill:c,fillOpacity:s,...x},function(N,P,R,A,I){const H=A[t],{marginTop:B,marginRight:W,marginBottom:L,marginLeft:F}=t==="x"&&I.inset||I,D=S??(H.bandwidth?"center":"right"),q=k??(n==="top"?B:L)-3;return D==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${D}`,this.textAnchor=D==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-q:q,this.dx=D==="right"?W-3:D==="left"?3-F:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[J1(t,H,{anchor:n,label:$,labelAnchor:D,labelArrow:T})]}}}})):null)}function M5(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:h=s,dx:l=0,y:d=t==="y"?void 0:null,...p}){return Ze(w5,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:d,...p,dx:n==="left"?+l-Et+ +u:+l+Et-h,anchor:"start",length:c,shape:n==="left"?R5:I5})}function $5(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:h=s,dy:l=0,x:d=t==="x"?void 0:null,...p}){return Ze(_5,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:d,...p,dy:n==="bottom"?+l-Et-h:+l+Et+ +u,anchor:"start",length:c,shape:n==="bottom"?L5:D5})}function T5(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*m1):0),text:c,textAnchor:s=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:h,inset:l=0,insetLeft:d=l,insetRight:p=l,dx:g=0,y:m=t==="y"?void 0:null,..._}){return Ze(r5,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:a,y:m,..._,dx:n==="left"?+g-o-f+ +d:+g+ +o+ +f-p},function(b,v,y,M,w){h===void 0&&(this.fontVariant=Q1(b)),c===void 0&&(w.text=K1(b,v,y,M,n))})}function S5(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*m1):0),text:c,textAnchor:s=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:h,inset:l=0,insetTop:d=l,insetBottom:p=l,dy:g=0,x:m=t==="x"?void 0:null,..._}){return Ze(e5,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:h,rotate:a,x:m,..._,dy:n==="bottom"?+g+ +o+ +f-p:+g-o-f+ +d},function(b,v,y,M,w){h===void 0&&(this.fontVariant=Q1(b)),c===void 0&&(w.text=K1(b,v,y,M,n))})}function A5(){const[t,n]=Gn(...arguments);return G1("y",q1(n),t,n)}function C5(){const[t,n]=Gn(...arguments);return G1("fy",U1(n),t,n)}function k5(){const[t,n]=Gn(...arguments);return X1("x",z1(n),t,n)}function E5(){const[t,n]=Gn(...arguments);return X1("fx",B1(n),t,n)}function G1(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,...f}){return Ze(J8,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...Z1(f)})}function X1(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,...f}){return Ze(Q8,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...Z1(f)})}function Z1({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function j1({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},h){return[,t]=ue(t),[,n]=St(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:h}}function Ze(t,n,e,r,i,o){let a;function f(u,h,l,d,p,g){const m=u==null&&(n==="fx"||n==="fy"),{[n]:_}=d;if(!_)throw new Error(`missing scale: ${n}`);const b=_.domain();let{interval:v,ticks:y,tickFormat:M,tickSpacing:w=n==="x"?80:35}=i;if(typeof y=="string"&&np(_)&&(v=y,y=void 0),y===void 0&&(y=Xr(v,_.type)??N5(_,w)),u==null){if(pe(y))u=Un(y);else if(_w(y))u=Ca(y,...Rn(b));else if(_.interval){let S=_.interval;if(_.ticks){const[T,k]=Rn(b),x=(k-T)/S[Wr];S=ts(S,x/y)??S,u=Ca(S,T,k)}else{u=b;const T=u.length;S=ts(S,T/y)??S,S!==_.interval&&(u=Ca(S,...Rn(u)))}if(S===_.interval){const T=Math.round(u.length/y);T>1&&(u=u.filter((k,x)=>x%T===0))}}else _.ticks?u=_.ticks(y):u=b;if(!_.ticks&&u.length&&u!==b){const S=new uo(b);u=u.filter(T=>S.has(T)),u.length||In(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?h=[Gr(u)]:a[n]={scale:n,value:Tn}}o==null||o.call(this,_,u,y,M,a);const $=Object.fromEntries(Object.entries(a).map(([S,T])=>[S,{...T,value:qn(u,T.value)}]));return m&&(h=g.filterFacets(u,$)),{data:u,facets:h,channels:$}}const c=ze(i).initializer,s=t(e,ze({...i,initializer:f},c));return e==null?(a=s.channels,s.channels={}):a={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function N5(t,n){const[e,r]=Rn(t.range());return(r-e)/n}function K1(t,n,e,r,i){return{value:Pc(t,n,e,r,i)}}function Pc(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&an(n)?ew(t.type,n,i)??Be:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?Be:typeof r=="string"?(an(t.domain())?Hr:We)(r):wn(r)}function Ca(t,n,e){return t.range(n,t.offset(t.floor(e)))}const L5={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},D5={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},R5={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},I5={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function Q1(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function J1(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&np(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=q3(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return e==="right"?`${r} ↑`:`↑ ${r}`;case"down":return e==="right"?`${r} ↓`:`↓ ${r}`}return r}}function tp(t="auto"){return At(t)?!1:typeof t=="boolean"?t:Xt(t,"labelArrow",["auto","up","right","down","left"])}function np(t){return an(t.domain())}function Es(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function P5(t,{opacity:n,...e}={}){if(!ge(t)&&!o1(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return ep(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",St(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function F5(t,{fill:n=(s=>(s=t.hint)==null?void 0:s.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(u=>(u=t.hint)==null?void 0:u.stroke)()!==void 0?t.hint.stroke:At(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[h,l]=ue(n),[d,p]=ue(r),g=Es(c,h),m=Es(c,d),_=a*a*Math.PI;return e=St(e)[1],i=St(i)[1],o=St(o)[1],ep(t,f,(b,v,y,M)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",y).attr("height",M).attr("fill",h==="color"?w=>g.scale(w):l).attr("fill-opacity",e).attr("stroke",d==="color"?w=>m.scale(w):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",w=>{const $=Kn();return t.scale(w).draw($,_),$}))}function ep(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=g1(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:s=0,className:u,style:h,width:l}=n;const d=Ac(n);u=Wo(u),i=Pc(t.scale,t.domain,void 0,i);const p=Mt("div",d).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let g;return r!=null?(g=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,f,c).call(m=>m.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(g=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(m=>m.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${g}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",yt(o,"normal")).call(kc,h).node()}const Lf=new Map([["symbol",F5],["color",ip],["opacity",q5]]);function O5(t,n,e={}){return(r,i)=>{if(!Lf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Lf.get(r)(t[r],rp(n,e[r],i),o=>t[o])}}function rp({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return Aw(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function ip(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return P5(t,e);case"ramp":return U8(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function q5({type:t,interpolate:n,...e},{legend:r=!0,color:i=Pn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return ip({type:t,...e,interpolate:U5(i)},{legend:r,...o})}function U5(t){const{r:n,g:e,b:r}=Pn(t)||Pn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function z5(t,n,e){const r=[];for(const[i,o]of Lf){const a=e[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],rp(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}function B5(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=vt(e),t.insetRight=vt(r),t.insetBottom=vt(i),t.insetLeft=vt(o)}function Y5(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:f=n,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:u=a!==void 0?+a:o!==void 0?+o:0,rx2y2:h=a!==void 0?+a:f!==void 0?+f:0}={}){c||s||u||h?(t.rx1y1=c,t.rx1y2=s,t.rx2y1=u,t.rx2y2=h):(t.rx=yt(e,"auto"),t.ry=yt(r,"auto"))}function H5(t,n,e,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:c,rx2y2:s}=o;typeof n!="function"&&(n=wn(n)),typeof e!="function"&&(e=wn(e)),typeof r!="function"&&(r=wn(r)),typeof i!="function"&&(i=wn(i));const u=Math.max(Math.abs(a+c),Math.abs(f+s)),h=Math.max(Math.abs(a+f),Math.abs(c+s));t.attr("d",l=>{const d=n(l),p=e(l),g=r(l),m=i(l),_=d>g,b=p>m,v=_?g:d,y=_?d:g,M=b?m:p,w=b?p:m,$=Math.min(1,(y-v)/u,(w-M)/h),S=$*(_?b?s:c:b?f:a),T=$*(_?b?f:a:b?s:c),k=$*(_?b?a:f:b?c:s),x=$*(_?b?c:s:b?a:f);return`M${v},${M+mi(S,x)}A${S},${S} 0 0 ${S<0?0:1} ${v+gi(S,x)},${M}H${y-gi(T,k)}A${T},${T} 0 0 ${T<0?0:1} ${y},${M+mi(T,k)}V${w-mi(k,T)}A${k},${k} 0 0 ${k<0?0:1} ${y-gi(k,T)},${w}H${v+gi(x,S)}A${x},${x} 0 0 ${x<0?0:1} ${v},${w-mi(x,S)}Z`})}function gi(t,n){return n<0?t:Math.abs(t)}function mi(t,n){return n<0?Math.abs(t):t}const W5={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},V5={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class G5 extends Zt{constructor(n={}){const{anchor:e=null}=n;super(Ti,void 0,n,e==null?W5:V5),this.anchor=L0(e,"anchor",["top","right","bottom","left"]),B5(this,n),e||Y5(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:h}=i,{anchor:l,insetTop:d,insetRight:p,insetBottom:g,insetLeft:m}=this,{rx:_,ry:b,rx1y1:v,rx1y2:y,rx2y1:M,rx2y2:w}=this,$=s+m,S=u-f-p,T=a+d,k=h-c-g;return Mt(l?"svg:line":v||y||M||w?"svg:path":"svg:rect",o).datum(0).call(Hn,this,i,o).call(Wn,this).call(Ge,this,r).call(Vn,this,{}).call(l==="left"?x=>x.attr("x1",$).attr("x2",$).attr("y1",T).attr("y2",k):l==="right"?x=>x.attr("x1",S).attr("x2",S).attr("y1",T).attr("y2",k):l==="top"?x=>x.attr("x1",$).attr("x2",S).attr("y1",T).attr("y2",T):l==="bottom"?x=>x.attr("x1",$).attr("x2",S).attr("y1",k).attr("y2",k):v||y||M||w?x=>x.call(H5,$,T,S,k,this):x=>x.attr("x",$).attr("y",T).attr("width",S-$).attr("height",k-T).attr("rx",_).attr("ry",b)).node()}}function X5(t){return new G5(t)}const ka={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Z5=new Set(["geometry","href","src","ariaLabel","scales"]);class j5 extends Zt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&pe(n)&&D0(n)&&(e={...e,title:Tn});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:h,fontFamily:l=h?"ui-monospace, monospace":void 0,fontSize:d,fontStyle:p,fontVariant:g,fontWeight:m,lineHeight:_=1,lineWidth:b=20,frameAnchor:v,format:y,textAnchor:M="start",textOverflow:w,textPadding:$=8,title:S,pointerSize:T=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:S,optional:!0}},e,ka),this.anchor=xf(s,"anchor"),this.preferredAnchor=xf(u,"preferredAnchor"),this.frameAnchor=Uo(v),this.textAnchor=yt(M,"middle"),this.textPadding=+$,this.pointerSize=+T,this.pathFilter=Tt(k),this.lineHeight=+_,this.lineWidth=+b,this.textOverflow=k1(w),this.monospace=!!h,this.fontFamily=Tt(l),this.fontSize=vt(d),this.fontStyle=Tt(p),this.fontVariant=Tt(g),this.fontWeight=Tt(m);for(const x in ka)x in this.channels&&(this[x]=ka[x]);this.splitLines=L1(this),this.clipLine=D1(this),this.format=typeof y=="string"||typeof y=="function"?{title:y}:{...y}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:s,fy:u}=e,{ownerSVGElement:h,document:l}=o,{anchor:d,monospace:p,lineHeight:g,lineWidth:m}=this,{textPadding:_,pointerSize:b,pathFilter:v}=this,{marginTop:y,marginLeft:M}=i,{x1:w,y1:$,x2:S,y2:T,x:k=w??S,y:x=$??T}=r,N=s?s(n.fx)-M:0,P=u?u(n.fy)-y:0,[R,A]=ti(this,i),I=d1(r,R),H=p1(r,A),B=p?Ic:Rc,W=B(Ae);let L,F;"title"in r?(L=Ns.call(this,{title:r.channels.title},e),F=n4):(L=Ns.call(this,r.channels,e),F=e4);const D=Mt("svg:g",o).call(Hn,this,i,o).call(N1,this).call(Vn,this,{x:k&&f,y:x&&c}).call(nt=>nt.selectAll().data(n).enter().append("g").attr("transform",K=>`translate(${Math.round(I(K))},${Math.round(H(K))})`).call(Wn,this).call(K=>K.append("path").attr("filter",v)).call(K=>K.append("text").each(function(U){const Y=$e(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const E=F.call(a,U,n,L,e,r);if(typeof E=="string")for(const O of a.splitLines(E))q(Y,{value:a.clipLine(O)});else{const O=new Set;for(const z of E){const{label:C=""}=z;C&&O.has(C)||(O.add(C),q(Y,z))}}})));function q(nt,{label:K,value:U,color:Y,opacity:E}){K??(K=""),U??(U="");const O=Y!=null||E!=null;let z,C=m*100;const[ot]=Ye(K,C,B,W);if(ot>=0)K=K.slice(0,ot).trimEnd()+Ae,z=U.trim(),U="";else{(K||!U&&!O)&&(U=" "+U);const[ct]=Ye(U,C-B(K),B,W);ct>=0&&(z=U.trim(),U=U.slice(0,ct).trimEnd()+Ae)}const V=nt.append("tspan").attr("x",0).attr("dy",`${g}em`).text("​");K&&V.append("tspan").attr("font-weight","bold").text(K),U&&V.append(()=>l.createTextNode(U)),O&&V.append("tspan").text(" ■").attr("fill",Y).attr("fill-opacity",E).style("user-select","none"),z&&V.append("title").text(z)}function tt(){const{width:nt,height:K}=i.facet??i;D.selectChildren().each(function(U){let{x:Y,width:E,height:O}=this.getBBox();E=Math.round(E),O=Math.round(O);let z=d;if(z===void 0){const V=I(U)+N,ct=H(U)+P,ht=V+E+b+_*2<nt,kt=V-E-b-_*2>0,me=ct+O+b+_*2<K,je=ct-O-b-_*2>0;z=ht&&kt?me&&je?a.preferredAnchor:je?"bottom":"top":me&&je?ht?"left":"right":(ht||kt)&&(me||je)?`${je?"bottom":"top"}-${ht?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,ot=this.lastChild;if(C.setAttribute("d",t4(z,b,_,E,O)),Y)for(const V of ot.childNodes)V.setAttribute("x",-Y);ot.setAttribute("y",`${+Q5(z,ot.childNodes.length,g).toFixed(6)}em`),ot.setAttribute("transform",`translate(${J5(z,b,_,E,O)})`)}),D.attr("visibility",null)}return n.length&&(D.attr("visibility","hidden"),h.isConnected?Promise.resolve().then(tt):typeof requestAnimationFrame<"u"&&requestAnimationFrame(tt)),D.node()}}function K5(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Po(n,e)),new j5(t,{...r,x:n,y:e})}function Q5(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function J5(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function t4(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function Ns(t,n){var i,o;const e={};let r=this.format;r=Ls(r,t,"x"),r=Ls(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")e[a]=!0;else{const c=cs(t,a);c&&(e[a]=c)}}for(const a in t){if(a in e||a in r||Z5.has(a)||(a==="x"||a==="y")&&t.geometry)continue;const f=cs(t,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[a]=f}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const a in e){const f=this.format[a];if(typeof f=="string"){const c=((i=e[a])==null?void 0:i.value)??((o=n[a])==null?void 0:o.domain())??[];this.format[a]=(an(c)?Hr:We)(f)}else if(f===void 0||f===!0){const c=n[a];this.format[a]=c!=null&&c.bandwidth?Pc(c,c.domain()):Be}}return e}function Ls(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function n4(t,n,{title:e}){return this.format.title(e.value[t],t)}function*e4(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:ao(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:Rs(r,e,"x"),value:Ds(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:Rs(r,e,"y"),value:Ds(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!On(f)&&c==null)continue;yield{label:ao(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function Ds(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}–${t(e.value[r],r)}`}function Rs(t,n,e){const r=ao(t,n,`${e}1`,e),i=ao(t,n,`${e}2`,e);return r===i?r:`${r}–${i}`}function ao(t,n,e,r=e){const i=n[e],o=t[(i==null?void 0:i.scale)??e];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function op(t={}){var W;const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=Wo(t.className),s=t.marks===void 0?[]:Ps(t.marks);s.push(...u4(s));const u=f4(n,t),h=new Map;for(const L of s){const F=Fs(L,u,t);F&&h.set(L,F)}const l=new Map;u&&rr(l,[u],t),rr(l,h,t);const d=Ps(s4(s,l,t));for(const L of d){const F=Fs(L,u,t);F&&h.set(L,F)}s.unshift(...d);let p=G3(l,t);if(p!==void 0){const L=u?$a(p,u):void 0;for(const D of s){if(D.facet===null||D.facet==="super")continue;const q=h.get(D);q!==void 0&&(q.facetsIndex=D.fx!=null||D.fy!=null?$a(p,q):L)}const F=new Set;for(const{facetsIndex:D}of h.values())D==null||D.forEach((q,tt)=>{(q==null?void 0:q.length)>0&&F.add(tt)});p.forEach(0<F.size&&F.size<p.length?(D,q)=>D.empty=!F.has(q):D=>D.empty=!1);for(const D of s)if(D.facet==="exclude"){const q=h.get(D);q!==void 0&&(q.facetsIndex=j3(q.facetsIndex))}}for(const L of lt.keys())wf(t[L])&&L!=="fx"&&L!=="fy"&&l.set(L,[]);const g=new Map;for(const L of s){if(g.has(L))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:F,channels:D}=h.get(L)??{},{data:q,facets:tt,channels:nt}=L.initialize(F,D,t);Fc(nt,t),g.set(L,{data:q,facets:tt,channels:nt})}const m=Sf(rr(l,g,t),t),_=P8(m,s,t);F3(m,_);const b=gs(m),{fx:v,fy:y}=b,M=v||y?e1(m,_):_,w=v||y?b4(b,_):_,$=Ac(t),S=$.document,T=lo("svg").call(S.documentElement);let k=T;$.ownerSVGElement=T,$.className=c,$.projection=o8(t,M),$.filterFacets=(L,F)=>$a(p,{channels:F,groups:Sc(L,F)}),$.getMarkState=L=>{const F=g.get(L),D=h.get(L);return{...F,channels:{...F.channels,...D==null?void 0:D.channels}}},$.dispatchValue=L=>{k.value!==L&&(k.value=L,k.dispatchEvent(new Event("input",{bubbles:!0})))};const x=new Set;for(const[L,F]of g)if(L.initializer!=null){const D=L.facet==="super"?w:M,q=L.initializer(F.data,F.facets,F.channels,b,D,$);if(q.data!==void 0&&(F.data=q.data),q.facets!==void 0&&(F.facets=q.facets),q.channels!==void 0){const{fx:tt,fy:nt,...K}=q.channels;a4(K),Object.assign(F.channels,K);for(const U of Object.values(K)){const{scale:Y}=U;Y!=null&&!Ew(lt.get(Y))&&(ap(U,t),x.add(Y))}(tt!=null||nt!=null)&&h.set(L,!0)}}if(x.size){const L=new Map;rr(L,g,t,tt=>x.has(tt)),rr(l,g,t,tt=>x.has(tt));const F=m4(Sf(L,t),m),{scales:D,...q}=gs(F);Object.assign(m,F),Object.assign(b,q),Object.assign(b.scales,D)}let N,P;p!==void 0&&(N={x:v==null?void 0:v.domain(),y:y==null?void 0:y.domain()},p=X3(p,N),P=Z3(v,y,_));for(const[L,F]of g)F.values=L.scale(F.channels,b,$);const{width:R,height:A}=_;$e(T).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",A).attr("viewBox",`0 0 ${R} ${A}`).attr("aria-label",a).attr("aria-description",f).call(L=>L.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(kc,e);for(const L of s){const{channels:F,values:D,facets:q}=g.get(L);if(p===void 0||L.facet==="super"){let tt=null;if(q&&(tt=q[0],tt=L.filter(tt,F,D),tt.length===0))continue;const nt=L.render(tt,b,D,w,$);if(nt==null)continue;T.appendChild(nt)}else{let tt;for(const nt of p){if(!(((W=L.facetAnchor)==null?void 0:W.call(L,p,N,nt))??!nt.empty))continue;let K=null;if(q){const Y=h.has(L);if(K=q[Y?nt.i:0],K=L.filter(K,F,D),K.length===0)continue;!Y&&K===q[0]&&(K=gw(K)),K.fx=nt.x,K.fy=nt.y,K.fi=nt.i}const U=L.render(K,b,D,M,$);if(U!=null){(tt??(tt=$e(T).append("g"))).append(()=>U).datum(nt);for(const Y of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(Y)&&(tt.attr(Y,U.getAttribute(Y)),U.removeAttribute(Y))}}tt==null||tt.selectChildren().attr("transform",P)}}const I=z5(m,$,t),{figure:H=r!=null||i!=null||o!=null||I.length>0}=t;H&&(k=S.createElement("figure"),k.className=`${c}-figure`,k.style.maxWidth="initial",r!=null&&k.append(Is(S,r,"h2")),i!=null&&k.append(Is(S,i,"h3")),k.append(...I,T),o!=null&&k.append(r4(S,o)),"value"in T&&(k.value=T.value,delete T.value)),k.scale=W3(b.scales),k.legend=O5(m,$,t);const B=w3();return B>0&&$e(T).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),k}function Is(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function r4(t,n){const e=t.createElement("figcaption");return e.append(n),e}function Ps(t){return t.flat(1/0).filter(n=>n!=null).map(i4)}function i4(t){return typeof t.render=="function"?t:new o4(t)}class o4 extends Zt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function Fc(t,n){for(const e in t)ap(t[e],n);return t}function ap(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c==null?NaN:c*100:mw(a,i)}=n[e]??{};f!=null&&(t.value=xt(t.value,f),t.transform=!1)}function a4(t){for(const n in t)B0(n,t[n])}function rr(t,n,e,r=sw){var i,o;for(const{channels:a}of n.values())for(const f in a){const c=a[f],{scale:s}=c;if(s!=null&&r(s))if(s==="projection"){if(!u8(e)){const u=((i=e.x)==null?void 0:i.domain)===void 0,h=((o=e.y)==null?void 0:o.domain)===void 0;if(u||h){const[l,d]=l8(c);u&&Ea(t,"x",l),h&&Ea(t,"y",d)}}}else Ea(t,s,c)}return t}function Ea(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function f4(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=qe(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=kr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=kr(i,{value:r,scale:"fy"})),Fc(o,n);const a=Sc(i,o);return{channels:o,groups:a,data:t.data}}function Fs(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=qe(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=kr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=kr(c,{value:i,scale:"fy"})),Fc(s,e),{channels:s,groups:Sc(c,s)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&vf(qe(t.data))===vf(f)&&In(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function c4(t,n={}){return ze({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function u4(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?q8:/^y$/i.test(i)?Ms:O8,r=i(c4(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===Ms?"left":"bottom");const a=K5(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function s4(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:h=c,grid:l}=u,x:{axis:d=c,grid:p=d===null?null:s}=i,y:{axis:g=c,grid:m=g===null?null:s}=o,fx:{axis:_=h,grid:b=_===null?null:l}=a,fy:{axis:v=h,grid:y=v===null?null:l}=f}=e;(r||!wf(i)&&!Os("x",t))&&(d=p=null),(r||!wf(o)&&!Os("y",t))&&(g=m=null),n.has("fx")||(_=b=null),n.has("fy")||(v=y=null),d===void 0&&(d=!_i(t,"x")),g===void 0&&(g=!_i(t,"y")),_===void 0&&(_=!_i(t,"fx")),v===void 0&&(v=!_i(t,"fy")),d===!0&&(d="bottom"),g===!0&&(g="left"),_===!0&&(_=d==="top"||d===null?"bottom":"top"),v===!0&&(v=g==="right"||g===null?"left":"right");const M=[];return yi(M,y,C5,f),bi(M,v,v5,"right","left",u,f),yi(M,b,E5,a),bi(M,_,x5,"top","bottom",u,a),yi(M,m,A5,o),bi(M,g,Y1,"left","right",e,o),yi(M,p,k5,i),bi(M,d,H1,"bottom","top",e,i),M}function bi(t,n,e,r,i,o,a){if(!n)return;const f=l4(n);a=h4(f?r:n,o,a);const{line:c}=a;(e===Y1||e===H1)&&c&&!Cr(c)&&t.push(X5(d4(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function yi(t,n,e,r){!n||Cr(n)||t.push(e(p4(n,r)))}function l4(t){return/^\s*both\s*$/i.test(t)}function h4(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l=n.label,labelAnchor:d,labelArrow:p=n.labelArrow,labelOffset:g}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:h,label:l,labelAnchor:d,labelArrow:p,labelOffset:g}}function d4(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function p4(t,{stroke:n=qo(t)?t:void 0,ticks:e=g4(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function g4(t){switch(typeof t){case"number":return!0;case"string":return!qo(t)}return pe(t)||typeof(t==null?void 0:t.range)=="function"}function _i(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function Os(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function m4(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function b4({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=Tc(e),s=t&&qs(t),u=n&&qs(n);return{marginTop:n?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?c-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function qs(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const y4=new Map([["basis",D6],["basis-closed",R6],["basis-open",I6],["bundle",P6],["bump-x",x6],["bump-y",M6],["cardinal",F6],["cardinal-closed",O6],["cardinal-open",q6],["catmull-rom",U6],["catmull-rom-closed",z6],["catmull-rom-open",B6],["linear",Eo],["linear-closed",Y6],["monotone-x",H6],["monotone-y",W6],["natural",V6],["step",G6],["step-after",Z6],["step-before",X6]]);function _4(t=Eo,n){if(typeof t=="function")return t;const e=y4.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function w4(t=fo,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?fo:_4(t,n)}function fo(t){return Eo(t)}const v4={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function x4(t){return t.sort===void 0&&t.reverse===void 0?Ow({channel:"-r"},t):t}class M4 extends Zt{constructor(n,e={}){const{x:r,y:i,r:o,rotate:a,symbol:f=Ar,frameAnchor:c}=e,[s,u]=St(a,0),[h,l]=Pw(f),[d,p]=St(o,h==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:d,scale:"r",filter:Do,optional:!0},rotate:{value:s,optional:!0},symbol:{value:h,scale:"auto",optional:!0}},x4(e),v4),this.r=p,this.rotate=u,this.symbol=l,this.frameAnchor=Uo(c);const{channels:g}=this,{symbol:m}=g;if(m){const{fill:_,stroke:b}=g;m.hint={fill:_?_.value===m.value?"color":"currentColor":this.fill??"currentColor",stroke:b?b.value===m.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,r:u,rotate:h,symbol:l}=r,{r:d,rotate:p,symbol:g}=this,[m,_]=ti(this,i),b=g===Ar,v=u?void 0:d*d*Math.PI;return sc(d)&&(n=[]),Mt("svg:g",o).call(Hn,this,i,o).call(Vn,this,{x:c&&a,y:s&&f}).call(y=>y.selectAll().data(n).enter().append(b?"circle":"path").call(Wn,this).call(b?M=>{M.attr("cx",c?w=>c[w]:m).attr("cy",s?w=>s[w]:_).attr("r",u?w=>u[w]:d)}:M=>{M.attr("transform",Lc`translate(${c?w=>c[w]:m},${s?w=>s[w]:_})${h?w=>` rotate(${h[w]})`:p?` rotate(${p})`:""}`).attr("d",u&&l?w=>{const $=Kn();return l[w].draw($,u[w]*u[w]*Math.PI),$}:u?w=>{const $=Kn();return g.draw($,u[w]*u[w]*Math.PI),$}:l?w=>{const $=Kn();return l[w].draw($,v),$}:(()=>{const w=Kn();return g.draw(w,v),w})())}).call(Ge,this,r)).node()}}function $4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=Po(n,e)),new M4(t,{...r,x:n,y:e})}const T4={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class S4 extends Zt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:f}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:pw(e),optional:!0}},e,T4),this.z=o,this.curve=w4(a,f),Nc(this,e)}filter(n){return n}project(n,e,r){this.curve!==fo&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:f}=r,{curve:c}=this;return Mt("svg:g",o).call(Hn,this,i,o).call(Vn,this,e).call(s=>s.selectAll().data(C8(n,[a,f],this,r)).enter().append("path").call(Wn,this).call(T8,this,r).call(H8,this,r,o).attr("d",c===fo&&o.projection?A4(o.projection,a,f):v6().curve(c).defined(u=>u>=0).x(u=>a[u]).y(u=>f[u]))).node()}}function A4(t,n,e){const r=yo(t);return n=io(n),e=io(e),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([n[f],e[f]]);return r({type:"MultiLineString",coordinates:a})}}function C4(t,{x:n,y:e,...r}={}){return[n,e]=Po(n,e),new S4(t,{...r,x:n,y:e})}Zt.prototype.plot=function({marks:t=[],...n}={}){return op({...n,marks:[...t,this]})};var k4=cp(`<main class="container svelte-1jr0mym"><header class="intro svelte-1jr0mym"><h1 class="svelte-1jr0mym">Random Number Square Root Approximation</h1> <div class="explanation svelte-1jr0mym"><p class="svelte-1jr0mym">This visualization demonstrates how we can approximate square roots using random numbers,
				based on an interesting probability relationship explained in <a href="https://youtu.be/Pny70rNPJLk" target="_blank" rel="noopener" class="svelte-1jr0mym">3Blue1Brown's video</a>.</p> <p class="svelte-1jr0mym">The key insight is that P(max(x₁, x₂) ≤ R) = P(√(rand(0,1)) ≤ R) = P(rand(0,1) ≤ R²) = R².
				Therefore, if we generate many random point pairs and take the lower R² portion of them, the
				maximum values of these pairs will approximate √(R²).</p></div></header> <div class="controls svelte-1jr0mym"><label>Target value (R²): <input type="number" min="0" max="1" step="0.01" class="svelte-1jr0mym"></label> <label>Number of points: <input type="number" min="100" max="10000" step="100" class="svelte-1jr0mym"></label> <button class="svelte-1jr0mym">Generate New Points</button></div> <div class="visualization svelte-1jr0mym"></div> <div class="stats svelte-1jr0mym"><p> </p> <p> </p> <p> </p></div></main>`);function I4(t,n){pp(n,!1);let e=be(),r=be(.5),i=be(1e3),o=be([]),a=be(0),f=be(Math.sqrt(at(r)));function c(){var k;An(o,Array.from({length:at(i)},()=>{const x=Math.random(),N=Math.random();return{x,y:N,max:Math.max(x,N),selected:!1}})),at(o).sort((x,N)=>x.max-N.max);const T=Math.floor(at(o).length*Math.sqrt(at(r)));An(o,at(o).map((x,N)=>({...x,selected:N<=T}))),An(a,((k=at(o)[T])==null?void 0:k.max)||0),An(f,Math.sqrt(at(r))),s()}function s(){if(!at(e))return;const T=op({width:600,height:600,grid:!0,x:{domain:[0,1]},y:{domain:[0,1]},marks:[$4(at(o),{x:"x",y:"y",fill:k=>k.selected?"red":"blue",opacity:.6,r:3}),C4([[0,at(f)],[at(f),at(f)],[at(f),0]],{stroke:"green",strokeDasharray:"4 4"})]});yp(e,at(e).innerHTML=""),at(e).appendChild(T)}xp(()=>{c()}),gp(()=>(at(r),at(o)),()=>{An(f,Math.sqrt(at(r))),at(o).length>0&&c()}),mp(),up();var u=k4(),h=un(Cn(u),2),l=Cn(h),d=un(Cn(l));Oc(d),kn(l);var p=un(l,2),g=un(Cn(p));Oc(g),kn(p);var m=un(p,2);kn(h);var _=un(h,2);Mp(_,T=>An(e,T),()=>at(e));var b=un(_,2),v=Cn(b),y=Cn(v);Go(()=>Xo(y,`Approximated √(R²): ${at(a).toFixed(4)??""}`)),kn(v);var M=un(v,2),w=Cn(M);Go(()=>Xo(w,`Actual √(R²): ${at(f).toFixed(4)??""}`)),kn(M);var $=un(M,2),S=Cn($);Go(()=>Xo(S,`Error: ${Math.abs(at(a)-at(f)).toFixed(4)??""}`)),kn($),kn(b),kn(u),Uc(d,()=>at(r),T=>An(r,T)),Uc(g,()=>at(i),T=>An(i,T)),vp("click",m,c),fp(t,u),bp()}export{I4 as component};
