import{a as Sm,t as Am}from"../chunks/disclose-version.DhN0r92n.js";import{i as km}from"../chunks/legacy.B6wVef_M.js";import{y as ic,ar as Cm,as as Em,at as Nm,B as Im,p as Lm,au as vn,g as G,av as Dm,aw as Rm,t as yi,a as Fm,d as Ut,ax as yu,s as qt,c as $t,r as Tt,ay as _u}from"../chunks/runtime.CXjKZz1s.js";import{a as Pm,l as Om,e as ga,s as ba}from"../chunks/render.nCaOuANC.js";import{o as zm,b as wu}from"../chunks/index-client.Dk_smWob.js";function _i(t){if(ic){var n=!1,e=()=>{if(!n){if(n=!0,t.hasAttribute("value")){var r=t.value;vu(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var i=t.checked;vu(t,"checked",null),t.checked=i}}};t.__on_r=e,Cm(e),Pm()}}function Um(t,n){var e=t.__attributes??(t.__attributes={});e.value===(e.value=n)||t.value===n&&(n!==0||t.nodeName!=="PROGRESS")||(t.value=n)}function vu(t,n,e,r){var i=t.__attributes??(t.__attributes={});ic&&(i[n]=t.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&t.nodeName==="LINK")||i[n]!==(i[n]=e)&&(n==="style"&&"__styles"in t&&(t.__styles={}),n==="loading"&&(t[Em]=e),t.removeAttribute(n))}function ya(t,n,e=n){var r=Nm();Om(t,"input",()=>{var i=xu(t)?Mu(t.value):t.value;e(i),r&&i!==(i=n())&&(t.value=i??"")}),Im(()=>{var i=n();if(ic&&t.defaultValue!==t.value){e(t.value);return}xu(t)&&i===Mu(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function xu(t){var n=t.type;return n==="number"||n==="range"}function Mu(t){return t===""?null:+t}function Lt(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function jr(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Eo(t){let n,e,r;t.length!==2?(n=Lt,e=(f,c)=>Lt(t(f),c),r=(f,c)=>t(f)-c):(n=t===Lt||t===jr?t:qm,e=t,r=t);function i(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<0?s=d+1:u=d}while(s<u)}return s}function o(f,c,s=0,u=f.length){if(s<u){if(n(c,c)!==0)return u;do{const d=s+u>>>1;e(f[d],c)<=0?s=d+1:u=d}while(s<u)}return s}function a(f,c,s=0,u=f.length){const d=i(f,c,s,u-1);return d>s&&r(f[d-1],c)>-r(f[d],c)?d-1:d}return{left:i,center:a,right:o}}function qm(){return 0}function Tl(t){return t===null?NaN:+t}function*Bm(t,n){if(n===void 0)for(let e of t)e!=null&&(e=+e)>=e&&(yield e);else{let e=-1;for(let r of t)(r=n(r,++e,t))!=null&&(r=+r)>=r&&(yield r)}}const Ym=Eo(Lt),No=Ym.right;Eo(Tl).center;function oc(t,n){let e=0;for(let r of t)r!=null&&(r=+r)>=r&&++e;return e}function Hm(t){return t.length|0}function Wm(t){return!(t>0)}function Vm(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Xm(t){return n=>t(...n)}function jm(...t){const n=typeof t[t.length-1]=="function"&&Xm(t.pop());t=t.map(Vm);const e=t.map(Hm),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(Wm))return o;for(;;){o.push(i.map((f,c)=>t[c][f]));let a=r;for(;++i[a]===e[a];){if(a===0)return n?o.map(n):o;i[a--]=0}}}function Gm(t,n){var e=0;return Float64Array.from(t,r=>e+=+r||0)}function Sl(t,n){let e=0,r,i=0,o=0;if(n===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++e,o+=r*(a-i));else{let a=-1;for(let f of t)(f=n(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++e,o+=r*(f-i))}if(e>1)return o/(e-1)}function Al(t,n){const e=Sl(t,n);return e&&Math.sqrt(e)}function Wt(t,n){let e,r;if(n===void 0)for(const i of t)i!=null&&(e===void 0?i>=i&&(e=r=i):(e>i&&(e=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(e===void 0?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]}class me{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=e[i],a=n+o,f=Math.abs(n)<Math.abs(o)?n-(a-o):o-(a-n);f&&(e[r++]=f),n=a}return e[r]=n,this._n=r+1,this}valueOf(){const n=this._partials;let e=this._n,r,i,o,a=0;if(e>0){for(a=n[--e];e>0&&(r=a,i=n[--e],a=r+i,o=i-(a-r),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class ge extends Map{constructor(n,e=El){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(ef(this,n))}has(n){return super.has(ef(this,n))}set(n,e){return super.set(kl(this,n),e)}delete(n){return super.delete(Cl(this,n))}}class Io extends Set{constructor(n,e=El){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),n!=null)for(const r of n)this.add(r)}has(n){return super.has(ef(this,n))}add(n){return super.add(kl(this,n))}delete(n){return super.delete(Cl(this,n))}}function ef({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):e}function kl({_intern:t,_key:n},e){const r=n(e);return t.has(r)?t.get(r):(t.set(r,e),e)}function Cl({_intern:t,_key:n},e){const r=n(e);return t.has(r)&&(e=t.get(r),t.delete(r)),e}function El(t){return t!==null&&typeof t=="object"?t.valueOf():t}function rf(t){return t}function Lo(t,...n){return ac(t,rf,rf,n)}function Oe(t,n,...e){return ac(t,rf,n,e)}function Zm(t,n,...e){return ac(t,Array.from,n,e)}function ac(t,n,e,r){return function i(o,a){if(a>=r.length)return e(o);const f=new ge,c=r[a++];let s=-1;for(const u of o){const d=c(u,++s,o),l=f.get(d);l?l.push(u):f.set(d,[u])}for(const[u,d]of f)f.set(u,i(d,a));return n(f)}(t,0)}function Km(t,n){return Array.from(n,e=>t[e])}function Wi(t,...n){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[e]=n;if(e&&e.length!==2||n.length>1){const r=Uint32Array.from(t,(i,o)=>o);return n.length>1?(n=n.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of n){const f=Vi(a[i],a[o]);if(f)return f}})):(e=t.map(e),r.sort((i,o)=>Vi(e[i],e[o]))),Km(t,r)}return t.sort(Nl(e))}function Nl(t=Lt){if(t===Lt)return Vi;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,e)=>{const r=t(n,e);return r||r===0?r:(t(e,e)===0)-(t(n,n)===0)}}function Vi(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}function fc(t,n,e){return(n.length!==2?Wi(Oe(t,n,e),([r,i],[o,a])=>Lt(i,a)||Lt(r,o)):Wi(Lo(t,e),([r,i],[o,a])=>n(i,a)||Lt(r,o))).map(([r])=>r)}const Qm=Math.sqrt(50),Jm=Math.sqrt(10),tg=Math.sqrt(2);function Xi(t,n,e){const r=(n-t)/Math.max(0,e),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Qm?10:o>=Jm?5:o>=tg?2:1;let f,c,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(t*s),c=Math.round(n*s),f/s<t&&++f,c/s>n&&--c,s=-s):(s=Math.pow(10,i)*a,f=Math.round(t/s),c=Math.round(n/s),f*s<t&&++f,c*s>n&&--c),c<f&&.5<=e&&e<2?Xi(t,n,e*2):[f,c,s]}function Lr(t,n,e){if(n=+n,t=+t,e=+e,!(e>0))return[];if(t===n)return[t];const r=n<t,[i,o,a]=r?Xi(n,t,e):Xi(t,n,e);if(!(o>=i))return[];const f=o-i+1,c=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)c[s]=(o-s)/-a;else for(let s=0;s<f;++s)c[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)c[s]=(i+s)/-a;else for(let s=0;s<f;++s)c[s]=(i+s)*a;return c}function ji(t,n,e){return n=+n,t=+t,e=+e,Xi(t,n,e)[2]}function of(t,n,e){n=+n,t=+t,e=+e;const r=n<t,i=r?ji(n,t,e):ji(t,n,e);return(r?-1:1)*(i<0?1/-i:i)}function ng(t){return Math.max(1,Math.ceil(Math.log(oc(t))/Math.LN2)+1)}function nn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function eg(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e<o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Rn(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function rg(t,n){let e,r=-1,i=-1;if(n===void 0)for(const o of t)++i,o!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);else for(let o of t)(o=n(o,++i,t))!=null&&(e>o||e===void 0&&o>=o)&&(e=o,r=i);return r}function Il(t,n,e=0,r=1/0,i){if(n=Math.floor(n),e=Math.floor(Math.max(0,e)),r=Math.floor(Math.min(t.length-1,r)),!(e<=n&&n<=r))return t;for(i=i===void 0?Vi:Nl(i);r>e;){if(r-e>600){const c=r-e+1,s=n-e+1,u=Math.log(c),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(c-d)/c)*(s-c/2<0?-1:1),h=Math.max(e,Math.floor(n-s*d/c+l)),p=Math.min(r,Math.floor(n+(c-s)*d/c+l));Il(t,n,h,p,i)}const o=t[n];let a=e,f=r;for(hr(t,e,n),i(t[r],o)>0&&hr(t,e,r);a<f;){for(hr(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[e],o)===0?hr(t,e,f):(++f,hr(t,f,r)),f<=n&&(e=f+1),n<=f&&(r=f-1)}return t}function hr(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Ll(t,n=Lt){let e,r=!1;if(n.length===1){let i;for(const o of t){const a=n(o);(r?Lt(a,i)>0:Lt(a,a)===0)&&(e=o,i=a,r=!0)}}else for(const i of t)(r?n(i,e)>0:n(i,i)===0)&&(e=i,r=!0);return e}function Ye(t,n,e){if(t=Float64Array.from(Bm(t,e)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return Rn(t);if(n>=1)return nn(t);var r,i=(r-1)*n,o=Math.floor(i),a=nn(Il(t,o).subarray(0,o+1)),f=Rn(t.subarray(o+1));return a+(f-a)*(i-o)}}function ig(t,n,e=Tl){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t),f=+e(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function og(t,n,e){const r=oc(t),i=Ye(t,.75)-Ye(t,.25);return r&&i?Math.ceil((e-n)/(2*i*Math.pow(r,-1/3))):1}function Dl(t,n,e){const r=oc(t),i=Al(t);return r&&i?Math.ceil((e-n)*Math.cbrt(r)/(3.49*i)):1}function ag(t,n){let e=0,r=0;if(n===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++e,r+=i);else{let i=-1;for(let o of t)(o=n(o,++i,t))!=null&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}function af(t,n){return Ye(t,.5,n)}function*fg(t){for(const n of t)yield*n}function Rl(t){return Array.from(fg(t))}function cg(t,n){const e=new ge;if(n===void 0)for(let o of t)o!=null&&o>=o&&e.set(o,(e.get(o)||0)+1);else{let o=-1;for(let a of t)(a=n(a,++o,t))!=null&&a>=a&&e.set(a,(e.get(a)||0)+1)}let r,i=0;for(const[o,a]of e)a>i&&(i=a,r=o);return r}function ug(t,n=sg){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function sg(t,n){return[t,n]}function ff(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/e))|0,o=new Array(i);++r<i;)o[r]=t+r*e;return o}function Zn(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Gi(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function lg(t){return t}var dg=3,$u=1e-6;function hg(t){return"translate("+t+",0)"}function pg(t){return n=>+t(n)}function mg(t,n){return n=Math.max(0,t.bandwidth()-n*2)/2,t.round()&&(n=Math.round(n)),e=>+t(e)+n}function gg(){return!this.__axis}function bg(t,n){var e=[],r=null,i=null,o=6,a=6,f=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,u="y",d=hg;function l(h){var p=r??(n.ticks?n.ticks.apply(n,e):n.domain()),m=i??(n.tickFormat?n.tickFormat.apply(n,e):lg),g=Math.max(o,0)+f,y=n.range(),b=+y[0]+c,v=+y[y.length-1]+c,_=(n.bandwidth?mg:pg)(n.copy(),c),M=h.selection?h.selection():h,w=M.selectAll(".domain").data([null]),x=M.selectAll(".tick").data(p,n).order(),T=x.exit(),A=x.enter().append("g").attr("class","tick"),E=x.select("line"),$=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(A),E=E.merge(A.append("line").attr("stroke","currentColor").attr(u+"2",s*o)),$=$.merge(A.append("text").attr("fill","currentColor").attr(u,s*g).attr("dy","0.71em")),h!==M&&(w=w.transition(h),x=x.transition(h),E=E.transition(h),$=$.transition(h),T=T.transition(h).attr("opacity",$u).attr("transform",function(N){return isFinite(N=_(N))?d(N+c):this.getAttribute("transform")}),A.attr("opacity",$u).attr("transform",function(N){var F=this.parentNode.__axis;return d((F&&isFinite(F=F(N))?F:_(N))+c)})),T.remove(),w.attr("d",a?"M"+b+","+s*a+"V"+c+"H"+v+"V"+s*a:"M"+b+","+c+"H"+v),x.attr("opacity",1).attr("transform",function(N){return d(_(N)+c)}),E.attr(u+"2",s*o),$.attr(u,s*g).text(m),M.filter(gg).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),M.each(function(){this.__axis=_})}return l.scale=function(h){return arguments.length?(n=h,l):n},l.ticks=function(){return e=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(e=h==null?[]:Array.from(h),l):e.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(c=+h,l):c},l}function yg(t){return bg(dg,t)}var _g={value:()=>{}};function Fl(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new zi(e)}function zi(t){this._=t}function wg(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}zi.prototype=Fl.prototype={constructor:zi,on:function(t,n){var e=this._,r=wg(t+"",e),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=vg(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<a;)if(i=(t=r[o]).type)e[i]=Tu(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Tu(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new zi(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function vg(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Tu(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=_g,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}var cf="http://www.w3.org/1999/xhtml";const He={svg:"http://www.w3.org/2000/svg",xhtml:cf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Do(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),He.hasOwnProperty(n)?{space:He[n],local:t}:t}function xg(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===cf&&n.documentElement.namespaceURI===cf?n.createElement(t):n.createElementNS(e,t)}}function Mg(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ro(t){var n=Do(t);return(n.local?Mg:xg)(n)}function $g(){}function cc(t){return t==null?$g:function(){return this.querySelector(t)}}function Tg(t){typeof t!="function"&&(t=cc(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=new Array(a),c,s,u=0;u<a;++u)(c=o[u])&&(s=t.call(c,c.__data__,u,o))&&("__data__"in c&&(s.__data__=c.__data__),f[u]=s);return new Pt(r,this._parents)}function Sg(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Ag(){return[]}function Pl(t){return t==null?Ag:function(){return this.querySelectorAll(t)}}function kg(t){return function(){return Sg(t.apply(this,arguments))}}function Cg(t){typeof t=="function"?t=kg(t):t=Pl(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a=n[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&(r.push(t.call(c,c.__data__,s,a)),i.push(c));return new Pt(r,i)}function Ol(t){return function(){return this.matches(t)}}function zl(t){return function(n){return n.matches(t)}}var Eg=Array.prototype.find;function Ng(t){return function(){return Eg.call(this.children,t)}}function Ig(){return this.firstElementChild}function Lg(t){return this.select(t==null?Ig:Ng(typeof t=="function"?t:zl(t)))}var Dg=Array.prototype.filter;function Rg(){return Array.from(this.children)}function Fg(t){return function(){return Dg.call(this.children,t)}}function Pg(t){return this.selectAll(t==null?Rg:Fg(typeof t=="function"?t:zl(t)))}function Og(t){typeof t!="function"&&(t=Ol(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Pt(r,this._parents)}function Ul(t){return new Array(t.length)}function zg(){return new Pt(this._enter||this._groups.map(Ul),this._parents)}function Zi(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Zi.prototype={constructor:Zi,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ug(t){return function(){return t}}function qg(t,n,e,r,i,o){for(var a=0,f,c=n.length,s=o.length;a<s;++a)(f=n[a])?(f.__data__=o[a],r[a]=f):e[a]=new Zi(t,o[a]);for(;a<c;++a)(f=n[a])&&(i[a]=f)}function Bg(t,n,e,r,i,o,a){var f,c,s=new Map,u=n.length,d=o.length,l=new Array(u),h;for(f=0;f<u;++f)(c=n[f])&&(l[f]=h=a.call(c,c.__data__,f,n)+"",s.has(h)?i[f]=c:s.set(h,c));for(f=0;f<d;++f)h=a.call(t,o[f],f,o)+"",(c=s.get(h))?(r[f]=c,c.__data__=o[f],s.delete(h)):e[f]=new Zi(t,o[f]);for(f=0;f<u;++f)(c=n[f])&&s.get(l[f])===c&&(i[f]=c)}function Yg(t){return t.__data__}function Hg(t,n){if(!arguments.length)return Array.from(this,Yg);var e=n?Bg:qg,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ug(t));for(var o=i.length,a=new Array(o),f=new Array(o),c=new Array(o),s=0;s<o;++s){var u=r[s],d=i[s],l=d.length,h=Wg(t.call(u,u&&u.__data__,s,r)),p=h.length,m=f[s]=new Array(p),g=a[s]=new Array(p),y=c[s]=new Array(l);e(u,d,m,g,y,h,n);for(var b=0,v=0,_,M;b<p;++b)if(_=m[b]){for(b>=v&&(v=b+1);!(M=g[v])&&++v<p;);_._next=M||null}}return a=new Pt(a,r),a._enter=f,a._exit=c,a}function Wg(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vg(){return new Pt(this._exit||this._groups.map(Ul),this._parents)}function Xg(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function jg(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,a=Math.min(i,o),f=new Array(i),c=0;c<a;++c)for(var s=e[c],u=r[c],d=s.length,l=f[c]=new Array(d),h,p=0;p<d;++p)(h=s[p]||u[p])&&(l[p]=h);for(;c<i;++c)f[c]=e[c];return new Pt(f,this._parents)}function Gg(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Zg(t){t||(t=Kg);function n(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],f=a.length,c=i[o]=new Array(f),s,u=0;u<f;++u)(s=a[u])&&(c[u]=s);c.sort(n)}return new Pt(i,this._parents).order()}function Kg(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Qg(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Jg(){return Array.from(this)}function t2(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function n2(){let t=0;for(const n of this)++t;return t}function e2(){return!this.node()}function r2(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function i2(t){return function(){this.removeAttribute(t)}}function o2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function a2(t,n){return function(){this.setAttribute(t,n)}}function f2(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function c2(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function u2(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function s2(t,n){var e=Do(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?o2:i2:typeof n=="function"?e.local?u2:c2:e.local?f2:a2)(e,n))}function ql(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function l2(t){return function(){this.style.removeProperty(t)}}function d2(t,n,e){return function(){this.style.setProperty(t,n,e)}}function h2(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function p2(t,n,e){return arguments.length>1?this.each((n==null?l2:typeof n=="function"?h2:d2)(t,n,e??"")):We(this.node(),t)}function We(t,n){return t.style.getPropertyValue(n)||ql(t).getComputedStyle(t,null).getPropertyValue(n)}function m2(t){return function(){delete this[t]}}function g2(t,n){return function(){this[t]=n}}function b2(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function y2(t,n){return arguments.length>1?this.each((n==null?m2:typeof n=="function"?b2:g2)(t,n)):this.node()[t]}function Bl(t){return t.trim().split(/^|\s+/)}function uc(t){return t.classList||new Yl(t)}function Yl(t){this._node=t,this._names=Bl(t.getAttribute("class")||"")}Yl.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Hl(t,n){for(var e=uc(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Wl(t,n){for(var e=uc(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function _2(t){return function(){Hl(this,t)}}function w2(t){return function(){Wl(this,t)}}function v2(t,n){return function(){(n.apply(this,arguments)?Hl:Wl)(this,t)}}function x2(t,n){var e=Bl(t+"");if(arguments.length<2){for(var r=uc(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?v2:n?_2:w2)(e,n))}function M2(){this.textContent=""}function $2(t){return function(){this.textContent=t}}function T2(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function S2(t){return arguments.length?this.each(t==null?M2:(typeof t=="function"?T2:$2)(t)):this.node().textContent}function A2(){this.innerHTML=""}function k2(t){return function(){this.innerHTML=t}}function C2(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function E2(t){return arguments.length?this.each(t==null?A2:(typeof t=="function"?C2:k2)(t)):this.node().innerHTML}function N2(){this.nextSibling&&this.parentNode.appendChild(this)}function I2(){return this.each(N2)}function L2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function D2(){return this.each(L2)}function R2(t){var n=typeof t=="function"?t:Ro(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function F2(){return null}function P2(t,n){var e=typeof t=="function"?t:Ro(t),r=n==null?F2:typeof n=="function"?n:cc(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function O2(){var t=this.parentNode;t&&t.removeChild(this)}function z2(){return this.each(O2)}function U2(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function q2(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function B2(t){return this.select(t?q2:U2)}function Y2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function H2(t){return function(n){t.call(this,n,this.__data__)}}function W2(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function V2(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function X2(t,n,e){return function(){var r=this.__on,i,o=H2(n);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function j2(t,n,e){var r=W2(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var c=0,s=f.length,u;c<s;++c)for(i=0,u=f[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(f=n?X2:V2,i=0;i<o;++i)this.each(f(r[i],n,e));return this}function Vl(t,n,e){var r=ql(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function G2(t,n){return function(){return Vl(this,t,n)}}function Z2(t,n){return function(){return Vl(this,t,n.apply(this,arguments))}}function K2(t,n){return this.each((typeof n=="function"?Z2:G2)(t,n))}function*Q2(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Xl=[null];function Pt(t,n){this._groups=t,this._parents=n}function Gr(){return new Pt([[document.documentElement]],Xl)}function J2(){return this}Pt.prototype=Gr.prototype={constructor:Pt,select:Tg,selectAll:Cg,selectChild:Lg,selectChildren:Pg,filter:Og,data:Hg,enter:zg,exit:Vg,join:Xg,merge:jg,selection:J2,order:Gg,sort:Zg,call:Qg,nodes:Jg,node:t2,size:n2,empty:e2,each:r2,attr:s2,style:p2,property:y2,classed:x2,text:S2,html:E2,raise:I2,lower:D2,append:R2,insert:P2,remove:z2,clone:B2,datum:Y2,on:j2,dispatch:K2,[Symbol.iterator]:Q2};function ze(t){return typeof t=="string"?new Pt([[document.querySelector(t)]],[document.documentElement]):new Pt([[t]],Xl)}function tb(t){let n;for(;n=t.sourceEvent;)t=n;return t}function nb(t,n){if(t=tb(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function ar(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function Zr(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function ne(){}var be=.7,Ve=1/be,Ue="\\s*([+-]?\\d+)\\s*",Dr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eb=/^#([0-9a-f]{3,8})$/,rb=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),ib=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),ob=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${Dr}\\)$`),ab=new RegExp(`^rgba\\(${pn},${pn},${pn},${Dr}\\)$`),fb=new RegExp(`^hsl\\(${Dr},${pn},${pn}\\)$`),cb=new RegExp(`^hsla\\(${Dr},${pn},${pn},${Dr}\\)$`),Su={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ar(ne,ye,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Au,formatHex:Au,formatHex8:ub,formatHsl:sb,formatRgb:ku,toString:ku});function Au(){return this.rgb().formatHex()}function ub(){return this.rgb().formatHex8()}function sb(){return jl(this).formatHsl()}function ku(){return this.rgb().formatRgb()}function ye(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=eb.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?Cu(n):e===3?new yt(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?wi(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?wi(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=rb.exec(t))?new yt(n[1],n[2],n[3],1):(n=ib.exec(t))?new yt(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=ob.exec(t))?wi(n[1],n[2],n[3],n[4]):(n=ab.exec(t))?wi(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=fb.exec(t))?Iu(n[1],n[2]/100,n[3]/100,1):(n=cb.exec(t))?Iu(n[1],n[2]/100,n[3]/100,n[4]):Su.hasOwnProperty(t)?Cu(Su[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Cu(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function wi(t,n,e,r){return r<=0&&(t=n=e=NaN),new yt(t,n,e,r)}function sc(t){return t instanceof ne||(t=ye(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function Kn(t,n,e,r){return arguments.length===1?sc(t):new yt(t,n,e,r??1)}function yt(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}ar(yt,Kn,Zr(ne,{brighter(t){return t=t==null?Ve:Math.pow(Ve,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(de(this.r),de(this.g),de(this.b),Ki(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Eu,formatHex:Eu,formatHex8:lb,formatRgb:Nu,toString:Nu}));function Eu(){return`#${se(this.r)}${se(this.g)}${se(this.b)}`}function lb(){return`#${se(this.r)}${se(this.g)}${se(this.b)}${se((isNaN(this.opacity)?1:this.opacity)*255)}`}function Nu(){const t=Ki(this.opacity);return`${t===1?"rgb(":"rgba("}${de(this.r)}, ${de(this.g)}, ${de(this.b)}${t===1?")":`, ${t})`}`}function Ki(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function de(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function se(t){return t=de(t),(t<16?"0":"")+t.toString(16)}function Iu(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Jt(t,n,e,r)}function jl(t){if(t instanceof Jt)return new Jt(t.h,t.s,t.l,t.opacity);if(t instanceof ne||(t=ye(t)),!t)return new Jt;if(t instanceof Jt)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,f=o-i,c=(o+i)/2;return f?(n===o?a=(e-r)/f+(e<r)*6:e===o?a=(r-n)/f+2:a=(n-e)/f+4,f/=c<.5?o+i:2-o-i,a*=60):f=c>0&&c<1?0:a,new Jt(a,f,c,t.opacity)}function uf(t,n,e,r){return arguments.length===1?jl(t):new Jt(t,n,e,r??1)}function Jt(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ar(Jt,uf,Zr(ne,{brighter(t){return t=t==null?Ve:Math.pow(Ve,t),new Jt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new Jt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new yt(_a(t>=240?t-240:t+120,i,r),_a(t,i,r),_a(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Jt(Lu(this.h),vi(this.s),vi(this.l),Ki(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ki(this.opacity);return`${t===1?"hsl(":"hsla("}${Lu(this.h)}, ${vi(this.s)*100}%, ${vi(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Lu(t){return t=(t||0)%360,t<0?t+360:t}function vi(t){return Math.max(0,Math.min(1,t||0))}function _a(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const Gl=Math.PI/180,Zl=180/Math.PI,Qi=18,Kl=.96422,Ql=1,Jl=.82521,td=4/29,qe=6/29,nd=3*qe*qe,db=qe*qe*qe;function ed(t){if(t instanceof mn)return new mn(t.l,t.a,t.b,t.opacity);if(t instanceof En)return rd(t);t instanceof yt||(t=sc(t));var n=Ma(t.r),e=Ma(t.g),r=Ma(t.b),i=wa((.2225045*n+.7168786*e+.0606169*r)/Ql),o,a;return n===e&&e===r?o=a=i:(o=wa((.4360747*n+.3850649*e+.1430804*r)/Kl),a=wa((.0139322*n+.0971045*e+.7141733*r)/Jl)),new mn(116*i-16,500*(o-i),200*(i-a),t.opacity)}function sf(t,n,e,r){return arguments.length===1?ed(t):new mn(t,n,e,r??1)}function mn(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}ar(mn,sf,Zr(ne,{brighter(t){return new mn(this.l+Qi*(t??1),this.a,this.b,this.opacity)},darker(t){return new mn(this.l-Qi*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=Kl*va(n),t=Ql*va(t),e=Jl*va(e),new yt(xa(3.1338561*n-1.6168667*t-.4906146*e),xa(-.9787684*n+1.9161415*t+.033454*e),xa(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}}));function wa(t){return t>db?Math.pow(t,1/3):t/nd+td}function va(t){return t>qe?t*t*t:nd*(t-td)}function xa(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ma(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function hb(t){if(t instanceof En)return new En(t.h,t.c,t.l,t.opacity);if(t instanceof mn||(t=ed(t)),t.a===0&&t.b===0)return new En(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Zl;return new En(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function lf(t,n,e,r){return arguments.length===1?hb(t):new En(t,n,e,r??1)}function En(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function rd(t){if(isNaN(t.h))return new mn(t.l,0,0,t.opacity);var n=t.h*Gl;return new mn(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}ar(En,lf,Zr(ne,{brighter(t){return new En(this.h,this.c,this.l+Qi*(t??1),this.opacity)},darker(t){return new En(this.h,this.c,this.l-Qi*(t??1),this.opacity)},rgb(){return rd(this).rgb()}}));var id=-.14861,lc=1.78277,dc=-.29227,Fo=-.90649,Rr=1.97294,Du=Rr*Fo,Ru=Rr*lc,Fu=lc*dc-Fo*id;function pb(t){if(t instanceof he)return new he(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=sc(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Fu*r+Du*n-Ru*e)/(Fu+Du-Ru),o=r-i,a=(Rr*(e-i)-dc*o)/Fo,f=Math.sqrt(a*a+o*o)/(Rr*i*(1-i)),c=f?Math.atan2(a,o)*Zl-120:NaN;return new he(c<0?c+360:c,f,i,t.opacity)}function gn(t,n,e,r){return arguments.length===1?pb(t):new he(t,n,e,r??1)}function he(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}ar(he,gn,Zr(ne,{brighter(t){return t=t==null?Ve:Math.pow(Ve,t),new he(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?be:Math.pow(be,t),new he(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Gl,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new yt(255*(n+e*(id*r+lc*i)),255*(n+e*(dc*r+Fo*i)),255*(n+e*(Rr*r)),this.opacity)}}));function mb(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function gb(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<n-1?t[r+2]:2*o-i;return mb((e-r/n)*n,a,i,o,f)}}const Po=t=>()=>t;function od(t,n){return function(e){return t+e*n}}function bb(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function hc(t,n){var e=n-t;return e?od(t,e>180||e<-180?e-360*Math.round(e/360):e):Po(isNaN(t)?n:t)}function yb(t){return(t=+t)==1?At:function(n,e){return e-n?bb(n,e,t):Po(isNaN(n)?e:n)}}function At(t,n){var e=n-t;return e?od(t,e):Po(isNaN(t)?n:t)}const _e=function t(n){var e=yb(n);function r(i,o){var a=e((i=Kn(i)).r,(o=Kn(o)).r),f=e(i.g,o.g),c=e(i.b,o.b),s=At(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=f(u),i.b=c(u),i.opacity=s(u),i+""}}return r.gamma=t,r}(1);function _b(t){return function(n){var e=n.length,r=new Array(e),i=new Array(e),o=new Array(e),a,f;for(a=0;a<e;++a)f=Kn(n[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(c){return f.r=r(c),f.g=i(c),f.b=o(c),f+""}}}var wb=_b(gb);function vb(t,n){n||(n=[]);var e=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<e;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function xb(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Mb(t,n){var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a;for(a=0;a<r;++a)i[a]=Kr(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function $b(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function St(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function Tb(t,n){var e={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?e[i]=Kr(t[i],n[i]):r[i]=n[i];return function(o){for(i in e)r[i]=e[i](o);return r}}var df=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$a=new RegExp(df.source,"g");function Sb(t){return function(){return t}}function Ab(t){return function(n){return t(n)+""}}function ad(t,n){var e=df.lastIndex=$a.lastIndex=0,r,i,o,a=-1,f=[],c=[];for(t=t+"",n=n+"";(r=df.exec(t))&&(i=$a.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,c.push({i:a,x:St(r,i)})),e=$a.lastIndex;return e<n.length&&(o=n.slice(e),f[a]?f[a]+=o:f[++a]=o),f.length<2?c[0]?Ab(c[0].x):Sb(n):(n=c.length,function(s){for(var u=0,d;u<n;++u)f[(d=c[u]).i]=d.x(s);return f.join("")})}function Kr(t,n){var e=typeof n,r;return n==null||e==="boolean"?Po(n):(e==="number"?St:e==="string"?(r=ye(n))?(n=r,_e):ad:n instanceof ye?_e:n instanceof Date?$b:xb(n)?vb:Array.isArray(n)?Mb:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?Tb:St)(t,n)}function pc(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}var Pu=180/Math.PI,hf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fd(t,n,e,r,i,o){var a,f,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(f=Math.sqrt(e*e+r*r))&&(e/=f,r/=f,c/=f),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*Pu,skewX:Math.atan(c)*Pu,scaleX:a,scaleY:f}}var xi;function kb(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?hf:fd(n.a,n.b,n.c,n.d,n.e,n.f)}function Cb(t){return t==null||(xi||(xi=document.createElementNS("http://www.w3.org/2000/svg","g")),xi.setAttribute("transform",t),!(t=xi.transform.baseVal.consolidate()))?hf:(t=t.matrix,fd(t.a,t.b,t.c,t.d,t.e,t.f))}function cd(t,n,e,r){function i(s){return s.length?s.pop()+" ":""}function o(s,u,d,l,h,p){if(s!==d||u!==l){var m=h.push("translate(",null,n,null,e);p.push({i:m-4,x:St(s,d)},{i:m-2,x:St(u,l)})}else(d||l)&&h.push("translate("+d+n+l+e)}function a(s,u,d,l){s!==u?(s-u>180?u+=360:u-s>180&&(s+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:St(s,u)})):u&&d.push(i(d)+"rotate("+u+r)}function f(s,u,d,l){s!==u?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:St(s,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(s,u,d,l,h,p){if(s!==d||u!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:St(s,d)},{i:m-2,x:St(u,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(s,u){var d=[],l=[];return s=t(s),u=t(u),o(s.translateX,s.translateY,u.translateX,u.translateY,d,l),a(s.rotate,u.rotate,d,l),f(s.skewX,u.skewX,d,l),c(s.scaleX,s.scaleY,u.scaleX,u.scaleY,d,l),s=u=null,function(h){for(var p=-1,m=l.length,g;++p<m;)d[(g=l[p]).i]=g.x(h);return d.join("")}}}var Eb=cd(kb,"px, ","px)","deg)"),Nb=cd(Cb,", ",")",")");function Ib(t){return function(n,e){var r=t((n=uf(n)).h,(e=uf(e)).h),i=At(n.s,e.s),o=At(n.l,e.l),a=At(n.opacity,e.opacity);return function(f){return n.h=r(f),n.s=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Lb=Ib(hc);function Db(t,n){var e=At((t=sf(t)).l,(n=sf(n)).l),r=At(t.a,n.a),i=At(t.b,n.b),o=At(t.opacity,n.opacity);return function(a){return t.l=e(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function Rb(t){return function(n,e){var r=t((n=lf(n)).h,(e=lf(e)).h),i=At(n.c,e.c),o=At(n.l,e.l),a=At(n.opacity,e.opacity);return function(f){return n.h=r(f),n.c=i(f),n.l=o(f),n.opacity=a(f),n+""}}}const Fb=Rb(hc);function ud(t){return function n(e){e=+e;function r(i,o){var a=t((i=gn(i)).h,(o=gn(o)).h),f=At(i.s,o.s),c=At(i.l,o.l),s=At(i.opacity,o.opacity);return function(u){return i.h=a(u),i.s=f(u),i.l=c(Math.pow(u,e)),i.opacity=s(u),i+""}}return r.gamma=n,r}(1)}ud(hc);var mc=ud(At);function Oo(t,n){n===void 0&&(n=t,t=Kr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function en(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e}var Xe=0,wr=0,pr=0,sd=1e3,Ji,vr,to=0,we=0,zo=0,Fr=typeof performance=="object"&&performance.now?performance:Date,ld=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gc(){return we||(ld(Pb),we=Fr.now()+zo)}function Pb(){we=0}function no(){this._call=this._time=this._next=null}no.prototype=dd.prototype={constructor:no,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?gc():+e)+(n==null?0:+n),!this._next&&vr!==this&&(vr?vr._next=this:Ji=this,vr=this),this._call=t,this._time=e,pf()},stop:function(){this._call&&(this._call=null,this._time=1/0,pf())}};function dd(t,n,e){var r=new no;return r.restart(t,n,e),r}function Ob(){gc(),++Xe;for(var t=Ji,n;t;)(n=we-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Xe}function Ou(){we=(to=Fr.now())+zo,Xe=wr=0;try{Ob()}finally{Xe=0,Ub(),we=0}}function zb(){var t=Fr.now(),n=t-to;n>sd&&(zo-=n,to=t)}function Ub(){for(var t,n=Ji,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ji=e);vr=t,pf(r)}function pf(t){if(!Xe){wr&&(wr=clearTimeout(wr));var n=t-we;n>24?(t<1/0&&(wr=setTimeout(Ou,t-Fr.now()-zo)),pr&&(pr=clearInterval(pr))):(pr||(to=Fr.now(),pr=setInterval(zb,sd)),Xe=1,ld(Ou))}}function zu(t,n,e){var r=new no;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var qb=Fl("start","end","cancel","interrupt"),Bb=[],hd=0,Uu=1,mf=2,Ui=3,qu=4,gf=5,qi=6;function Uo(t,n,e,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(e in a)return;Yb(t,e,{name:n,index:r,group:i,on:qb,tween:Bb,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:hd})}function bc(t,n){var e=fn(t,n);if(e.state>hd)throw new Error("too late; already scheduled");return e}function yn(t,n){var e=fn(t,n);if(e.state>Ui)throw new Error("too late; already running");return e}function fn(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Yb(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=dd(o,0,e.time);function o(s){e.state=Uu,e.timer.restart(a,e.delay,e.time),e.delay<=s&&a(s-e.delay)}function a(s){var u,d,l,h;if(e.state!==Uu)return c();for(u in r)if(h=r[u],h.name===e.name){if(h.state===Ui)return zu(a);h.state===qu?(h.state=qi,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<n&&(h.state=qi,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(zu(function(){e.state===Ui&&(e.state=qu,e.timer.restart(f,e.delay,e.time),f(s))}),e.state=mf,e.on.call("start",t,t.__data__,e.index,e.group),e.state===mf){for(e.state=Ui,i=new Array(l=e.tween.length),u=0,d=-1;u<l;++u)(h=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function f(s){for(var u=s<e.duration?e.ease.call(null,s/e.duration):(e.timer.restart(c),e.state=gf,1),d=-1,l=i.length;++d<l;)i[d].call(t,u);e.state===gf&&(e.on.call("end",t,t.__data__,e.index,e.group),c())}function c(){e.state=qi,e.timer.stop(),delete r[n];for(var s in r)return;delete t.__transition}}function Hb(t,n){var e=t.__transition,r,i,o=!0,a;if(e){n=n==null?null:n+"";for(a in e){if((r=e[a]).name!==n){o=!1;continue}i=r.state>mf&&r.state<gf,r.state=qi,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[a]}o&&delete t.__transition}}function Wb(t){return this.each(function(){Hb(this,t)})}function Vb(t,n){var e,r;return function(){var i=yn(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===n){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Xb(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=yn(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:n,value:e},c=0,s=i.length;c<s;++c)if(i[c].name===n){i[c]=f;break}c===s&&i.push(f)}o.tween=i}}function jb(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=fn(this.node(),e).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((n==null?Vb:Xb)(e,t,n))}function yc(t,n,e){var r=t._id;return t.each(function(){var i=yn(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return fn(i,r).value[n]}}function pd(t,n){var e;return(typeof n=="number"?St:n instanceof ye?_e:(e=ye(n))?(n=e,_e):ad)(t,n)}function Gb(t){return function(){this.removeAttribute(t)}}function Zb(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=n(r=a,e)}}function Qb(t,n,e){var r,i=e+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=n(r=a,e)}}function Jb(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function ty(t,n,e){var r,i,o;return function(){var a,f=e(this),c;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),c=f+"",a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f)))}}function ny(t,n){var e=Do(t),r=e==="transform"?Nb:pd;return this.attrTween(t,typeof n=="function"?(e.local?ty:Jb)(e,r,yc(this,"attr."+t,n)):n==null?(e.local?Zb:Gb)(e):(e.local?Qb:Kb)(e,r,n))}function ey(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function ry(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function iy(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ry(t,o)),e}return i._value=n,i}function oy(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&ey(t,o)),e}return i._value=n,i}function ay(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Do(t);return this.tween(e,(r.local?iy:oy)(r,n))}function fy(t,n){return function(){bc(this,t).delay=+n.apply(this,arguments)}}function cy(t,n){return n=+n,function(){bc(this,t).delay=n}}function uy(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?fy:cy)(n,t)):fn(this.node(),n).delay}function sy(t,n){return function(){yn(this,t).duration=+n.apply(this,arguments)}}function ly(t,n){return n=+n,function(){yn(this,t).duration=n}}function dy(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?sy:ly)(n,t)):fn(this.node(),n).duration}function hy(t,n){if(typeof n!="function")throw new Error;return function(){yn(this,t).ease=n}}function py(t){var n=this._id;return arguments.length?this.each(hy(n,t)):fn(this.node(),n).ease}function my(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;yn(this,t).ease=e}}function gy(t){if(typeof t!="function")throw new Error;return this.each(my(this._id,t))}function by(t){typeof t!="function"&&(t=Ol(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],a=o.length,f=r[i]=[],c,s=0;s<a;++s)(c=o[s])&&t.call(c,c.__data__,s,o)&&f.push(c);return new Fn(r,this._parents,this._name,this._id)}function yy(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var c=n[f],s=e[f],u=c.length,d=a[f]=new Array(u),l,h=0;h<u;++h)(l=c[h]||s[h])&&(d[h]=l);for(;f<r;++f)a[f]=n[f];return new Fn(a,this._parents,this._name,this._id)}function _y(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function wy(t,n,e){var r,i,o=_y(n)?bc:yn;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(n,e),a.on=i}}function vy(t,n){var e=this._id;return arguments.length<2?fn(this.node(),e).on.on(t):this.each(wy(e,t,n))}function xy(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function My(){return this.on("end.remove",xy(this._id))}function $y(t){var n=this._name,e=this._id;typeof t!="function"&&(t=cc(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],c=f.length,s=o[a]=new Array(c),u,d,l=0;l<c;++l)(u=f[l])&&(d=t.call(u,u.__data__,l,f))&&("__data__"in u&&(d.__data__=u.__data__),s[l]=d,Uo(s[l],n,e,l,s,fn(u,e)));return new Fn(o,this._parents,n,e)}function Ty(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Pl(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var c=r[f],s=c.length,u,d=0;d<s;++d)if(u=c[d]){for(var l=t.call(u,u.__data__,d,c),h,p=fn(u,e),m=0,g=l.length;m<g;++m)(h=l[m])&&Uo(h,n,e,m,l,p);o.push(l),a.push(u)}return new Fn(o,a,n,e)}var Sy=Gr.prototype.constructor;function Ay(){return new Sy(this._groups,this._parents)}function ky(t,n){var e,r,i;return function(){var o=We(this,t),a=(this.style.removeProperty(t),We(this,t));return o===a?null:o===e&&a===r?i:i=n(e=o,r=a)}}function md(t){return function(){this.style.removeProperty(t)}}function Cy(t,n,e){var r,i=e+"",o;return function(){var a=We(this,t);return a===i?null:a===r?o:o=n(r=a,e)}}function Ey(t,n,e){var r,i,o;return function(){var a=We(this,t),f=e(this),c=f+"";return f==null&&(c=f=(this.style.removeProperty(t),We(this,t))),a===c?null:a===r&&c===i?o:(i=c,o=n(r=a,f))}}function Ny(t,n){var e,r,i,o="style."+n,a="end."+o,f;return function(){var c=yn(this,t),s=c.on,u=c.value[o]==null?f||(f=md(n)):void 0;(s!==e||i!==u)&&(r=(e=s).copy()).on(a,i=u),c.on=r}}function Iy(t,n,e){var r=(t+="")=="transform"?Eb:pd;return n==null?this.styleTween(t,ky(t,r)).on("end.style."+t,md(t)):typeof n=="function"?this.styleTween(t,Ey(t,r,yc(this,"style."+t,n))).each(Ny(this._id,t)):this.styleTween(t,Cy(t,r,n),e).on("end.style."+t,null)}function Ly(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Dy(t,n,e){var r,i;function o(){var a=n.apply(this,arguments);return a!==i&&(r=(i=a)&&Ly(t,a,e)),r}return o._value=n,o}function Ry(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Dy(t,n,e??""))}function Fy(t){return function(){this.textContent=t}}function Py(t){return function(){var n=t(this);this.textContent=n??""}}function Oy(t){return this.tween("text",typeof t=="function"?Py(yc(this,"text",t)):Fy(t==null?"":t+""))}function zy(t){return function(n){this.textContent=t.call(this,n)}}function Uy(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&zy(i)),n}return r._value=t,r}function qy(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,Uy(t))}function By(){for(var t=this._name,n=this._id,e=gd(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)if(c=a[s]){var u=fn(c,n);Uo(c,t,e,s,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Fn(r,this._parents,t,e)}function Yy(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var f={value:a},c={value:function(){--i===0&&o()}};e.each(function(){var s=yn(this,r),u=s.on;u!==t&&(n=(t=u).copy(),n._.cancel.push(f),n._.interrupt.push(f),n._.end.push(c)),s.on=n}),i===0&&o()})}var Hy=0;function Fn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function gd(){return++Hy}var xn=Gr.prototype;Fn.prototype={constructor:Fn,select:$y,selectAll:Ty,selectChild:xn.selectChild,selectChildren:xn.selectChildren,filter:by,merge:yy,selection:Ay,transition:By,call:xn.call,nodes:xn.nodes,node:xn.node,size:xn.size,empty:xn.empty,each:xn.each,on:vy,attr:ny,attrTween:ay,style:Iy,styleTween:Ry,text:Oy,textTween:qy,remove:My,tween:jb,delay:uy,duration:dy,ease:py,easeVarying:gy,end:Yy,[Symbol.iterator]:xn[Symbol.iterator]};function Wy(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Vy={time:null,delay:0,duration:250,ease:Wy};function Xy(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function jy(t){var n,e;t instanceof Fn?(n=t._id,t=t._name):(n=gd(),(e=Vy).time=gc(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,c,s=0;s<f;++s)(c=a[s])&&Uo(c,t,n,s,a,e||Xy(c,n));return new Fn(r,this._parents,t,n)}Gr.prototype.interrupt=Wb;Gr.prototype.transition=jy;const bf=Math.PI,yf=2*bf,ce=1e-6,Gy=yf-ce;function bd(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Zy(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return bd;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class yd{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?bd:Zy(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,a){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,c=r-n,s=i-e,u=a-n,d=f-e,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(l>ce)if(!(Math.abs(d*c-s*u)>ce)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-a,p=i-f,m=c*c+s*s,g=h*h+p*p,y=Math.sqrt(m),b=Math.sqrt(l),v=o*Math.tan((bf-Math.acos((m+l-g)/(2*y*b)))/2),_=v/b,M=v/y;Math.abs(_-1)>ce&&this._append`L${n+_*u},${e+_*d}`,this._append`A${o},${o},0,0,${+(d*h>u*p)},${this._x1=n+M*c},${this._y1=e+M*s}`}}arc(n,e,r,i,o,a){if(n=+n,e=+e,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),c=r*Math.sin(i),s=n+f,u=e+c,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${s},${u}`:(Math.abs(this._x1-s)>ce||Math.abs(this._y1-u)>ce)&&this._append`L${s},${u}`,r&&(l<0&&(l=l%yf+yf),l>Gy?this._append`A${r},${r},0,1,${d},${n-f},${e-c}A${r},${r},0,1,${d},${this._x1=s},${this._y1=u}`:l>ce&&this._append`A${r},${r},0,${+(l>=bf)},${d},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function le(t=3){return new yd(+t)}function Ky(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function eo(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function je(t){return t=eo(Math.abs(t)),t?t[1]:NaN}function Qy(t,n){return function(e,r){for(var i=e.length,o=[],a=0,f=t[0],c=0;i>0&&f>0&&(c+f+1>r&&(f=Math.max(1,r-c)),o.push(e.substring(i-=f,i+f)),!((c+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(n)}}function Jy(t){return function(n){return n.replace(/[0-9]/g,function(e){return t[+e]})}}var t_=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pr(t){if(!(n=t_.exec(t)))throw new Error("invalid format: "+t);var n;return new _c({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}Pr.prototype=_c.prototype;function _c(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_c.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function n_(t){t:for(var n=t.length,e=1,r=-1,i;e<n;++e)switch(t[e]){case".":r=i=e;break;case"0":r===0&&(r=e),i=e;break;default:if(!+t[e])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _d;function e_(t,n){var e=eo(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(_d=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+eo(t,Math.max(0,n+o-1))[0]}function Bu(t,n){var e=eo(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Yu={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ky,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Bu(t*100,n),r:Bu,s:e_,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Hu(t){return t}var Wu=Array.prototype.map,Vu=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function r_(t){var n=t.grouping===void 0||t.thousands===void 0?Hu:Qy(Wu.call(t.grouping,Number),t.thousands+""),e=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Hu:Jy(Wu.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function s(d){d=Pr(d);var l=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,v=d.precision,_=d.trim,M=d.type;M==="n"?(b=!0,M="g"):Yu[M]||(v===void 0&&(v=12),_=!0,M="g"),(g||l==="0"&&h==="=")&&(g=!0,l="0",h="=");var w=m==="$"?e:m==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",x=m==="$"?r:/[%p]/.test(M)?a:"",T=Yu[M],A=/[defgprs%]/.test(M);v=v===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function E($){var N=w,F=x,L,S,D;if(M==="c")F=T($)+F,$="";else{$=+$;var j=$<0||1/$<0;if($=isNaN($)?c:T(Math.abs($),v),_&&($=n_($)),j&&+$==0&&p!=="+"&&(j=!1),N=(j?p==="("?p:f:p==="-"||p==="("?"":p)+N,F=(M==="s"?Vu[8+_d/3]:"")+F+(j&&p==="("?")":""),A){for(L=-1,S=$.length;++L<S;)if(D=$.charCodeAt(L),48>D||D>57){F=(D===46?i+$.slice(L+1):$.slice(L))+F,$=$.slice(0,L);break}}}b&&!g&&($=n($,1/0));var H=N.length+$.length+F.length,W=H<y?new Array(y-H+1).join(l):"";switch(b&&g&&($=n(W+$,W.length?y-F.length:1/0),W=""),h){case"<":$=N+$+F+W;break;case"=":$=N+W+$+F;break;case"^":$=W.slice(0,H=W.length>>1)+N+$+F+W.slice(H);break;default:$=W+N+$+F;break}return o($)}return E.toString=function(){return d+""},E}function u(d,l){var h=s((d=Pr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(je(l)/3)))*3,m=Math.pow(10,-p),g=Vu[8+p/3];return function(y){return h(m*y)+g}}return{format:s,formatPrefix:u}}var Mi,fr,wd;i_({thousands:",",grouping:[3],currency:["$",""]});function i_(t){return Mi=r_(t),fr=Mi.format,wd=Mi.formatPrefix,Mi}function o_(t){return Math.max(0,-je(Math.abs(t)))}function a_(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(je(n)/3)))*3-je(Math.abs(t)))}function f_(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,je(n)-je(t))+1}var J=1e-6,vd=1e-12,et=Math.PI,lt=et/2,Xu=et/4,Ot=et*2,Ct=180/et,st=et/180,ft=Math.abs,cr=Math.atan,Pn=Math.atan2,nt=Math.cos,xd=Math.exp,ro=Math.log,Ta=Math.pow,Z=Math.sin,Vt=Math.sign||function(t){return t>0?1:t<0?-1:0},Dt=Math.sqrt,wc=Math.tan;function Md(t){return t>1?0:t<-1?et:Math.acos(t)}function Zt(t){return t>1?lt:t<-1?-lt:Math.asin(t)}function Xt(){}function io(t,n){t&&Gu.hasOwnProperty(t.type)&&Gu[t.type](t,n)}var ju={Feature:function(t,n){io(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)io(e[r].geometry,n)}},Gu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){_f(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)_f(e[r],n,0)},Polygon:function(t,n){Zu(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Zu(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)io(e[r],n)}};function _f(t,n,e){var r=-1,i=t.length-e,o;for(n.lineStart();++r<i;)o=t[r],n.point(o[0],o[1],o[2]);n.lineEnd()}function Zu(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)_f(t[e],n,1);n.polygonEnd()}function ue(t,n){t&&ju.hasOwnProperty(t.type)?ju[t.type](t,n):io(t,n)}function wf(t){return[Pn(t[1],t[0]),Zt(t[2])]}function Ge(t){var n=t[0],e=t[1],r=nt(e);return[r*nt(n),r*Z(n),Z(e)]}function $i(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function oo(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Sa(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ti(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function vf(t){var n=Dt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function xf(t,n){function e(r,i){return r=t(r,i),n(r[0],r[1])}return t.invert&&n.invert&&(e.invert=function(r,i){return r=n.invert(r,i),r&&t.invert(r[0],r[1])}),e}function Mf(t,n){return ft(t)>et&&(t-=Math.round(t/Ot)*Ot),[t,n]}Mf.invert=Mf;function $d(t,n,e){return(t%=Ot)?n||e?xf(Qu(t),Ju(n,e)):Qu(t):n||e?Ju(n,e):Mf}function Ku(t){return function(n,e){return n+=t,ft(n)>et&&(n-=Math.round(n/Ot)*Ot),[n,e]}}function Qu(t){var n=Ku(t);return n.invert=Ku(-t),n}function Ju(t,n){var e=nt(t),r=Z(t),i=nt(n),o=Z(n);function a(f,c){var s=nt(c),u=nt(f)*s,d=Z(f)*s,l=Z(c),h=l*e+u*r;return[Pn(d*i-h*o,u*e-l*r),Zt(h*i+d*o)]}return a.invert=function(f,c){var s=nt(c),u=nt(f)*s,d=Z(f)*s,l=Z(c),h=l*i-d*o;return[Pn(d*i+l*o,u*e+h*r),Zt(h*e-u*r)]},a}function c_(t){t=$d(t[0]*st,t[1]*st,t.length>2?t[2]*st:0);function n(e){return e=t(e[0]*st,e[1]*st),e[0]*=Ct,e[1]*=Ct,e}return n.invert=function(e){return e=t.invert(e[0]*st,e[1]*st),e[0]*=Ct,e[1]*=Ct,e},n}function u_(t,n,e,r,i,o){if(e){var a=nt(n),f=Z(n),c=r*e;i==null?(i=n+r*Ot,o=n-c/2):(i=ts(a,i),o=ts(a,o),(r>0?i<o:i>o)&&(i+=r*Ot));for(var s,u=i;r>0?u>o:u<o;u-=c)s=wf([a,-f*nt(u),-f*Z(u)]),t.point(s[0],s[1])}}function ts(t,n){n=Ge(n),n[0]-=t,vf(n);var e=Md(-n[1]);return((-n[2]<0?-e:e)+Ot-J)%Ot}function Td(){var t=[],n;return{point:function(e,r,i){n.push([e,r,i])},lineStart:function(){t.push(n=[])},lineEnd:Xt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function Bi(t,n){return ft(t[0]-n[0])<J&&ft(t[1]-n[1])<J}function Si(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function Sd(t,n,e,r,i){var o=[],a=[],f,c;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],b;if(Bi(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*J}o.push(b=new Si(g,p,null,!0)),a.push(b.o=new Si(g,null,b,!1)),o.push(b=new Si(y,p,null,!1)),a.push(b.o=new Si(y,null,b,!0))}}),!!o.length){for(a.sort(n),ns(o),ns(a),f=0,c=a.length;f<c;++f)a[f].e=e=!e;for(var s=o[0],u,d;;){for(var l=s,h=!0;l.v;)if((l=l.n)===s)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,c=u.length;f<c;++f)i.point((d=u[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,f=u.length-1;f>=0;--f)i.point((d=u[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function ns(t){if(n=t.length){for(var n,e=0,r=t[0],i;++e<n;)r.n=i=t[e],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Aa(t){return ft(t[0])<=et?t[0]:Vt(t[0])*((ft(t[0])+et)%Ot-et)}function s_(t,n){var e=Aa(n),r=n[1],i=Z(r),o=[Z(e),-nt(e),0],a=0,f=0,c=new me;i===1?r=lt+J:i===-1&&(r=-lt-J);for(var s=0,u=t.length;s<u;++s)if(l=(d=t[s]).length)for(var d,l,h=d[l-1],p=Aa(h),m=h[1]/2+Xu,g=Z(m),y=nt(m),b=0;b<l;++b,p=_,g=w,y=x,h=v){var v=d[b],_=Aa(v),M=v[1]/2+Xu,w=Z(M),x=nt(M),T=_-p,A=T>=0?1:-1,E=A*T,$=E>et,N=g*w;if(c.add(Pn(N*A*Z(E),y*x+N*nt(E))),a+=$?T+A*Ot:T,$^p>=e^_>=e){var F=oo(Ge(h),Ge(v));vf(F);var L=oo(o,F);vf(L);var S=($^T>=0?-1:1)*Zt(L[2]);(r>S||r===S&&(F[0]||F[1]))&&(f+=$^T>=0?1:-1)}}return(a<-J||a<J&&c<-vd)^f&1}function Ad(t,n,e,r){return function(i){var o=n(i),a=Td(),f=n(a),c=!1,s,u,d,l={point:h,lineStart:m,lineEnd:g,polygonStart:function(){l.point=y,l.lineStart=b,l.lineEnd=v,u=[],s=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=g,u=Rl(u);var _=s_(s,r);u.length?(c||(i.polygonStart(),c=!0),Sd(u,d_,_,e,i)):_&&(c||(i.polygonStart(),c=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),c&&(i.polygonEnd(),c=!1),u=s=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,M){t(_,M)&&i.point(_,M)}function p(_,M){o.point(_,M)}function m(){l.point=p,o.lineStart()}function g(){l.point=h,o.lineEnd()}function y(_,M){d.push([_,M]),f.point(_,M)}function b(){f.lineStart(),d=[]}function v(){y(d[0][0],d[0][1]),f.lineEnd();var _=f.clean(),M=a.result(),w,x=M.length,T,A,E;if(d.pop(),s.push(d),d=null,!!x){if(_&1){if(A=M[0],(T=A.length-1)>0){for(c||(i.polygonStart(),c=!0),i.lineStart(),w=0;w<T;++w)i.point((E=A[w])[0],E[1]);i.lineEnd()}return}x>1&&_&2&&M.push(M.pop().concat(M.shift())),u.push(M.filter(l_))}}return l}}function l_(t){return t.length>1}function d_(t,n){return((t=t.x)[0]<0?t[1]-lt-J:lt-t[1])-((n=n.x)[0]<0?n[1]-lt-J:lt-n[1])}const es=Ad(function(){return!0},h_,m_,[-et,-lt]);function h_(t){var n=NaN,e=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?et:-et,c=ft(o-n);ft(c-et)<J?(t.point(n,e=(e+a)/2>0?lt:-lt),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),t.point(o,e),i=0):r!==f&&c>=et&&(ft(n-r)<J&&(n-=r*J),ft(o-f)<J&&(o-=f*J),e=p_(n,e,o,a),t.point(r,e),t.lineEnd(),t.lineStart(),t.point(f,e),i=0),t.point(n=o,e=a),r=f},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-i}}}function p_(t,n,e,r){var i,o,a=Z(t-e);return ft(a)>J?cr((Z(n)*(o=nt(r))*Z(e)-Z(r)*(i=nt(n))*Z(t))/(i*o*a)):(n+r)/2}function m_(t,n,e,r){var i;if(t==null)i=e*lt,r.point(-et,i),r.point(0,i),r.point(et,i),r.point(et,0),r.point(et,-i),r.point(0,-i),r.point(-et,-i),r.point(-et,0),r.point(-et,i);else if(ft(t[0]-n[0])>J){var o=t[0]<n[0]?et:-et;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}function g_(t){var n=nt(t),e=2*st,r=n>0,i=ft(n)>J;function o(u,d,l,h){u_(h,t,e,l,u,d)}function a(u,d){return nt(u)*nt(d)>n}function f(u){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var b=[g,y],v,_=a(g,y),M=r?_?0:s(g,y):_?s(g+(g<0?et:-et),y):0;if(!d&&(p=h=_)&&u.lineStart(),_!==h&&(v=c(d,b),(!v||Bi(d,v)||Bi(b,v))&&(b[2]=1)),_!==h)m=0,_?(u.lineStart(),v=c(b,d),u.point(v[0],v[1])):(v=c(d,b),u.point(v[0],v[1],2),u.lineEnd()),d=v;else if(i&&d&&r^_){var w;!(M&l)&&(w=c(b,d,!0))&&(m=0,r?(u.lineStart(),u.point(w[0][0],w[0][1]),u.point(w[1][0],w[1][1]),u.lineEnd()):(u.point(w[1][0],w[1][1]),u.lineEnd(),u.lineStart(),u.point(w[0][0],w[0][1],3)))}_&&(!d||!Bi(d,b))&&u.point(b[0],b[1]),d=b,h=_,l=M},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function c(u,d,l){var h=Ge(u),p=Ge(d),m=[1,0,0],g=oo(h,p),y=$i(g,g),b=g[0],v=y-b*b;if(!v)return!l&&u;var _=n*y/v,M=-n*b/v,w=oo(m,g),x=Ti(m,_),T=Ti(g,M);Sa(x,T);var A=w,E=$i(x,A),$=$i(A,A),N=E*E-$*($i(x,x)-1);if(!(N<0)){var F=Dt(N),L=Ti(A,(-E-F)/$);if(Sa(L,x),L=wf(L),!l)return L;var S=u[0],D=d[0],j=u[1],H=d[1],W;D<S&&(W=S,S=D,D=W);var R=D-S,O=ft(R-et)<J,P=O||R<J;if(!O&&H<j&&(W=j,j=H,H=W),P?O?j+H>0^L[1]<(ft(L[0]-S)<J?j:H):j<=L[1]&&L[1]<=H:R>et^(S<=L[0]&&L[0]<=D)){var z=Ti(A,(-E+F)/$);return Sa(z,x),[L,wf(z)]}}}function s(u,d){var l=r?t:et-t,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return Ad(a,f,o,r?[0,-t]:[-et,t-et])}function b_(t,n,e,r,i,o){var a=t[0],f=t[1],c=n[0],s=n[1],u=0,d=1,l=c-a,h=s-f,p;if(p=e-a,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=a+u*l,t[1]=f+u*h),d<1&&(n[0]=a+d*l,n[1]=f+d*h),!0}}}}}var xr=1e9,Ai=-xr;function kd(t,n,e,r){function i(s,u){return t<=s&&s<=e&&n<=u&&u<=r}function o(s,u,d,l){var h=0,p=0;if(s==null||(h=a(s,d))!==(p=a(u,d))||c(s,u)<0^d>0)do l.point(h===0||h===3?t:e,h>1?r:n);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function a(s,u){return ft(s[0]-t)<J?u>0?0:3:ft(s[0]-e)<J?u>0?2:1:ft(s[1]-n)<J?u>0?1:0:u>0?3:2}function f(s,u){return c(s.x,u.x)}function c(s,u){var d=a(s,1),l=a(u,1);return d!==l?d-l:d===0?u[1]-s[1]:d===1?s[0]-u[0]:d===2?s[1]-u[1]:u[0]-s[0]}return function(s){var u=s,d=Td(),l,h,p,m,g,y,b,v,_,M,w,x={point:T,lineStart:N,lineEnd:F,polygonStart:E,polygonEnd:$};function T(S,D){i(S,D)&&u.point(S,D)}function A(){for(var S=0,D=0,j=h.length;D<j;++D)for(var H=h[D],W=1,R=H.length,O=H[0],P,z,tt=O[0],B=O[1];W<R;++W)P=tt,z=B,O=H[W],tt=O[0],B=O[1],z<=r?B>r&&(tt-P)*(r-z)>(B-z)*(t-P)&&++S:B<=r&&(tt-P)*(r-z)<(B-z)*(t-P)&&--S;return S}function E(){u=d,l=[],h=[],w=!0}function $(){var S=A(),D=w&&S,j=(l=Rl(l)).length;(D||j)&&(s.polygonStart(),D&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),j&&Sd(l,f,S,o,s),s.polygonEnd()),u=s,l=h=p=null}function N(){x.point=L,h&&h.push(p=[]),M=!0,_=!1,b=v=NaN}function F(){l&&(L(m,g),y&&_&&d.rejoin(),l.push(d.result())),x.point=T,_&&u.lineEnd()}function L(S,D){var j=i(S,D);if(h&&p.push([S,D]),M)m=S,g=D,y=j,M=!1,j&&(u.lineStart(),u.point(S,D));else if(j&&_)u.point(S,D);else{var H=[b=Math.max(Ai,Math.min(xr,b)),v=Math.max(Ai,Math.min(xr,v))],W=[S=Math.max(Ai,Math.min(xr,S)),D=Math.max(Ai,Math.min(xr,D))];b_(H,W,t,n,e,r)?(_||(u.lineStart(),u.point(H[0],H[1])),u.point(W[0],W[1]),j||u.lineEnd(),w=!1):j&&(u.lineStart(),u.point(S,D),w=!1)}b=S,v=D,_=j}return x}}const $f=t=>t;var ka=new me,Tf=new me,Cd,Ed,Sf,Af,Cn={point:Xt,lineStart:Xt,lineEnd:Xt,polygonStart:function(){Cn.lineStart=y_,Cn.lineEnd=w_},polygonEnd:function(){Cn.lineStart=Cn.lineEnd=Cn.point=Xt,ka.add(ft(Tf)),Tf=new me},result:function(){var t=ka/2;return ka=new me,t}};function y_(){Cn.point=__}function __(t,n){Cn.point=Nd,Cd=Sf=t,Ed=Af=n}function Nd(t,n){Tf.add(Af*t-Sf*n),Sf=t,Af=n}function w_(){Nd(Cd,Ed)}var Ze=1/0,ao=Ze,Or=-Ze,fo=Or,co={point:v_,lineStart:Xt,lineEnd:Xt,polygonStart:Xt,polygonEnd:Xt,result:function(){var t=[[Ze,ao],[Or,fo]];return Or=fo=-(ao=Ze=1/0),t}};function v_(t,n){t<Ze&&(Ze=t),t>Or&&(Or=t),n<ao&&(ao=n),n>fo&&(fo=n)}var kf=0,Cf=0,Mr=0,uo=0,so=0,Re=0,Ef=0,Nf=0,$r=0,Id,Ld,ln,dn,Ht={point:ve,lineStart:rs,lineEnd:is,polygonStart:function(){Ht.lineStart=$_,Ht.lineEnd=T_},polygonEnd:function(){Ht.point=ve,Ht.lineStart=rs,Ht.lineEnd=is},result:function(){var t=$r?[Ef/$r,Nf/$r]:Re?[uo/Re,so/Re]:Mr?[kf/Mr,Cf/Mr]:[NaN,NaN];return kf=Cf=Mr=uo=so=Re=Ef=Nf=$r=0,t}};function ve(t,n){kf+=t,Cf+=n,++Mr}function rs(){Ht.point=x_}function x_(t,n){Ht.point=M_,ve(ln=t,dn=n)}function M_(t,n){var e=t-ln,r=n-dn,i=Dt(e*e+r*r);uo+=i*(ln+t)/2,so+=i*(dn+n)/2,Re+=i,ve(ln=t,dn=n)}function is(){Ht.point=ve}function $_(){Ht.point=S_}function T_(){Dd(Id,Ld)}function S_(t,n){Ht.point=Dd,ve(Id=ln=t,Ld=dn=n)}function Dd(t,n){var e=t-ln,r=n-dn,i=Dt(e*e+r*r);uo+=i*(ln+t)/2,so+=i*(dn+n)/2,Re+=i,i=dn*t-ln*n,Ef+=i*(ln+t),Nf+=i*(dn+n),$r+=i*3,ve(ln=t,dn=n)}function Rd(t){this._context=t}Rd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Ot);break}}},result:Xt};var If=new me,Ca,Fd,Pd,Tr,Sr,zr={point:Xt,lineStart:function(){zr.point=A_},lineEnd:function(){Ca&&Od(Fd,Pd),zr.point=Xt},polygonStart:function(){Ca=!0},polygonEnd:function(){Ca=null},result:function(){var t=+If;return If=new me,t}};function A_(t,n){zr.point=Od,Fd=Tr=t,Pd=Sr=n}function Od(t,n){Tr-=t,Sr-=n,If.add(Dt(Tr*Tr+Sr*Sr)),Tr=t,Sr=n}let os,lo,as,fs;class cs{constructor(n){this._append=n==null?zd:k_(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==as||this._append!==lo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,as=r,lo=this._append,fs=this._,this._=i}this._+=fs;break}}}result(){const n=this._;return this._="",n.length?n:null}}function zd(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function k_(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return zd;if(n!==os){const e=10**n;os=n,lo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*e)/e+i[o]}}return lo}function qo(t,n){let e=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),ue(f,i(o))),o.result()}return a.area=function(f){return ue(f,i(Cn)),Cn.result()},a.measure=function(f){return ue(f,i(zr)),zr.result()},a.bounds=function(f){return ue(f,i(co)),co.result()},a.centroid=function(f){return ue(f,i(Ht)),Ht.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,$f):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(n=null,new cs(e)):new Rd(n=f),typeof r!="function"&&o.pointRadius(r),a):n},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return e;if(f==null)e=null;else{const c=Math.floor(f);if(!(c>=0))throw new RangeError(`invalid digits: ${f}`);e=c}return n===null&&(o=new cs(e)),a},a.projection(t).digits(e).context(n)}function Lf(t){return{stream:Bo(t)}}function Bo(t){return function(n){var e=new Df;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Df(){}Df.prototype={constructor:Df,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function vc(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),ue(e,t.stream(co)),n(co.result()),r!=null&&t.clipExtent(r),t}function xc(t,n,e){return vc(t,function(r){var i=n[1][0]-n[0][0],o=n[1][1]-n[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+n[0][0]+(i-a*(r[1][0]+r[0][0]))/2,c=+n[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,c])},e)}function Ud(t,n,e){return xc(t,[[0,0],n],e)}function qd(t,n,e){return vc(t,function(r){var i=+n,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},e)}function Bd(t,n,e){return vc(t,function(r){var i=+n,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},e)}var us=16,C_=nt(30*st);function ss(t,n){return+n?N_(t,n):E_(t)}function E_(t){return Bo({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function N_(t,n){function e(r,i,o,a,f,c,s,u,d,l,h,p,m,g){var y=s-r,b=u-i,v=y*y+b*b;if(v>4*n&&m--){var _=a+l,M=f+h,w=c+p,x=Dt(_*_+M*M+w*w),T=Zt(w/=x),A=ft(ft(w)-1)<J||ft(o-d)<J?(o+d)/2:Pn(M,_),E=t(A,T),$=E[0],N=E[1],F=$-r,L=N-i,S=b*F-y*L;(S*S/v>n||ft((y*F+b*L)/v-.5)>.3||a*l+f*h+c*p<C_)&&(e(r,i,o,a,f,c,$,N,A,_/=x,M/=x,w,m,g),g.point($,N),e($,N,A,_,M,w,s,u,d,l,h,p,m,g))}}return function(r){var i,o,a,f,c,s,u,d,l,h,p,m,g={point:y,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=M},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y(T,A){T=t(T,A),r.point(T[0],T[1])}function b(){d=NaN,g.point=v,r.lineStart()}function v(T,A){var E=Ge([T,A]),$=t(T,A);e(d,l,u,h,p,m,d=$[0],l=$[1],u=T,h=E[0],p=E[1],m=E[2],us,r),r.point(d,l)}function _(){g.point=y,r.lineEnd()}function M(){b(),g.point=w,g.lineEnd=x}function w(T,A){v(i=T,A),o=d,a=l,f=h,c=p,s=m,g.point=v}function x(){e(d,l,u,h,p,m,o,a,i,f,c,s,us,r),g.lineEnd=_,_()}return g}}var I_=Bo({point:function(t,n){this.stream.point(t*st,n*st)}});function L_(t){return Bo({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}function D_(t,n,e,r,i){function o(a,f){return a*=r,f*=i,[n+t*a,e-t*f]}return o.invert=function(a,f){return[(a-n)/t*r,(e-f)/t*i]},o}function ls(t,n,e,r,i,o){if(!o)return D_(t,n,e,r,i);var a=nt(o),f=Z(o),c=a*t,s=f*t,u=a/t,d=f/t,l=(f*e-a*n)/t,h=(f*n+a*e)/t;function p(m,g){return m*=r,g*=i,[c*m-s*g+n,e-s*m-c*g]}return p.invert=function(m,g){return[r*(u*m-d*g+l),i*(h-d*m-u*g)]},p}function ee(t){return Yd(function(){return t})()}function Yd(t){var n,e=150,r=480,i=250,o=0,a=0,f=0,c=0,s=0,u,d=0,l=1,h=1,p=null,m=es,g=null,y,b,v,_=$f,M=.5,w,x,T,A,E;function $(S){return T(S[0]*st,S[1]*st)}function N(S){return S=T.invert(S[0],S[1]),S&&[S[0]*Ct,S[1]*Ct]}$.stream=function(S){return A&&E===S?A:A=I_(L_(u)(m(w(_(E=S)))))},$.preclip=function(S){return arguments.length?(m=S,p=void 0,L()):m},$.postclip=function(S){return arguments.length?(_=S,g=y=b=v=null,L()):_},$.clipAngle=function(S){return arguments.length?(m=+S?g_(p=S*st):(p=null,es),L()):p*Ct},$.clipExtent=function(S){return arguments.length?(_=S==null?(g=y=b=v=null,$f):kd(g=+S[0][0],y=+S[0][1],b=+S[1][0],v=+S[1][1]),L()):g==null?null:[[g,y],[b,v]]},$.scale=function(S){return arguments.length?(e=+S,F()):e},$.translate=function(S){return arguments.length?(r=+S[0],i=+S[1],F()):[r,i]},$.center=function(S){return arguments.length?(o=S[0]%360*st,a=S[1]%360*st,F()):[o*Ct,a*Ct]},$.rotate=function(S){return arguments.length?(f=S[0]%360*st,c=S[1]%360*st,s=S.length>2?S[2]%360*st:0,F()):[f*Ct,c*Ct,s*Ct]},$.angle=function(S){return arguments.length?(d=S%360*st,F()):d*Ct},$.reflectX=function(S){return arguments.length?(l=S?-1:1,F()):l<0},$.reflectY=function(S){return arguments.length?(h=S?-1:1,F()):h<0},$.precision=function(S){return arguments.length?(w=ss(x,M=S*S),L()):Dt(M)},$.fitExtent=function(S,D){return xc($,S,D)},$.fitSize=function(S,D){return Ud($,S,D)},$.fitWidth=function(S,D){return qd($,S,D)},$.fitHeight=function(S,D){return Bd($,S,D)};function F(){var S=ls(e,0,0,l,h,d).apply(null,n(o,a)),D=ls(e,r-S[0],i-S[1],l,h,d);return u=$d(f,c,s),x=xf(n,D),T=xf(u,x),w=ss(x,M),L()}function L(){return A=E=null,$}return function(){return n=t.apply(this,arguments),$.invert=n.invert&&N,F()}}function Mc(t){var n=0,e=et/3,r=Yd(t),i=r(n,e);return i.parallels=function(o){return arguments.length?r(n=o[0]*st,e=o[1]*st):[n*Ct,e*Ct]},i}function R_(t){var n=nt(t);function e(r,i){return[r*n,Z(i)/n]}return e.invert=function(r,i){return[r/n,Zt(i*n)]},e}function F_(t,n){var e=Z(t),r=(e+Z(n))/2;if(ft(r)<J)return R_(t);var i=1+e*(2*r-e),o=Dt(i)/r;function a(f,c){var s=Dt(i-2*r*Z(c))/r;return[s*Z(f*=r),o-s*nt(f)]}return a.invert=function(f,c){var s=o-c,u=Pn(f,ft(s))*Vt(s);return s*r<0&&(u-=et*Vt(f)*Vt(s)),[u/r,Zt((i-(f*f+s*s)*r*r)/(2*r))]},a}function ho(){return Mc(F_).scale(155.424).center([0,33.6442])}function Hd(){return ho().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function P_(t){var n=t.length;return{point:function(e,r){for(var i=-1;++i<n;)t[i].point(e,r)},sphere:function(){for(var e=-1;++e<n;)t[e].sphere()},lineStart:function(){for(var e=-1;++e<n;)t[e].lineStart()},lineEnd:function(){for(var e=-1;++e<n;)t[e].lineEnd()},polygonStart:function(){for(var e=-1;++e<n;)t[e].polygonStart()},polygonEnd:function(){for(var e=-1;++e<n;)t[e].polygonEnd()}}}function O_(){var t,n,e=Hd(),r,i=ho().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=ho().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,c,s={point:function(l,h){c=[l,h]}};function u(l){var h=l[0],p=l[1];return c=null,r.point(h,p),c||(o.point(h,p),c)||(f.point(h,p),c)}u.invert=function(l){var h=e.scale(),p=e.translate(),m=(l[0]-p[0])/h,g=(l[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:e).invert(l)},u.stream=function(l){return t&&n===l?t:t=P_([e.stream(n=l),i.stream(l),a.stream(l)])},u.precision=function(l){return arguments.length?(e.precision(l),i.precision(l),a.precision(l),d()):e.precision()},u.scale=function(l){return arguments.length?(e.scale(l),i.scale(l*.35),a.scale(l),u.translate(e.translate())):e.scale()},u.translate=function(l){if(!arguments.length)return e.translate();var h=e.scale(),p=+l[0],m=+l[1];return r=e.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(s),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+J,m+.12*h+J],[p-.214*h-J,m+.234*h-J]]).stream(s),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+J,m+.166*h+J],[p-.115*h-J,m+.234*h-J]]).stream(s),d()},u.fitExtent=function(l,h){return xc(u,l,h)},u.fitSize=function(l,h){return Ud(u,l,h)},u.fitWidth=function(l,h){return qd(u,l,h)},u.fitHeight=function(l,h){return Bd(u,l,h)};function d(){return t=n=null,u}return u.scale(1070)}function Wd(t){return function(n,e){var r=nt(n),i=nt(e),o=t(r*i);return o===1/0?[2,0]:[o*i*Z(n),o*Z(e)]}}function Qr(t){return function(n,e){var r=Dt(n*n+e*e),i=t(r),o=Z(i),a=nt(i);return[Pn(n*o,r*a),Zt(r&&e*o/r)]}}var Vd=Wd(function(t){return Dt(2/(1+t))});Vd.invert=Qr(function(t){return 2*Zt(t/2)});function z_(){return ee(Vd).scale(124.75).clipAngle(180-.001)}var Xd=Wd(function(t){return(t=Md(t))&&t/Z(t)});Xd.invert=Qr(function(t){return t});function U_(){return ee(Xd).scale(79.4188).clipAngle(180-.001)}function Yo(t,n){return[t,ro(wc((lt+n)/2))]}Yo.invert=function(t,n){return[t,2*cr(xd(n))-lt]};function q_(){return jd(Yo).scale(961/Ot)}function jd(t){var n=ee(t),e=n.center,r=n.scale,i=n.translate,o=n.clipExtent,a=null,f,c,s;n.scale=function(d){return arguments.length?(r(d),u()):r()},n.translate=function(d){return arguments.length?(i(d),u()):i()},n.center=function(d){return arguments.length?(e(d),u()):e()},n.clipExtent=function(d){return arguments.length?(d==null?a=f=c=s=null:(a=+d[0][0],f=+d[0][1],c=+d[1][0],s=+d[1][1]),u()):a==null?null:[[a,f],[c,s]]};function u(){var d=et*r(),l=n(c_(n.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===Yo?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,c),s]]:[[a,Math.max(l[1]-d,f)],[c,Math.min(l[1]+d,s)]])}return u()}function ki(t){return wc((lt+t)/2)}function B_(t,n){var e=nt(t),r=t===n?Z(t):ro(e/nt(n))/ro(ki(n)/ki(t)),i=e*Ta(ki(t),r)/r;if(!r)return Yo;function o(a,f){i>0?f<-lt+J&&(f=-lt+J):f>lt-J&&(f=lt-J);var c=i/Ta(ki(f),r);return[c*Z(r*a),i-c*nt(r*a)]}return o.invert=function(a,f){var c=i-f,s=Vt(r)*Dt(a*a+c*c),u=Pn(a,ft(c))*Vt(c);return c*r<0&&(u-=et*Vt(a)*Vt(c)),[u/r,2*cr(Ta(i/s,1/r))-lt]},o}function Y_(){return Mc(B_).scale(109.5).parallels([30,30])}function po(t,n){return[t,n]}po.invert=po;function H_(){return ee(po).scale(152.63)}function W_(t,n){var e=nt(t),r=t===n?Z(t):(e-nt(n))/(n-t),i=e/r+t;if(ft(r)<J)return po;function o(a,f){var c=i-f,s=r*a;return[c*Z(s),i-c*nt(s)]}return o.invert=function(a,f){var c=i-f,s=Pn(a,ft(c))*Vt(c);return c*r<0&&(s-=et*Vt(a)*Vt(c)),[s/r,i-Vt(r)*Dt(a*a+c*c)]},o}function V_(){return Mc(W_).scale(131.154).center([0,13.9389])}var Cr=1.340264,Er=-.081106,Nr=893e-6,Ir=.003796,mo=Dt(3)/2,X_=12;function Gd(t,n){var e=Zt(mo*Z(n)),r=e*e,i=r*r*r;return[t*nt(e)/(mo*(Cr+3*Er*r+i*(7*Nr+9*Ir*r))),e*(Cr+Er*r+i*(Nr+Ir*r))]}Gd.invert=function(t,n){for(var e=n,r=e*e,i=r*r*r,o=0,a,f,c;o<X_&&(f=e*(Cr+Er*r+i*(Nr+Ir*r))-n,c=Cr+3*Er*r+i*(7*Nr+9*Ir*r),e-=a=f/c,r=e*e,i=r*r*r,!(ft(a)<vd));++o);return[mo*t*(Cr+3*Er*r+i*(7*Nr+9*Ir*r))/nt(e),Zt(Z(e)/mo)]};function j_(){return ee(Gd).scale(177.158)}function Zd(t,n){var e=nt(n),r=nt(t)*e;return[e*Z(t)/r,Z(n)/r]}Zd.invert=Qr(cr);function G_(){return ee(Zd).scale(144.049).clipAngle(60)}function Kd(t,n){return[nt(n)*Z(t),Z(n)]}Kd.invert=Qr(Zt);function Z_(){return ee(Kd).scale(249.5).clipAngle(90+J)}function Qd(t,n){var e=nt(n),r=1+nt(t)*e;return[e*Z(t)/r,Z(n)/r]}Qd.invert=Qr(function(t){return 2*cr(t)});function K_(){return ee(Qd).scale(250).clipAngle(142)}function Jd(t,n){return[ro(wc((lt+n)/2)),-t]}Jd.invert=function(t,n){return[-n,2*cr(xd(t))-lt]};function Q_(){var t=jd(Jd),n=t.center,e=t.rotate;return t.center=function(r){return arguments.length?n([-r[1],r[0]]):(r=n(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?e([r[0],r[1],r.length>2?r[2]+90:90]):(r=e(),[r[0],r[1],r[2]-90])},e([0,0,90]).scale(159.155)}function _n(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function Ho(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Rf=Symbol("implicit");function $c(){var t=new ge,n=[],e=[],r=Rf;function i(o){let a=t.get(o);if(a===void 0){if(r!==Rf)return r;t.set(o,a=n.push(o)-1)}return e[a%e.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new ge;for(const a of o)t.has(a)||t.set(a,n.push(a)-1);return i},i.range=function(o){return arguments.length?(e=Array.from(o),i):e.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return $c(n,e).unknown(r)},_n.apply(i,arguments),i}function Wo(){var t=$c().unknown(void 0),n=t.domain,e=t.range,r=0,i=1,o,a,f=!1,c=0,s=0,u=.5;delete t.unknown;function d(){var l=n().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,l-c+s*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-c))*u,a=o*(1-c),f&&(p=Math.round(p),a=Math.round(a));var g=ff(l).map(function(y){return p+o*y});return e(h?g.reverse():g)}return t.domain=function(l){return arguments.length?(n(l),d()):n()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(c=Math.min(1,s=+l),d()):c},t.paddingInner=function(l){return arguments.length?(c=Math.min(1,l),d()):c},t.paddingOuter=function(l){return arguments.length?(s=+l,d()):s},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},t.copy=function(){return Wo(n(),[r,i]).round(f).paddingInner(c).paddingOuter(s).align(u)},_n.apply(d(),arguments)}function th(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return th(n())},t}function J_(){return th(Wo.apply(null,arguments).paddingInner(1))}function tw(t){return function(){return t}}function Ff(t){return+t}var ds=[0,1];function jt(t){return t}function Pf(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:tw(isNaN(n)?NaN:.5)}function nw(t,n){var e;return t>n&&(e=t,t=n,n=e),function(r){return Math.max(t,Math.min(n,r))}}function ew(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=Pf(i,r),o=e(a,o)):(r=Pf(r,i),o=e(o,a)),function(f){return o(r(f))}}function rw(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=Pf(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(f){var c=No(t,f,1,r)-1;return o[c](i[c](f))}}function Jr(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vo(){var t=ds,n=ds,e=Kr,r,i,o,a=jt,f,c,s;function u(){var l=Math.min(t.length,n.length);return a!==jt&&(a=nw(t[0],t[l-1])),f=l>2?rw:ew,c=s=null,d}function d(l){return l==null||isNaN(l=+l)?o:(c||(c=f(t.map(r),n,e)))(r(a(l)))}return d.invert=function(l){return a(i((s||(s=f(n,t.map(r),St)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Ff),u()):t.slice()},d.range=function(l){return arguments.length?(n=Array.from(l),u()):n.slice()},d.rangeRound=function(l){return n=Array.from(l),e=pc,u()},d.clamp=function(l){return arguments.length?(a=l?!0:jt,u()):a!==jt},d.interpolate=function(l){return arguments.length?(e=l,u()):e},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,u()}}function nh(){return Vo()(jt,jt)}function iw(t,n,e,r){var i=of(t,n,e),o;switch(r=Pr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=a_(i,a))&&(r.precision=o),wd(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=f_(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=o_(i))&&(r.precision=o-(r.type==="%")*2);break}}return fr(r)}function ti(t){var n=t.domain;return t.ticks=function(e){var r=n();return Lr(r[0],r[r.length-1],e??10)},t.tickFormat=function(e,r){var i=n();return iw(i[0],i[i.length-1],e??10,r)},t.nice=function(e){e==null&&(e=10);var r=n(),i=0,o=r.length-1,a=r[i],f=r[o],c,s,u=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);u-- >0;){if(s=ji(a,f,e),s===c)return r[i]=a,r[o]=f,n(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;c=s}return t},t}function Tc(){var t=nh();return t.copy=function(){return Jr(t,Tc())},_n.apply(t,arguments),ti(t)}function eh(t){var n;function e(r){return r==null||isNaN(r=+r)?n:r}return e.invert=e,e.domain=e.range=function(r){return arguments.length?(t=Array.from(r,Ff),e):t.slice()},e.unknown=function(r){return arguments.length?(n=r,e):n},e.copy=function(){return eh(t).unknown(n)},t=arguments.length?Array.from(t,Ff):[0,1],ti(e)}function rh(t,n){t=t.slice();var e=0,r=t.length-1,i=t[e],o=t[r],a;return o<i&&(a=e,e=r,r=a,a=i,i=o,o=a),t[e]=n.floor(i),t[r]=n.ceil(o),t}function hs(t){return Math.log(t)}function ps(t){return Math.exp(t)}function ow(t){return-Math.log(-t)}function aw(t){return-Math.exp(-t)}function fw(t){return isFinite(t)?+("1e"+t):t<0?0:t}function cw(t){return t===10?fw:t===Math.E?Math.exp:n=>Math.pow(t,n)}function uw(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function ms(t){return(n,e)=>-t(-n,e)}function ih(t){const n=t(hs,ps),e=n.domain;let r=10,i,o;function a(){return i=uw(r),o=cw(r),e()[0]<0?(i=ms(i),o=ms(o),t(ow,aw)):t(hs,ps),n}return n.base=function(f){return arguments.length?(r=+f,a()):r},n.domain=function(f){return arguments.length?(e(f),a()):e()},n.ticks=f=>{const c=e();let s=c[0],u=c[c.length-1];const d=u<s;d&&([s,u]=[u,s]);let l=i(s),h=i(u),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-l<g){if(l=Math.floor(l),h=Math.ceil(h),s>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<s)){if(m>u)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<s)){if(m>u)break;y.push(m)}y.length*2<g&&(y=Lr(s,u,g))}else y=Lr(l,h,Math.min(h-l,g)).map(o);return d?y.reverse():y},n.tickFormat=(f,c)=>{if(f==null&&(f=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Pr(c)).precision==null&&(c.trim=!0),c=fr(c)),f===1/0)return c;const s=Math.max(1,r*f/n.ticks().length);return u=>{let d=u/o(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=s?c(u):""}},n.nice=()=>e(rh(e(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),n}function oh(){const t=ih(Vo()).domain([1,10]);return t.copy=()=>Jr(t,oh()).base(t.base()),_n.apply(t,arguments),t}function gs(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function bs(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function ah(t){var n=1,e=t(gs(n),bs(n));return e.constant=function(r){return arguments.length?t(gs(n=+r),bs(n)):n},ti(e)}function fh(){var t=ah(Vo());return t.copy=function(){return Jr(t,fh()).constant(t.constant())},_n.apply(t,arguments)}function ys(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function sw(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lw(t){return t<0?-t*t:t*t}function ch(t){var n=t(jt,jt),e=1;function r(){return e===1?t(jt,jt):e===.5?t(sw,lw):t(ys(e),ys(1/e))}return n.exponent=function(i){return arguments.length?(e=+i,r()):e},ti(n)}function uh(){var t=ch(Vo());return t.copy=function(){return Jr(t,uh()).exponent(t.exponent())},_n.apply(t,arguments),t}function sh(){var t=[],n=[],e=[],r;function i(){var a=0,f=Math.max(1,n.length);for(e=new Array(f-1);++a<f;)e[a-1]=ig(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:n[No(e,a)]}return o.invertExtent=function(a){var f=n.indexOf(a);return f<0?[NaN,NaN]:[f>0?e[f-1]:t[0],f<e.length?e[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(Lt),i()},o.range=function(a){return arguments.length?(n=Array.from(a),i()):n.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return e.slice()},o.copy=function(){return sh().domain(t).range(n).unknown(r)},_n.apply(o,arguments)}function lh(){var t=[.5],n=[0,1],e,r=1;function i(o){return o!=null&&o<=o?n[No(t,o,0,r)]:e}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var a=n.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(e=o,i):e},i.copy=function(){return lh().domain(t).range(n).unknown(e)},_n.apply(i,arguments)}const Ea=new Date,Na=new Date;function pt(t,n,e,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(n(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const c=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return c;let s;do c.push(s=new Date(+o)),n(o,f),t(o);while(s<o&&o<a);return c},i.filter=o=>pt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;n(a,-1),!o(a););else for(;--f>=0;)for(;n(a,1),!o(a););}),e&&(i.count=(o,a)=>(Ea.setTime(+o),Na.setTime(+a),t(Ea),t(Na),Math.floor(e(Ea,Na))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const go=pt(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);go.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pt(n=>{n.setTime(Math.floor(n/t)*t)},(n,e)=>{n.setTime(+n+e*t)},(n,e)=>(e-n)/t):go);go.range;const Nn=1e3,Gt=Nn*60,In=Gt*60,On=In*24,Sc=On*7,_s=On*30,Ia=On*365,tn=pt(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Nn)},(t,n)=>(n-t)/Nn,t=>t.getUTCSeconds());tn.range;const ni=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nn)},(t,n)=>{t.setTime(+t+n*Gt)},(t,n)=>(n-t)/Gt,t=>t.getMinutes());ni.range;const ei=pt(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Gt)},(t,n)=>(n-t)/Gt,t=>t.getUTCMinutes());ei.range;const ri=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Nn-t.getMinutes()*Gt)},(t,n)=>{t.setTime(+t+n*In)},(t,n)=>(n-t)/In,t=>t.getHours());ri.range;const ii=pt(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*In)},(t,n)=>(n-t)/In,t=>t.getUTCHours());ii.range;const $e=pt(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Gt)/On,t=>t.getDate()-1);$e.range;const Xo=pt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/On,t=>t.getUTCDate()-1);Xo.range;const jo=pt(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/On,t=>Math.floor(t/On));jo.range;function Te(t){return pt(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,e)=>{n.setDate(n.getDate()+e*7)},(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Gt)/Sc)}const Ke=Te(0),Ur=Te(1),dh=Te(2),hh=Te(3),xe=Te(4),ph=Te(5),mh=Te(6);Ke.range;Ur.range;dh.range;hh.range;xe.range;ph.range;mh.range;function Se(t){return pt(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e*7)},(n,e)=>(e-n)/Sc)}const Qe=Se(0),qr=Se(1),gh=Se(2),bh=Se(3),Me=Se(4),yh=Se(5),_h=Se(6);Qe.range;qr.range;gh.range;bh.range;Me.range;yh.range;_h.range;const oi=pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());oi.range;const ai=pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());ai.range;const rn=pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());rn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e*t)});rn.range;const on=pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());on.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e*t)});on.range;function wh(t,n,e,r,i,o){const a=[[tn,1,Nn],[tn,5,5*Nn],[tn,15,15*Nn],[tn,30,30*Nn],[o,1,Gt],[o,5,5*Gt],[o,15,15*Gt],[o,30,30*Gt],[i,1,In],[i,3,3*In],[i,6,6*In],[i,12,12*In],[r,1,On],[r,2,2*On],[e,1,Sc],[n,1,_s],[n,3,3*_s],[t,1,Ia]];function f(s,u,d){const l=u<s;l&&([s,u]=[u,s]);const h=d&&typeof d.range=="function"?d:c(s,u,d),p=h?h.range(s,+u+1):[];return l?p.reverse():p}function c(s,u,d){const l=Math.abs(u-s)/d,h=Eo(([,,g])=>g).right(a,l);if(h===a.length)return t.every(of(s/Ia,u/Ia,d));if(h===0)return go.every(Math.max(of(s,u,d),1));const[p,m]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(m)}return[f,c]}const[dw,vh]=wh(on,ai,Qe,jo,ii,ei),[hw,pw]=wh(rn,oi,Ke,$e,ri,ni);function La(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Da(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function mw(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,c=t.shortMonths,s=gr(i),u=br(i),d=gr(o),l=br(o),h=gr(a),p=br(a),m=gr(f),g=br(f),y=gr(c),b=br(c),v={a:j,A:H,b:W,B:R,c:null,d:Ts,e:Ts,f:Ow,g:jw,G:Zw,H:Rw,I:Fw,j:Pw,L:xh,m:zw,M:Uw,p:O,q:P,Q:ks,s:Cs,S:qw,u:Bw,U:Yw,V:Hw,w:Ww,W:Vw,x:null,X:null,y:Xw,Y:Gw,Z:Kw,"%":As},_={a:z,A:tt,b:B,B:X,c:null,d:Ss,e:Ss,f:n6,g:l6,G:h6,H:Qw,I:Jw,j:t6,L:$h,m:e6,M:r6,p:U,q,Q:ks,s:Cs,S:i6,u:o6,U:a6,V:f6,w:c6,W:u6,x:null,X:null,y:s6,Y:d6,Z:p6,"%":As},M={a:E,A:$,b:N,B:F,c:L,d:Ms,e:Ms,f:Nw,g:xs,G:vs,H:$s,I:$s,j:Aw,L:Ew,m:Sw,M:kw,p:A,q:Tw,Q:Lw,s:Dw,S:Cw,u:ww,U:vw,V:xw,w:_w,W:Mw,x:S,X:D,y:xs,Y:vs,Z:$w,"%":Iw};v.x=w(e,v),v.X=w(r,v),v.c=w(n,v),_.x=w(e,_),_.X=w(r,_),_.c=w(n,_);function w(k,I){return function(Y){var C=[],rt=-1,V=0,at=k.length,ut,Mt,Wn;for(Y instanceof Date||(Y=new Date(+Y));++rt<at;)k.charCodeAt(rt)===37&&(C.push(k.slice(V,rt)),(Mt=ws[ut=k.charAt(++rt)])!=null?ut=k.charAt(++rt):Mt=ut==="e"?" ":"0",(Wn=I[ut])&&(ut=Wn(Y,Mt)),C.push(ut),V=rt+1);return C.push(k.slice(V,rt)),C.join("")}}function x(k,I){return function(Y){var C=mr(1900,void 0,1),rt=T(C,k,Y+="",0),V,at;if(rt!=Y.length)return null;if("Q"in C)return new Date(C.Q);if("s"in C)return new Date(C.s*1e3+("L"in C?C.L:0));if(I&&!("Z"in C)&&(C.Z=0),"p"in C&&(C.H=C.H%12+C.p*12),C.m===void 0&&(C.m="q"in C?C.q:0),"V"in C){if(C.V<1||C.V>53)return null;"w"in C||(C.w=1),"Z"in C?(V=Da(mr(C.y,0,1)),at=V.getUTCDay(),V=at>4||at===0?qr.ceil(V):qr(V),V=Xo.offset(V,(C.V-1)*7),C.y=V.getUTCFullYear(),C.m=V.getUTCMonth(),C.d=V.getUTCDate()+(C.w+6)%7):(V=La(mr(C.y,0,1)),at=V.getDay(),V=at>4||at===0?Ur.ceil(V):Ur(V),V=$e.offset(V,(C.V-1)*7),C.y=V.getFullYear(),C.m=V.getMonth(),C.d=V.getDate()+(C.w+6)%7)}else("W"in C||"U"in C)&&("w"in C||(C.w="u"in C?C.u%7:"W"in C?1:0),at="Z"in C?Da(mr(C.y,0,1)).getUTCDay():La(mr(C.y,0,1)).getDay(),C.m=0,C.d="W"in C?(C.w+6)%7+C.W*7-(at+5)%7:C.w+C.U*7-(at+6)%7);return"Z"in C?(C.H+=C.Z/100|0,C.M+=C.Z%100,Da(C)):La(C)}}function T(k,I,Y,C){for(var rt=0,V=I.length,at=Y.length,ut,Mt;rt<V;){if(C>=at)return-1;if(ut=I.charCodeAt(rt++),ut===37){if(ut=I.charAt(rt++),Mt=M[ut in ws?I.charAt(rt++):ut],!Mt||(C=Mt(k,Y,C))<0)return-1}else if(ut!=Y.charCodeAt(C++))return-1}return C}function A(k,I,Y){var C=s.exec(I.slice(Y));return C?(k.p=u.get(C[0].toLowerCase()),Y+C[0].length):-1}function E(k,I,Y){var C=h.exec(I.slice(Y));return C?(k.w=p.get(C[0].toLowerCase()),Y+C[0].length):-1}function $(k,I,Y){var C=d.exec(I.slice(Y));return C?(k.w=l.get(C[0].toLowerCase()),Y+C[0].length):-1}function N(k,I,Y){var C=y.exec(I.slice(Y));return C?(k.m=b.get(C[0].toLowerCase()),Y+C[0].length):-1}function F(k,I,Y){var C=m.exec(I.slice(Y));return C?(k.m=g.get(C[0].toLowerCase()),Y+C[0].length):-1}function L(k,I,Y){return T(k,n,I,Y)}function S(k,I,Y){return T(k,e,I,Y)}function D(k,I,Y){return T(k,r,I,Y)}function j(k){return a[k.getDay()]}function H(k){return o[k.getDay()]}function W(k){return c[k.getMonth()]}function R(k){return f[k.getMonth()]}function O(k){return i[+(k.getHours()>=12)]}function P(k){return 1+~~(k.getMonth()/3)}function z(k){return a[k.getUTCDay()]}function tt(k){return o[k.getUTCDay()]}function B(k){return c[k.getUTCMonth()]}function X(k){return f[k.getUTCMonth()]}function U(k){return i[+(k.getUTCHours()>=12)]}function q(k){return 1+~~(k.getUTCMonth()/3)}return{format:function(k){var I=w(k+="",v);return I.toString=function(){return k},I},parse:function(k){var I=x(k+="",!1);return I.toString=function(){return k},I},utcFormat:function(k){var I=w(k+="",_);return I.toString=function(){return k},I},utcParse:function(k){var I=x(k+="",!0);return I.toString=function(){return k},I}}}var ws={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,gw=/^%/,bw=/[\\^$*+?|[\]().{}]/g;function ot(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function yw(t){return t.replace(bw,"\\$&")}function gr(t){return new RegExp("^(?:"+t.map(yw).join("|")+")","i")}function br(t){return new Map(t.map((n,e)=>[n.toLowerCase(),e]))}function _w(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function ww(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function vw(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function xw(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function Mw(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function vs(t,n,e){var r=wt.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function xs(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function $w(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Tw(t,n,e){var r=wt.exec(n.slice(e,e+1));return r?(t.q=r[0]*3-3,e+r[0].length):-1}function Sw(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Ms(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Aw(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function $s(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function kw(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Cw(t,n,e){var r=wt.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function Ew(t,n,e){var r=wt.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Nw(t,n,e){var r=wt.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Iw(t,n,e){var r=gw.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function Lw(t,n,e){var r=wt.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function Dw(t,n,e){var r=wt.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function Ts(t,n){return ot(t.getDate(),n,2)}function Rw(t,n){return ot(t.getHours(),n,2)}function Fw(t,n){return ot(t.getHours()%12||12,n,2)}function Pw(t,n){return ot(1+$e.count(rn(t),t),n,3)}function xh(t,n){return ot(t.getMilliseconds(),n,3)}function Ow(t,n){return xh(t,n)+"000"}function zw(t,n){return ot(t.getMonth()+1,n,2)}function Uw(t,n){return ot(t.getMinutes(),n,2)}function qw(t,n){return ot(t.getSeconds(),n,2)}function Bw(t){var n=t.getDay();return n===0?7:n}function Yw(t,n){return ot(Ke.count(rn(t)-1,t),n,2)}function Mh(t){var n=t.getDay();return n>=4||n===0?xe(t):xe.ceil(t)}function Hw(t,n){return t=Mh(t),ot(xe.count(rn(t),t)+(rn(t).getDay()===4),n,2)}function Ww(t){return t.getDay()}function Vw(t,n){return ot(Ur.count(rn(t)-1,t),n,2)}function Xw(t,n){return ot(t.getFullYear()%100,n,2)}function jw(t,n){return t=Mh(t),ot(t.getFullYear()%100,n,2)}function Gw(t,n){return ot(t.getFullYear()%1e4,n,4)}function Zw(t,n){var e=t.getDay();return t=e>=4||e===0?xe(t):xe.ceil(t),ot(t.getFullYear()%1e4,n,4)}function Kw(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+ot(n/60|0,"0",2)+ot(n%60,"0",2)}function Ss(t,n){return ot(t.getUTCDate(),n,2)}function Qw(t,n){return ot(t.getUTCHours(),n,2)}function Jw(t,n){return ot(t.getUTCHours()%12||12,n,2)}function t6(t,n){return ot(1+Xo.count(on(t),t),n,3)}function $h(t,n){return ot(t.getUTCMilliseconds(),n,3)}function n6(t,n){return $h(t,n)+"000"}function e6(t,n){return ot(t.getUTCMonth()+1,n,2)}function r6(t,n){return ot(t.getUTCMinutes(),n,2)}function i6(t,n){return ot(t.getUTCSeconds(),n,2)}function o6(t){var n=t.getUTCDay();return n===0?7:n}function a6(t,n){return ot(Qe.count(on(t)-1,t),n,2)}function Th(t){var n=t.getUTCDay();return n>=4||n===0?Me(t):Me.ceil(t)}function f6(t,n){return t=Th(t),ot(Me.count(on(t),t)+(on(t).getUTCDay()===4),n,2)}function c6(t){return t.getUTCDay()}function u6(t,n){return ot(qr.count(on(t)-1,t),n,2)}function s6(t,n){return ot(t.getUTCFullYear()%100,n,2)}function l6(t,n){return t=Th(t),ot(t.getUTCFullYear()%100,n,2)}function d6(t,n){return ot(t.getUTCFullYear()%1e4,n,4)}function h6(t,n){var e=t.getUTCDay();return t=e>=4||e===0?Me(t):Me.ceil(t),ot(t.getUTCFullYear()%1e4,n,4)}function p6(){return"+0000"}function As(){return"%"}function ks(t){return+t}function Cs(t){return Math.floor(+t/1e3)}var Ie,Ac,fi;m6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function m6(t){return Ie=mw(t),Ac=Ie.format,Ie.parse,fi=Ie.utcFormat,Ie.utcParse,Ie}function g6(t){return new Date(t)}function b6(t){return t instanceof Date?+t:+new Date(+t)}function kc(t,n,e,r,i,o,a,f,c,s){var u=nh(),d=u.invert,l=u.domain,h=s(".%L"),p=s(":%S"),m=s("%I:%M"),g=s("%I %p"),y=s("%a %d"),b=s("%b %d"),v=s("%B"),_=s("%Y");function M(w){return(c(w)<w?h:f(w)<w?p:a(w)<w?m:o(w)<w?g:r(w)<w?i(w)<w?y:b:e(w)<w?v:_)(w)}return u.invert=function(w){return new Date(d(w))},u.domain=function(w){return arguments.length?l(Array.from(w,b6)):l().map(g6)},u.ticks=function(w){var x=l();return t(x[0],x[x.length-1],w??10)},u.tickFormat=function(w,x){return x==null?M:s(x)},u.nice=function(w){var x=l();return(!w||typeof w.range!="function")&&(w=n(x[0],x[x.length-1],w??10)),w?l(rh(x,w)):u},u.copy=function(){return Jr(u,kc(t,n,e,r,i,o,a,f,c,s))},u}function y6(){return _n.apply(kc(hw,pw,rn,oi,Ke,$e,ri,ni,tn,Ac).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _6(){return _n.apply(kc(dw,vh,on,ai,Qe,Xo,ii,ei,tn,fi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Go(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Zo(){var t=0,n=.5,e=1,r=1,i,o,a,f,c,s=jt,u,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+u(m))-o)*(r*m<r*o?f:c),s(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,n,e]=m,i=u(t=+t),o=u(n=+n),a=u(e=+e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,n,e]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(s=m,h):s};function p(m){return function(g){var y,b,v;return arguments.length?([y,b,v]=g,s=Oo(m,[y,b,v]),h):[s(0),s(.5),s(1)]}}return h.range=p(Kr),h.rangeRound=p(pc),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return u=m,i=m(t),o=m(n),a=m(e),f=i===o?0:.5/(o-i),c=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function Sh(){var t=ti(Zo()(jt));return t.copy=function(){return Go(t,Sh())},Ho.apply(t,arguments)}function Ah(){var t=ih(Zo()).domain([.1,1,10]);return t.copy=function(){return Go(t,Ah()).base(t.base())},Ho.apply(t,arguments)}function kh(){var t=ah(Zo());return t.copy=function(){return Go(t,kh()).constant(t.constant())},Ho.apply(t,arguments)}function Ch(){var t=ch(Zo());return t.copy=function(){return Go(t,Ch()).exponent(t.exponent())},Ho.apply(t,arguments)}function K(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(r*6,++r*6);return e}const w6=K("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),v6=K("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),x6=K("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),M6=K("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),$6=K("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),T6=K("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),S6=K("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),A6=K("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),k6=K("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),C6=K("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),E6=K("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ct=t=>wb(t[t.length-1]);var Eh=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(K);const Nh=ct(Eh);var Ih=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(K);const Lh=ct(Ih);var Dh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(K);const Rh=ct(Dh);var Fh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(K);const Ph=ct(Fh);var Of=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(K);const bo=ct(Of);var Oh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(K);const zh=ct(Oh);var zf=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(K);const yo=ct(zf);var Uh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(K);const qh=ct(Uh);var Bh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(K);const Yh=ct(Bh);var Hh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(K);const Wh=ct(Hh);var Vh=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(K);const Xh=ct(Vh);var jh=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(K);const Gh=ct(jh);var Zh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(K);const Kh=ct(Zh);var Qh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(K);const Jh=ct(Qh);var t0=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(K);const n0=ct(t0);var e0=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(K);const r0=ct(e0);var i0=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(K);const o0=ct(i0);var a0=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(K);const f0=ct(a0);var c0=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(K);const u0=ct(c0);var s0=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(K);const l0=ct(s0);var d0=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(K);const h0=ct(d0);var p0=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(K);const m0=ct(p0);var g0=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(K);const b0=ct(g0);var y0=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(K);const _0=ct(y0);var w0=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(K);const v0=ct(w0);var x0=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(K);const M0=ct(x0);var $0=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(K);const T0=ct($0);function S0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const A0=mc(gn(300,.5,0),gn(-240,.5,1));var k0=mc(gn(-100,.75,.35),gn(80,1.5,.8)),C0=mc(gn(260,.75,.35),gn(80,1.5,.8)),Ci=gn();function E0(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Ci.h=360*t-100,Ci.s=1.5-1.5*n,Ci.l=.8-.9*n,Ci+""}var Ei=Kn(),N6=Math.PI/3,I6=Math.PI*2/3;function N0(t){var n;return t=(.5-t)*Math.PI,Ei.r=255*(n=Math.sin(t))*n,Ei.g=255*(n=Math.sin(t+N6))*n,Ei.b=255*(n=Math.sin(t+I6))*n,Ei+""}function I0(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Ko(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}const L0=Ko(K("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var D0=Ko(K("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),R0=Ko(K("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),F0=Ko(K("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function bt(t){return function(){return t}}const P0=Math.cos,Cc=Math.min,_o=Math.sin,mt=Math.sqrt,Es=1e-12,wo=Math.PI,Qo=2*wo;function O0(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new yd(n)}function z0(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function U0(t){this._context=t}U0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function ci(t){return new U0(t)}function q0(t){return t[0]}function B0(t){return t[1]}function Y0(t,n){var e=bt(!0),r=null,i=ci,o=null,a=O0(f);t=typeof t=="function"?t:t===void 0?q0:bt(t),n=typeof n=="function"?n:n===void 0?B0:bt(n);function f(c){var s,u=(c=z0(c)).length,d,l=!1,h;for(r==null&&(o=i(h=a())),s=0;s<=u;++s)!(s<u&&e(d=c[s],s,c))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,s,c),+n(d,s,c));if(h)return o=null,h+""||null}return f.x=function(c){return arguments.length?(t=typeof c=="function"?c:bt(+c),f):t},f.y=function(c){return arguments.length?(n=typeof c=="function"?c:bt(+c),f):n},f.defined=function(c){return arguments.length?(e=typeof c=="function"?c:bt(!!c),f):e},f.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),f):i},f.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),f):r},f}function L6(t,n,e){var r=null,i=bt(!0),o=null,a=ci,f=null,c=O0(s);t=typeof t=="function"?t:t===void 0?q0:bt(+t),n=typeof n=="function"?n:bt(n===void 0?0:+n),e=typeof e=="function"?e:e===void 0?B0:bt(+e);function s(d){var l,h,p,m=(d=z0(d)).length,g,y=!1,b,v=new Array(m),_=new Array(m);for(o==null&&(f=a(b=c())),l=0;l<=m;++l){if(!(l<m&&i(g=d[l],l,d))===y)if(y=!y)h=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=l-1;p>=h;--p)f.point(v[p],_[p]);f.lineEnd(),f.areaEnd()}y&&(v[l]=+t(g,l,d),_[l]=+n(g,l,d),f.point(r?+r(g,l,d):v[l],e?+e(g,l,d):_[l]))}if(b)return f=null,b+""||null}function u(){return Y0().defined(i).curve(a).context(o)}return s.x=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),r=null,s):t},s.x0=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),s):t},s.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:bt(+d),s):r},s.y=function(d){return arguments.length?(n=typeof d=="function"?d:bt(+d),e=null,s):n},s.y0=function(d){return arguments.length?(n=typeof d=="function"?d:bt(+d),s):n},s.y1=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:bt(+d),s):e},s.lineX0=s.lineY0=function(){return u().x(t).y(n)},s.lineY1=function(){return u().x(t).y(e)},s.lineX1=function(){return u().x(r).y(n)},s.defined=function(d){return arguments.length?(i=typeof d=="function"?d:bt(!!d),s):i},s.curve=function(d){return arguments.length?(a=d,o!=null&&(f=a(o)),s):a},s.context=function(d){return arguments.length?(d==null?o=f=null:f=a(o=d),s):o},s}class H0{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function D6(t){return new H0(t,!0)}function R6(t){return new H0(t,!1)}const F6=mt(3),W0={draw(t,n){const e=mt(n+Cc(n/28,.75))*.59436,r=e/2,i=r*F6;t.moveTo(0,e),t.lineTo(0,-e),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},Br={draw(t,n){const e=mt(n/wo);t.moveTo(e,0),t.arc(0,0,e,0,Qo)}},V0={draw(t,n){const e=mt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},X0=mt(1/3),P6=X0*2,j0={draw(t,n){const e=mt(n/P6),r=e*X0;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},G0={draw(t,n){const e=mt(n)*.62625;t.moveTo(0,-e),t.lineTo(e,0),t.lineTo(0,e),t.lineTo(-e,0),t.closePath()}},Z0={draw(t,n){const e=mt(n-Cc(n/7,2))*.87559;t.moveTo(-e,0),t.lineTo(e,0),t.moveTo(0,e),t.lineTo(0,-e)}},K0={draw(t,n){const e=mt(n),r=-e/2;t.rect(r,r,e,e)}},Q0={draw(t,n){const e=mt(n)*.4431;t.moveTo(e,e),t.lineTo(e,-e),t.lineTo(-e,-e),t.lineTo(-e,e),t.closePath()}},O6=.8908130915292852,J0=_o(wo/10)/_o(7*wo/10),z6=_o(Qo/10)*J0,U6=-P0(Qo/10)*J0,t1={draw(t,n){const e=mt(n*O6),r=z6*e,i=U6*e;t.moveTo(0,-e),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Qo*o/5,f=P0(a),c=_o(a);t.lineTo(c*e,-f*e),t.lineTo(f*r-c*i,c*r+f*i)}t.closePath()}},Ra=mt(3),n1={draw(t,n){const e=-mt(n/(Ra*3));t.moveTo(0,e*2),t.lineTo(-Ra*e,-e),t.lineTo(Ra*e,-e),t.closePath()}},q6=mt(3),e1={draw(t,n){const e=mt(n)*.6824,r=e/2,i=e*q6/2;t.moveTo(0,-e),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Bt=-.5,Yt=mt(3)/2,Uf=1/mt(12),B6=(Uf/2+1)*3,r1={draw(t,n){const e=mt(n/B6),r=e/2,i=e*Uf,o=r,a=e*Uf+e,f=-o,c=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,c),t.lineTo(Bt*r-Yt*i,Yt*r+Bt*i),t.lineTo(Bt*o-Yt*a,Yt*o+Bt*a),t.lineTo(Bt*f-Yt*c,Yt*f+Bt*c),t.lineTo(Bt*r+Yt*i,Bt*i-Yt*r),t.lineTo(Bt*o+Yt*a,Bt*a-Yt*o),t.lineTo(Bt*f+Yt*c,Bt*c-Yt*f),t.closePath()}},i1={draw(t,n){const e=mt(n-Cc(n/6,1.7))*.6189;t.moveTo(-e,-e),t.lineTo(e,e),t.moveTo(-e,e),t.lineTo(e,-e)}},Y6=[Br,V0,j0,K0,t1,n1,r1],H6=[Br,Z0,i1,e1,W0,Q0,G0];function Qn(){}function vo(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Jo(t){this._context=t}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function W6(t){return new Jo(t)}function o1(t){this._context=t}o1.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:vo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function V6(t){return new o1(t)}function a1(t){this._context=t}a1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:vo(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function X6(t){return new a1(t)}function f1(t,n){this._basis=new Jo(t),this._beta=n}f1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r=t[0],i=n[0],o=t[e]-r,a=n[e]-i,f=-1,c;++f<=e;)c=f/e,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+c*o),this._beta*n[f]+(1-this._beta)*(i+c*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};const j6=function t(n){function e(r){return n===1?new Jo(r):new f1(r,n)}return e.beta=function(r){return t(+r)},e}(.85);function xo(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Ec(t,n){this._context=t,this._k=(1-n)/6}Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:xo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:xo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const G6=function t(n){function e(r){return new Ec(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Nc(t,n){this._context=t,this._k=(1-n)/6}Nc.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:xo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Z6=function t(n){function e(r){return new Nc(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Ic(t,n){this._context=t,this._k=(1-n)/6}Ic.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xo(this,t,n);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const K6=function t(n){function e(r){return new Ic(r,n)}return e.tension=function(r){return t(+r)},e}(0);function Lc(t,n,e){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Es){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>Es){var s=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*s+t._x1*t._l23_2a-n*t._l12_2a)/u,a=(a*s+t._y1*t._l23_2a-e*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function c1(t,n){this._context=t,this._alpha=n}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Lc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const Q6=function t(n){function e(r){return n?new c1(r,n):new Ec(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function u1(t,n){this._context=t,this._alpha=n}u1.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Lc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const J6=function t(n){function e(r){return n?new u1(r,n):new Nc(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function s1(t,n){this._context=t,this._alpha=n}s1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Lc(this,t,n);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};const tv=function t(n){function e(r){return n?new s1(r,n):new Ic(r,0)}return e.alpha=function(r){return t(+r)},e}(.5);function l1(t){this._context=t}l1.prototype={areaStart:Qn,areaEnd:Qn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function nv(t){return new l1(t)}function Ns(t){return t<0?-1:1}function Is(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(e-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(Ns(o)+Ns(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function Ls(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Fa(t,n,e){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*n,o-f,a-f*e,o,a)}function Mo(t){this._context=t}Mo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Fa(this,this._t0,Ls(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Fa(this,Ls(this,e=Is(this,t,n)),e);break;default:Fa(this,this._t0,e=Is(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}};function d1(t){this._context=new h1(t)}(d1.prototype=Object.create(Mo.prototype)).point=function(t,n){Mo.prototype.point.call(this,n,t)};function h1(t){this._context=t}h1.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}};function ev(t){return new Mo(t)}function rv(t){return new d1(t)}function p1(t){this._context=t}p1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),e===2)this._context.lineTo(t[1],n[1]);else for(var r=Ds(t),i=Ds(n),o=0,a=1;a<e;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],n[a]);(this._line||this._line!==0&&e===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function Ds(t){var n,e=t.length-1,r,i=new Array(e),o=new Array(e),a=new Array(e);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],n=1;n<e-1;++n)i[n]=1,o[n]=4,a[n]=4*t[n]+2*t[n+1];for(i[e-1]=2,o[e-1]=7,a[e-1]=8*t[e-1]+t[e],n=1;n<e;++n)r=i[n]/o[n-1],o[n]-=r,a[n]-=r*a[n-1];for(i[e-1]=a[e-1]/o[e-1],n=e-2;n>=0;--n)i[n]=(a[n]-i[n+1])/o[n];for(o[e-1]=(t[e]+i[e-1])/2,n=0;n<e-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function iv(t){return new p1(t)}function ta(t,n){this._context=t,this._t=n}ta.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}break}}this._x=t,this._y=n}};function ov(t){return new ta(t,.5)}function av(t){return new ta(t,0)}function fv(t){return new ta(t,1)}function Ar(t,n,e){this.k=t,this.x=n,this.y=e}Ar.prototype={constructor:Ar,scale:function(t){return t===1?this:new Ar(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new Ar(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Ar.prototype;function Jn(t){return t!=null&&!Number.isNaN(t)}function an(t,n){return+Jn(n)-+Jn(t)||Lt(t,n)}function $o(t,n){return+Jn(n)-+Jn(t)||jr(t,n)}function Dc(t){return t!=null&&`${t}`!=""}function m1(t){return isFinite(t)?t:NaN}function na(t){return t>0&&isFinite(t)?t:NaN}function Rc(t){return t<0&&isFinite(t)?t:NaN}function cv(t,n){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof n=="function"?n(t):n;const e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${uv(t.getUTCFullYear())}-${kn(t.getUTCMonth()+1,2)}-${kn(t.getUTCDate(),2)}${e||r||i||o?`T${kn(e,2)}:${kn(r,2)}${i||o?`:${kn(i,2)}${o?`.${kn(o,3)}`:""}`:""}Z`:""}`}function uv(t){return t<0?`-${kn(-t,6)}`:t>9999?`+${kn(t,6)}`:kn(t,4)}function kn(t,n){return`${t}`.padStart(n,"0")}const sv=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function g1(t,n){return sv.test(t+="")?new Date(t):typeof n=="function"?n(t):n}function Je(t){if(t==null)return;const n=t[0],e=t[t.length-1];return jr(n,e)}const Fe=1e3,Xn=Fe*60,jn=Xn*60,bn=jn*24,sn=bn*7,pe=bn*30,Vn=bn*365,Pa=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Fe],["5 seconds",5*Fe],["15 seconds",15*Fe],["30 seconds",30*Fe],["minute",Xn],["5 minutes",5*Xn],["15 minutes",15*Xn],["30 minutes",30*Xn],["hour",jn],["3 hours",3*jn],["6 hours",6*jn],["12 hours",12*jn],["day",bn],["2 days",2*bn],["week",sn],["2 weeks",2*sn],["month",pe],["3 months",3*pe],["6 months",6*pe],["year",Vn],["2 years",2*Vn],["5 years",5*Vn],["10 years",10*Vn],["20 years",20*Vn],["50 years",50*Vn],["100 years",100*Vn]],Fc=new Map([["second",Fe],["minute",Xn],["hour",jn],["day",bn],["monday",sn],["tuesday",sn],["wednesday",sn],["thursday",sn],["friday",sn],["saturday",sn],["sunday",sn],["week",sn],["month",pe],["year",Vn]]),b1=new Map([["second",tn],["minute",ni],["hour",ri],["day",$e],["monday",Ur],["tuesday",dh],["wednesday",hh],["thursday",xe],["friday",ph],["saturday",mh],["sunday",Ke],["week",Ke],["month",oi],["year",rn]]),Pc=new Map([["second",tn],["minute",ei],["hour",ii],["day",jo],["monday",qr],["tuesday",gh],["wednesday",bh],["thursday",Me],["friday",yh],["saturday",_h],["sunday",Qe],["week",Qe],["month",ai],["year",on]]),ui=Symbol("intervalDuration"),ea=Symbol("intervalType");for(const[t,n]of b1)n[ui]=Fc.get(t),n[ea]="time";for(const[t,n]of Pc)n[ui]=Fc.get(t),n[ea]="utc";const kr=[["year",on,"utc"],["month",ai,"utc"],["day",jo,"utc",6*pe],["hour",ii,"utc",3*bn],["minute",ei,"utc",6*jn],["second",tn,"utc",30*Xn]],Yi=[["year",rn,"time"],["month",oi,"time"],["day",$e,"time",6*pe],["hour",ri,"time",3*bn],["minute",ni,"time",6*jn],["second",tn,"time",30*Xn]],lv=[kr[0],Yi[0],kr[1],Yi[1],kr[2],Yi[2],...kr.slice(3)];function y1(t){let n=`${t}`.toLowerCase();n.endsWith("s")&&(n=n.slice(0,-1));let e=1;const r=/^(?:(\d+)\s+)/.exec(n);switch(r&&(n=n.slice(r[0].length),e=+r[1]),n){case"quarter":n="month",e*=3;break;case"half":n="month",e*=6;break}let i=Pc.get(n);if(!i)throw new Error(`unknown interval: ${t}`);if(e>1&&!i.every)throw new Error(`non-periodic interval: ${n}`);return[n,e]}function _1(t){return w1(y1(t),"time")}function Oc(t){return w1(y1(t),"utc")}function w1([t,n],e){let r=(e==="time"?b1:Pc).get(t);return n>1&&(r=r.every(n),r[ui]=Fc.get(t)*n,r[ea]=e),r}function Rs(t,n){if(!(n>1))return;const e=t[ui];if(!Pa.some(([,i])=>i===e)||e%bn===0&&bn<e&&e<pe)return;const[r]=Pa[Eo(([,i])=>Math.log(i)).center(Pa,Math.log(e*n))];return(t[ea]==="time"?_1:Oc)(r)}function Fs(t,n,e){const r=n==="time"?Ac:fi;if(e==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=dv(e);switch(t){case"millisecond":return Le(r(".%L"),r(":%M:%S"),i);case"second":return Le(r(":%S"),r("%-I:%M"),i);case"minute":return Le(r("%-I:%M"),r("%p"),i);case"hour":return Le(r("%-I %p"),r("%b %-d"),i);case"day":return Le(r("%-d"),r("%b"),i);case"month":return Le(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function dv(t){return t==="left"||t==="right"?(n,e)=>`
${n}
${e}`:t==="top"?(n,e)=>`${e}
${n}`:(n,e)=>`${n}
${e}`}function hv(t){return t==="time"?Yi:t==="utc"?kr:lv}function pv(t,n,e){const r=nn(ug(n,(i,o)=>Math.abs(o-i)));if(r<1e3)return Fs("millisecond","utc",e);for(const[i,o,a,f]of hv(t)){if(r>f||i==="hour"&&!r)break;if(n.every(c=>o.floor(c)>=c))return Fs(i,a,e)}}function Le(t,n,e){return(r,i,o)=>{const a=t(r,i),f=n(r,i),c=i-Je(o);return i!==c&&o[c]!==void 0&&f===n(o[c],c)?a:e(a,f)}}const zc=Object.getPrototypeOf(Uint8Array),mv=Object.prototype.toString;function Ae(t){return t instanceof Array||t instanceof zc}function v1(t){return t instanceof zc&&!gv(t)}function x1(t){return(t==null?void 0:t.prototype)instanceof zc&&!bv(t)}function gv(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function bv(t){return t===BigInt64Array||t===BigUint64Array}const M1=Symbol("reindex");function _t(t,n,e){const r=typeof n;return r==="string"?R1(t)?Uc(t.getChild(n),e):Ps(t,$1(n),e):r==="function"?Ps(t,n,e):r==="number"||n instanceof Date||r==="boolean"?ht(t,Ln(n),e):typeof(n==null?void 0:n.transform)=="function"?qf(n.transform(t),e):yv(qf(n,e),t==null?void 0:t[M1])}function yv(t,n){return t!=null&&n?Yc(t,n):t}function Ps(t,n,e){return ht(t,x1(e)?(r,i)=>qc(n(r,i)):n,e)}function qf(t,n){return n===void 0?te(t):F1(t)?Uc(t,n):t instanceof n?t:n.from(t,x1(n)&&!v1(t)?qc:void 0)}function Uc(t,n){return t==null?t:(n===void 0||n===Array)&&Ov(t.type)?A1(t.toArray()):qf(t.toArray(),n)}const Hi=[null],$1=t=>n=>{var r;const e=n[t];return e===void 0&&n.type==="Feature"?(r=n.properties)==null?void 0:r[t]:e},T1={transform:Un},zt={transform:t=>t},_v=()=>1,wv=()=>!0,Et=t=>t==null?t:`${t}`,kt=t=>t==null?t:+t,S1=t=>t?t[0]:void 0,Bf=t=>t?t[1]:void 0,Ln=t=>()=>t;function vv(t){const n=+`${t}`.slice(1)/100;return(e,r)=>Ye(e,n,r)}function tr(t){return v1(t)?t:ht(t,qc,Float64Array)}function qc(t){return t==null?NaN:Number(t)}function A1(t){return ht(t,k1)}function k1(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?g1(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function zn(t,n){return t===void 0&&(t=n),t===null?[void 0,"none"]:oa(t)?[void 0,t]:[t,void 0]}function Nt(t,n){return t===void 0&&(t=n),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function C1(t,n,e){if(t!=null)return cn(t,n,e)}function cn(t,n,e){const r=`${t}`.toLowerCase();if(!e.includes(r))throw new Error(`invalid ${n}: ${t}`);return r}function nr(t){return R1(t)?t:te(t)}function te(t){if(t==null||Ae(t))return t;if(F1(t))return Uc(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function ht(t,n,e=Array){return t==null?t:t instanceof e?t.map(n):e.from(t,n)}function Yr(t,n=Array){return t instanceof n?t.slice():n.from(t)}function xv({y:t,y1:n,y2:e}){return t!==void 0||n!==void 0||e!==void 0}function re(t){return(t==null?void 0:t.toString)===mv}function Yf(t){return re(t)&&(t.type!==void 0||t.domain!==void 0)}function ra(t){return re(t)&&typeof t.transform!="function"}function er(t){return ra(t)&&t.value===void 0&&t.channel===void 0}function Mv(t,n,e,r=zt){return n===void 0&&e===void 0?(n=0,e=t===void 0?r:t):n===void 0?n=t===void 0?0:t:e===void 0&&(e=t===void 0?0:t),[n,e]}function ia(t,n){return t===void 0&&n===void 0?[S1,Bf]:[t,n]}function Bc({z:t,fill:n,stroke:e}={}){return t===void 0&&([t]=zn(n)),t===void 0&&([t]=zn(e)),t}function Hr(t){return Ae(t)?t.length:t==null?void 0:t.numRows}function Un(t){const n=Hr(t),e=new Uint32Array(n);for(let r=0;r<n;++r)e[r]=r;return e}function Yc(t,n){return Ae(t)?ht(n,e=>t[e],t.constructor):ht(n,e=>t.at(e))}function $v(t,n,e){return t.subarray?t.subarray(n,e):t.slice(n,e)}function Dn(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Tv(t,n){if(n[t]!==void 0)return n[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return n[t]}function To(t){let n;return[{transform:()=>n,label:ke(t)},e=>n=e]}function Sn(t){return t==null?[t]:To(t)}function ke(t,n){return typeof t=="string"?t:t&&t.label!==void 0?t.label:n}function Hf(t,n){return{transform(e){const r=t.transform(e),i=n.transform(e);return Rt(r)||Rt(i)?ht(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):ht(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function E1(t,n){const e=N1(n==null?void 0:n.interval,n==null?void 0:n.type);return e?ht(t,e):t}function N1(t,n){const e=Hc(t,n);return e&&(r=>Jn(r)?e.floor(r):r)}function Hc(t,n){if(t!=null){if(typeof t=="number")return Sv(t);if(typeof t=="string")return(n==="time"?_1:Oc)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function Sv(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const n=Math.abs(t);return t<0?{floor:e=>Math.floor(e*n)/n,offset:(e,r=1)=>(e*n+Math.floor(r))/n,range:(e,r)=>ff(Math.ceil(e*n),r*n).map(i=>i/n)}:{floor:e=>Math.floor(e/n)*n,offset:(e,r=1)=>e+n*Math.floor(r),range:(e,r)=>ff(Math.ceil(e/n),r/n).map(i=>i*n)}}function ur(t,n){if(t=Hc(t,n),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function Av(t,n){if(t=ur(t,n),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function kv(t){return Pe(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function Pe(t){return typeof(t==null?void 0:t.range)=="function"}function si(t){return t===void 0||ra(t)?t:{value:t}}function Cv(t){return t==null?null:{transform:n=>_t(n,t,Float64Array),label:ke(t)}}function ie(t){return t&&typeof t[Symbol.iterator]=="function"}function I1(t){for(const n of t)if(n!=null)return typeof n!="object"||n instanceof Date}function Os(t){for(const n of t){if(n==null)continue;const e=typeof n;return e==="string"||e==="boolean"}}function Rt(t){for(const n of t)if(n!=null)return n instanceof Date}function Ev(t){for(const n of t)if(n!=null)return typeof n=="string"&&isNaN(n)&&g1(n)}function Nv(t){for(const n of t)if(n!=null){if(typeof n!="string")return!1;if(n.trim())return!isNaN(n)}}function Iv(t){for(const n of t)if(n!=null)return typeof n=="number"}function Oa(t,n){let e;for(const r of t)if(r!=null){if(!n(r))return!1;e=!0}return e}const Lv=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function oa(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||Lv.has(t))}function Dv(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function It(t){return t==null||Wr(t)}function Wr(t){return/^\s*none\s*$/i.test(t)}function Rv(t){return/^\s*round\s*$/i.test(t)}function Wf(t,n){return C1(t,n,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function aa(t="middle"){return Wf(t,"frameAnchor")}function Fv(t={},...n){let e=t;for(const r of n)for(const i in r)if(e[i]===void 0){const o=r[i];e===t?e={...e,[i]:o}:e[i]=o}return e}function Pv(t){console.warn("named iterables are deprecated; please use an object instead");const n=new Set;return Object.fromEntries(Array.from(t,e=>{const{name:r}=e;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(n.has(i))throw new Error(`duplicate name: ${i}`);return n.add(i),[r,e]}))}function L1(t){return ie(t)?Pv(t):t}function D1(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=cn(t,"clip",["frame","sphere"])),t}function R1(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function F1(t){return t&&typeof t.toArray=="function"&&t.type}function Ov(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const hn=Symbol("position"),qn=Symbol("color"),li=Symbol("radius"),di=Symbol("length"),hi=Symbol("opacity"),fa=Symbol("symbol"),P1=Symbol("projection"),dt=new Map([["x",hn],["y",hn],["fx",hn],["fy",hn],["r",li],["color",qn],["opacity",hi],["symbol",fa],["length",di],["projection",P1]]);function zv(t){return t===hn||t===P1}function Uv(t){return t===hn||t===li||t===di||t===hi}const qv=Math.sqrt(3),Bv=2/qv,Yv={draw(t,n){const e=Math.sqrt(n/Math.PI),r=e*Bv,i=r/2;t.moveTo(0,r),t.lineTo(e,i),t.lineTo(e,-i),t.lineTo(0,-r),t.lineTo(-e,-i),t.lineTo(-e,i),t.closePath()}},Wc=new Map([["asterisk",W0],["circle",Br],["cross",V0],["diamond",j0],["diamond2",G0],["hexagon",Yv],["plus",Z0],["square",K0],["square2",Q0],["star",t1],["times",i1],["triangle",n1],["triangle2",e1],["wye",r1]]);function Vc(t){return t&&typeof t.draw=="function"}function Hv(t){return Vc(t)?!0:typeof t!="string"?!1:Wc.has(t.toLowerCase())}function Xc(t){if(t==null||Vc(t))return t;const n=Wc.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid symbol: ${t}`)}function Wv(t){if(t==null||Vc(t))return[void 0,t];if(typeof t=="string"){const n=Wc.get(`${t}`.toLowerCase());if(n)return[void 0,n]}return[t,void 0]}function ca({filter:t,sort:n,reverse:e,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=O1(t)),n!=null&&!er(n)&&(r=za(r,jc(n))),e&&(r=za(r,z1))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(n===null||er(n))&&{sort:n},transform:za(r,a)}}function rr({filter:t,sort:n,reverse:e,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=O1(t)),n!=null&&!er(n)&&(r=Ua(r,jc(n))),e&&(r=Ua(r,z1))),{...i,...(n===null||er(n))&&{sort:n},initializer:Ua(r,o)}}function za(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i){return{data:e,facets:r}=t.call(this,e,r,i),n.call(this,nr(e),r,i)}}function Ua(t,n){return t==null?n===null?void 0:n:n==null?t===null?void 0:t:function(e,r,i,...o){let a,f,c,s,u,d;return{data:f=e,facets:c=r,channels:a}=t.call(this,e,r,i,...o),{data:u=f,facets:d=c,channels:s}=n.call(this,f,c,{...i,...a},...o),{data:u,facets:d,channels:{...a,...s}}}}function Vv(t,n){return(t.initializer!=null?rr:ca)(t,n)}function O1(t){return(n,e)=>{const r=_t(n,t);return{data:n,facets:e.map(i=>i.filter(o=>r[o]))}}}function z1(t,n){return{data:t,facets:n.map(e=>e.slice().reverse())}}function Xv(t,{sort:n,...e}={}){return{...(ra(t)&&t.channel!==void 0?rr:Vv)(e,jc(t)),sort:er(n)?n:null}}function jc(t){return(typeof t=="function"&&t.length!==1?jv:Gv)(t)}function jv(t){return(n,e)=>{const r=Ae(n)?(i,o)=>t(n[i],n[o]):(i,o)=>t(n.get(i),n.get(o));return{data:n,facets:e.map(i=>i.slice().sort(r))}}}function Gv(t){let n,e;({channel:n,value:t,order:e}={...si(t)});const r=n==null?void 0:n.startsWith("-");if(r&&(n=n.slice(1)),e===void 0&&(e=r?$o:an),typeof e!="function")switch(`${e}`.toLowerCase()){case"ascending":e=an;break;case"descending":e=$o;break;default:throw new Error(`invalid order: ${e}`)}return(i,o,a)=>{let f;if(n===void 0)f=_t(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[n],!f)return{};f=f.value}const c=(s,u)=>e(f[s],f[u]);return{data:i,facets:o.map(s=>s.slice().sort(c))}}}function qa(t,...n){for(const{name:e}of t)if(n.includes(e))return!0;return!1}function Zv(t,n,e=U1){const r=Object.entries(t);return n.title!=null&&t.title===void 0&&r.push(["title",r3]),n.href!=null&&t.href===void 0&&r.push(["href",Zc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?Kv(i):e(i,o,n))}function U1(t,n,e,r=q1){let i;re(n)&&"reduce"in n&&(i=n.scale,n=n.reduce);const o=r(t,n,e),[a,f]=To(o.label);let c;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(s){o.initialize(s),c=f([])},scope(s,u){o.scope(s,u)},reduce(s,u){c.push(o.reduce(s,u))}}}function Kv(t){return{name:t,initialize(){},scope(){},reduce(){}}}function q1(t,n,e,r=Gc){const i=Tv(t,e),o=r(n,i);let a,f;return{label:ke(o===So?null:i,o.label),initialize(c){a=i===void 0?c:_t(c,i),o.scope==="data"&&(f=o.reduceIndex(Un(c),a))},scope(c,s){o.scope===c&&(f=o.reduceIndex(s,a))},reduce(c,s){return o.scope==null?o.reduceIndex(c,a,s):o.reduceIndex(c,a,f,s)}}}function zs(t,n){return n?Lo(t,e=>n[e]):[[,t]]}function Gc(t,n,e=Qv){if(t==null)return e(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&re(t))return n3(t);if(typeof t=="function")return e3(t);if(/^p\d{2}$/i.test(t))return An(vv(t));switch(`${t}`.toLowerCase()){case"first":return Zc;case"last":return i3;case"identity":return B1;case"count":return So;case"distinct":return o3;case"sum":return n==null?So:a3;case"proportion":return qs(n,"data");case"proportion-facet":return qs(n,"facet");case"deviation":return An(Al);case"min":return An(Rn);case"min-index":return An(rg);case"max":return An(nn);case"max-index":return An(eg);case"mean":return Us(ag);case"median":return Us(af);case"variance":return An(Sl);case"mode":return An(cg)}return e(t)}function Qv(t){throw new Error(`invalid reduce: ${t}`)}function Jv(t,n){for(const e in n){const r=n[e];if(r!==void 0&&!t.some(i=>i.name===e))return r}}function t3(t,n,e){if(n){const r=n.output.transform(),i=(o,a)=>an(r[o],r[a]);t.forEach(o=>o.sort(i))}e&&t.forEach(r=>r.reverse())}function n3(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function e3(t){return{reduceIndex(n,e,r){return t(Yc(e,n),r)}}}function An(t){return{reduceIndex(n,e){return t(n,r=>e[r])}}}function Us(t){return{reduceIndex(n,e){const r=t(n,i=>e[i]);return Rt(e)?new Date(r):r}}}const B1={reduceIndex(t,n){return Yc(n,t)}},Zc={reduceIndex(t,n){return n[t[0]]}},r3={reduceIndex(t,n){const r=Wi(Oe(t,o=>o.length,o=>n[o]),Bf),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,Zn(o,Bf)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},i3={reduceIndex(t,n){return n[t[t.length-1]]}},So={label:"Frequency",reduceIndex(t){return t.length}},o3={label:"Distinct",reduceIndex(t,n){const e=new Io;for(const r of t)e.add(n[r]);return e.size}},a3=An(Zn);function qs(t,n){return t==null?{scope:n,label:"Frequency",reduceIndex:(e,r,i=1)=>e.length/i}:{scope:n,reduceIndex:(e,r,i=1)=>Zn(e,o=>r[o])/i}}const f3={reduceIndex(t,n,{z:e}){return e}};function Vr(t,{scale:n,type:e,value:r,filter:i,hint:o,label:a=ke(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),Y1(f,{scale:n,type:e,value:_t(t,r),label:a,filter:i,hint:o})}function c3(t,n){return Object.fromEntries(Object.entries(t).map(([e,r])=>[e,Vr(n,r,e)]))}function u3(t,n){const e=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:n[i];return[r,a==null?o:ht(o,a)]}));return e.channels=t,e}function Y1(t,n){const{scale:e,value:r}=n;if(e===!0||e==="auto")switch(t){case"fill":case"stroke":case"color":n.scale=e!==!0&&Oa(r,oa)?null:"color",n.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":n.scale=e!==!0&&Oa(r,Dv)?null:"opacity",n.defaultScale="opacity";break;case"symbol":e!==!0&&Oa(r,Hv)?(n.scale=null,n.value=ht(r,Xc)):n.scale="symbol",n.defaultScale="symbol";break;default:n.scale=dt.has(t)?t:null;break}else if(e===!1)n.scale=null;else if(e!=null&&!dt.has(e))throw new Error(`unknown scale: ${e}`);return n}function s3(t,n,e,r,i){const{order:o,reverse:a,reduce:f=!0,limit:c}=i;for(const s in i){if(!dt.has(s))continue;let{value:u,order:d=o,reverse:l=a,reduce:h=f,limit:p=c}=si(i[s]);const m=u==null?void 0:u.startsWith("-");if(m&&(u=u.slice(1)),d=d===void 0?m!==(u==="width"||u==="height")?W1:H1:h3(d),h==null||h===!1)continue;const g=s==="fx"||s==="fy"?d3(n,r[s]):l3(e,s);if(!g)throw new Error(`missing channel for scale: ${s}`);const y=g.value,[b=0,v=1/0]=ie(p)?p:p<0?[p]:[0,p];if(u==null)g.domain=()=>{let _=Array.from(new Io(y));return l&&(_=_.reverse()),(b!==0||v!==1/0)&&(_=_.slice(b,v)),_};else{const _=u==="data"?t:u==="height"?Bs(e,"y1","y2"):u==="width"?Bs(e,"x1","x2"):Vf(e,u,u==="y"?"y2":u==="x"?"x2":void 0),M=Gc(h===!0?"max":h,_);g.domain=()=>{let w=Zm(Un(y),x=>M.reduceIndex(x,_),x=>y[x]);return d&&w.sort(d),l&&w.reverse(),(b!==0||v!==1/0)&&(w=w.slice(b,v)),w.map(S1)}}}}function l3(t,n){for(const e in t){const r=t[e];if(r.scale===n)return r}}function d3(t,n){const e=t.original;if(e===t)return n;const r=n.value,i=n.value=[];for(let o=0;o<e.length;++o){const a=r[e[o][0]];for(const f of t[o])i[f]=a}return n}function Bs(t,n,e){const r=Vf(t,n),i=Vf(t,e);return ht(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Vf(t,n,e){let r=t[n];if(!r&&e!==void 0&&(r=t[e]),r)return r.value;throw new Error(`missing channel: ${n}`)}function h3(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return H1;case"descending":return W1}throw new Error(`invalid order: ${t}`)}function H1([t,n],[e,r]){return an(n,r)||an(t,e)}function W1([t,n],[e,r]){return $o(n,r)||an(t,e)}function Ys(t,n){let e=t[n];if(e){for(;e.source;)e=e.source;return e.source===null?null:e}}const V1=new Map([["accent",v6],["category10",w6],["dark2",x6],["observable10",M6],["paired",$6],["pastel1",T6],["pastel2",S6],["set1",A6],["set2",k6],["set3",C6],["tableau10",E6]]);function p3(t){return t!=null&&V1.has(`${t}`.toLowerCase())}const Hs=new Map([...V1,["brbg",Mn(Eh,Nh)],["prgn",Mn(Ih,Lh)],["piyg",Mn(Dh,Rh)],["puor",Mn(Fh,Ph)],["rdbu",Mn(Of,bo)],["rdgy",Mn(Oh,zh)],["rdylbu",Mn(zf,yo)],["rdylgn",Mn(Uh,qh)],["spectral",Mn(Bh,Yh)],["burd",Ws(Of,bo)],["buylrd",Ws(zf,yo)],["blues",gt(p0,m0)],["greens",gt(g0,b0)],["greys",gt(y0,_0)],["oranges",gt($0,T0)],["purples",gt(w0,v0)],["reds",gt(x0,M0)],["turbo",$n(I0)],["viridis",$n(L0)],["magma",$n(D0)],["inferno",$n(R0)],["plasma",$n(F0)],["cividis",$n(S0)],["cubehelix",$n(A0)],["warm",$n(k0)],["cool",$n(C0)],["bugn",gt(Hh,Wh)],["bupu",gt(Vh,Xh)],["gnbu",gt(jh,Gh)],["orrd",gt(Zh,Kh)],["pubu",gt(t0,n0)],["pubugn",gt(Qh,Jh)],["purd",gt(e0,r0)],["rdpu",gt(i0,o0)],["ylgn",gt(c0,u0)],["ylgnbu",gt(a0,f0)],["ylorbr",gt(s0,l0)],["ylorrd",gt(d0,h0)],["rainbow",Vs(E0)],["sinebow",Vs(N0)]]);function gt(t,n){return({length:e})=>e===1?[t[3][1]]:e===2?[t[3][1],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>9?en(n,e):t[e])}function Mn(t,n){return({length:e})=>e===2?[t[3][0],t[3][2]]:(e=Math.max(3,Math.floor(e)),e>11?en(n,e):t[e])}function Ws(t,n){return({length:e})=>e===2?[t[3][2],t[3][0]]:(e=Math.max(3,Math.floor(e)),e>11?en(r=>n(1-r),e):t[e].slice().reverse())}function $n(t){return({length:n})=>en(t,Math.max(2,Math.floor(n)))}function Vs(t){return({length:n})=>en(t,Math.floor(n)+1).slice(0,-1)}function X1(t){const n=`${t}`.toLowerCase();if(!Hs.has(n))throw new Error(`unknown ordinal scheme: ${n}`);return Hs.get(n)}function ua(t,n){const e=X1(t),r=typeof e=="function"?e({length:n}):e;return r.length!==n?r.slice(0,n):r}function m3(t,n="greys"){const e=new Set,[r,i]=ua(n,2);for(const o of t)if(o!=null)if(o===!0)e.add(i);else if(o===!1)e.add(r);else return;return[...e]}const Xs=new Map([["brbg",Nh],["prgn",Lh],["piyg",Rh],["puor",Ph],["rdbu",bo],["rdgy",zh],["rdylbu",yo],["rdylgn",qh],["spectral",Yh],["burd",t=>bo(1-t)],["buylrd",t=>yo(1-t)],["blues",m0],["greens",b0],["greys",_0],["purples",v0],["reds",M0],["oranges",T0],["turbo",I0],["viridis",L0],["magma",D0],["inferno",R0],["plasma",F0],["cividis",S0],["cubehelix",A0],["warm",k0],["cool",C0],["bugn",Wh],["bupu",Xh],["gnbu",Gh],["orrd",Kh],["pubugn",Jh],["pubu",n0],["purd",r0],["rdpu",o0],["ylgnbu",f0],["ylgn",u0],["ylorbr",l0],["ylorrd",h0],["rainbow",E0],["sinebow",N0]]);function Kc(t){const n=`${t}`.toLowerCase();if(!Xs.has(n))throw new Error(`unknown quantitative scheme: ${n}`);return Xs.get(n)}const g3=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function b3(t){return t!=null&&g3.has(`${t}`.toLowerCase())}const j1=t=>n=>t(1-n),Ba=[0,1],js=new Map([["number",St],["rgb",_e],["hsl",Lb],["hcl",Fb],["lab",Db]]);function G1(t){const n=`${t}`.toLowerCase();if(!js.has(n))throw new Error(`unknown interpolator: ${n}`);return js.get(n)}function pi(t,n,e,{type:r,nice:i,clamp:o,zero:a,domain:f=K1(t,e),unknown:c,round:s,scheme:u,interval:d,range:l=dt.get(t)===li?k3(e,f):dt.get(t)===di?C3(e,f):dt.get(t)===hi?Ba:void 0,interpolate:h=dt.get(t)===qn?u==null&&l!==void 0?_e:Kc(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):s?pc:St,reverse:p}){if(d=ur(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=G1(h)),p=!!p,l!==void 0){const m=(f=te(f)).length,g=(l=te(l)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Oo(h,l),l=void 0}}if(h.length===1?(p&&(h=j1(h),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=Ba)),n.interpolate((l===Ba?Ln:Jc)(h))):n.interpolate(h),a){const[m,g]=Wt(f);(m>0||g<0)&&(f=Yr(f),(Je(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=Gi(f)),n.domain(f).unknown(c),i&&(n.nice(y3(i,r)),f=n.domain()),l!==void 0&&n.range(l),o&&n.clamp(o),{type:r,domain:f,range:l,scale:n,interpolate:h,interval:d}}function y3(t,n){return t===!0?void 0:typeof t=="number"?t:Av(t,n)}function _3(t,n,e){return pi(t,Tc(),n,e)}function w3(t,n,e){return Z1(t,n,{...e,exponent:.5})}function Z1(t,n,{exponent:e=1,...r}){return pi(t,uh().exponent(e),n,{...r,type:"pow"})}function v3(t,n,{base:e=10,domain:r=E3(n),...i}){return pi(t,oh().base(e),n,{...i,domain:r})}function x3(t,n,{constant:e=1,...r}){return pi(t,fh().constant(e),n,r)}function M3(t,n,{range:e,quantiles:r=e===void 0?5:(e=[...e]).length,n:i=r,scheme:o="rdylbu",domain:a=N3(n),unknown:f,interpolate:c,reverse:s}){return e===void 0&&(e=c!==void 0?en(c,i):dt.get(t)===qn?ua(o,i):void 0),a.length>0&&(a=sh(a,e===void 0?{length:i}:e).quantiles()),Qc(t,n,{domain:a,range:e,reverse:s,unknown:f})}function $3(t,n,{range:e,n:r=e===void 0?5:(e=[...e]).length,scheme:i="rdylbu",domain:o=K1(t,n),unknown:a,interpolate:f,reverse:c}){const[s,u]=Wt(o);let d;return e===void 0?(d=Lr(s,u,r),d[0]<=s&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,e=f!==void 0?en(f,r):dt.get(t)===qn?ua(i,r):void 0):(d=en(St(s,u),r+1).slice(1,-1),s instanceof Date&&(d=d.map(l=>new Date(l)))),Je(te(o))<0&&d.reverse(),Qc(t,n,{domain:d,range:e,reverse:c,unknown:a})}function Qc(t,n,{domain:e=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?en(o,e.length+1):dt.get(t)===qn?ua(i,e.length+1):void 0,reverse:f}){e=te(e);const c=Je(e);if(!isNaN(c)&&!T3(e,c))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=Gi(a)),{type:"threshold",scale:lh(c<0?Gi(e):e,a===void 0?[]:a).unknown(r),domain:e,range:a}}function T3(t,n){for(let e=1,r=t.length,i=t[0];e<r;++e){const o=jr(i,i=t[e]);if(o!==0&&o!==n)return!1}return!0}function S3(t){return{type:"identity",scale:Uv(dt.get(t))?eh():n=>n}}function Xr(t,n=m1){return t.length?[Rn(t,({value:e})=>e===void 0?e:Rn(e,n)),nn(t,({value:e})=>e===void 0?e:nn(e,n))]:[0,1]}function K1(t,n){const e=dt.get(t);return(e===li||e===hi||e===di?A3:Xr)(n)}function A3(t){return[0,t.length?nn(t,({value:n})=>n===void 0?n:nn(n,m1)):1]}function k3(t,n){const e=t.find(({radius:a})=>a!==void 0);if(e!==void 0)return[0,e.radius];const r=Ye(t,.5,({value:a})=>a===void 0?NaN:Ye(a,.25,na)),i=n.map(a=>3*Math.sqrt(a/r)),o=30/nn(i);return o<1?i.map(a=>a*o):i}function C3(t,n){const e=af(t,({value:o})=>o===void 0?NaN:af(o,Math.abs)),r=n.map(o=>12*o/e),i=60/nn(r);return i<1?r.map(o=>o*i):r}function E3(t){for(const{value:n}of t)if(n!==void 0)for(let e of n){if(e>0)return Xr(t,na);if(e<0)return Xr(t,Rc)}return[1,10]}function N3(t){const n=[];for(const{value:e}of t)if(e!==void 0)for(const r of e)n.push(r);return n}function Jc(t){return(n,e)=>r=>t(n+r*(e-n))}let Xf=0,jf;function I3(){const t=Xf;return Xf=0,jf=void 0,t}function Gn(t){t!==jf&&(jf=t,console.warn(t),++Xf)}function sa(t,n,e,r,{type:i,nice:o,clamp:a,domain:f=Xr(r),unknown:c,pivot:s=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=dt.get(t)===qn?u==null&&d!==void 0?_e:Kc(u!==void 0?u:"rdbu"):St,reverse:p}){s=+s,f=te(f);let[m,g]=f;if(f.length>2&&Gn(`Warning: the diverging ${t} scale domain contains extra elements.`),jr(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,s),g=Math.max(g,s),typeof h!="function"&&(h=G1(h)),d!==void 0&&(h=h.length===1?Jc(h)(...d):Oo(h,d)),p&&(h=j1(h)),l){const y=e.apply(s),b=y-e.apply(m),v=e.apply(g)-y;b<v?m=e.invert(y-v):b>v&&(g=e.invert(y+b))}return n.domain([m,s,g]).unknown(c).interpolator(h),a&&n.clamp(a),o&&n.nice(o),{type:i,domain:[m,g],pivot:s,interpolate:h,scale:n}}function L3(t,n,e){return sa(t,Sh(),P3,n,e)}function D3(t,n,e){return Q1(t,n,{...e,exponent:.5})}function Q1(t,n,{exponent:e=1,...r}){return sa(t,Ch().exponent(e=+e),U3(e),n,{...r,type:"diverging-pow"})}function R3(t,n,{base:e=10,pivot:r=1,domain:i=Xr(n,r<0?Rc:na),...o}){return sa(t,Ah().base(e=+e),O3,n,{domain:i,pivot:r,...o})}function F3(t,n,{constant:e=1,...r}){return sa(t,kh().constant(e=+e),q3(e),n,r)}const P3={apply(t){return t},invert(t){return t}},O3={apply:Math.log,invert:Math.exp},z3={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function U3(t){return t===.5?z3:{apply(n){return Math.sign(n)*Math.pow(Math.abs(n),t)},invert(n){return Math.sign(n)*Math.pow(Math.abs(n),1/t)}}}function q3(t){return{apply(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))},invert(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}}function J1(t,n,e,r){return pi(t,n,e,r)}function B3(t,n,e){return J1(t,y6(),n,e)}function Y3(t,n,e){return J1(t,_6(),n,e)}const mi=Symbol("ordinal");function tp(t,n,e,{type:r,interval:i,domain:o,range:a,reverse:f,hint:c}){return i=ur(i,r),o===void 0&&(o=ep(e,i,t)),(r==="categorical"||r===mi)&&(r="ordinal"),f&&(o=Gi(o)),o=n.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),n.range(a)),{type:r,domain:o,range:a,scale:n,hint:c,interval:i}}function H3(t,n,{type:e,interval:r,domain:i,range:o,scheme:a,unknown:f,...c}){r=ur(r,e),i===void 0&&(i=ep(n,r,t));let s;if(dt.get(t)===fa)s=X3(n),o=o===void 0?j3(s):ht(o,Xc);else if(dt.get(t)===qn&&(o===void 0&&(e==="ordinal"||e===mi)&&(o=m3(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=e==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const u=Kc(a),d=o[0],l=o[1]-o[0];o=({length:h})=>en(p=>u(d+l*p),h)}else o=X1(a);if(f===Rf)throw new Error(`implicit unknown on ${t} scale is not supported`);return tp(t,$c().unknown(f),n,{...c,type:e,domain:i,range:o,hint:s})}function W3(t,n,{align:e=.5,padding:r=.5,...i}){return np(J_().align(e).padding(r),n,i,t)}function V3(t,n,{align:e=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return np(Wo().align(e).paddingInner(i).paddingOuter(o),n,a,t)}function np(t,n,e,r){let{round:i}=e;return i!==void 0&&t.round(i=!!i),t=tp(r,t,n,e),t.round=i,t}function ep(t,n,e){const r=new Io;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(n!==void 0){const[i,o]=Wt(r).map(n.floor,n);return n.range(i,n.offset(o))}if(r.size>1e4&&dt.get(e)===hn)throw new Error(`implicit ordinal domain of ${e} scale has more than 10,000 values`);return Wi(r,an)}function Gs(t,n){let e;for(const{hint:r}of t){const i=r==null?void 0:r[n];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}function X3(t){return{fill:Gs(t,"fill"),stroke:Gs(t,"stroke")}}function j3(t){return It(t.fill)?H6:Y6}function Gf(t,{label:n,inset:e=0,insetTop:r=e,insetRight:i=e,insetBottom:o=e,insetLeft:a=e,round:f,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,facet:{label:p=n}={},...m}={}){const g={};for(const[y,b]of t){const v=m[y],_=J3(y,b,{round:dt.get(y)===hn?f:void 0,nice:c,clamp:s,zero:u,align:d,padding:l,projection:h,...v});if(_){let{label:M=y==="fx"||y==="fy"?p:n,percent:w,transform:x,inset:T,insetTop:A=T!==void 0?T:y==="y"?r:0,insetRight:E=T!==void 0?T:y==="x"?i:0,insetBottom:$=T!==void 0?T:y==="y"?o:0,insetLeft:N=T!==void 0?T:y==="x"?a:0}=v||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");_.percent=!!w,_.label=M===void 0?Z3(b,_):M,_.transform=x,y==="x"||y==="fx"?(_.insetLeft=+N,_.insetRight=+E):(y==="y"||y==="fy")&&(_.insetTop=+A,_.insetBottom=+$),g[y]=_}}return g}function Zs(t){const n={},e={scales:n};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:c}=i;n[r]=i5(i),e[r]=o,o.type=a,f!=null&&(o.interval=f),c!=null&&(o.label=c)}return e}function G3(t,n){const{x:e,y:r,fx:i,fy:o}=t,a=i||o?tu(n):n;i&&Ks(i,a),o&&Qs(o,a);const f=i||o?rp(t,n):n;e&&Ks(e,f),r&&Qs(r,f)}function Z3(t=[],n){let e;for(const{label:r}of t)if(r!==void 0){if(e===void 0)e=r;else if(e!==r)return}if(e!==void 0)return!Ce(n)&&n.percent&&(e=`${e} (%)`),{inferred:!0,toString:()=>e}}function K3(t){return Math.sign(Je(t.domain()))*Math.sign(Je(t.range()))}function tu(t){const{marginTop:n,marginRight:e,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:c,marginBottom:s,marginLeft:u}}=t;return{marginTop:Math.max(n,f),marginRight:Math.max(e,c),marginBottom:Math.max(r,s),marginLeft:Math.max(i,u),width:o,height:a}}function rp({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=tu(e);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:n?n.scale.bandwidth()+r+o:c,facet:{width:f,height:c}}}function Ks(t,n){if(t.range===void 0){const{insetLeft:e,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=n,f=o+e,c=i-a-r;t.range=[f,Math.max(f,c)],Ce(t)||(t.range=op(t)),t.scale.range(t.range)}ip(t)}function Qs(t,n){if(t.range===void 0){const{insetTop:e,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=n,f=o+e,c=i-a-r;t.range=[Math.max(f,c),f],Ce(t)?t.range.reverse():t.range=op(t),t.scale.range(t.range)}ip(t)}function ip(t){t.round===void 0&&n5(t)&&Q3(t)<=30&&t.scale.round(!0)}function Q3({scale:t}){const n=t.domain().length,[e,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=n-i,f=Math.abs(r-e)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function op(t){const n=t.scale.domain().length+ap(t);if(!(n>2))return t.range;const[e,r]=t.range;return Array.from({length:n},(i,o)=>e+o/(n-1)*(r-e))}function J3(t,n=[],e={}){const r=t5(t,n,e);if(e.type===void 0&&e.domain===void 0&&e.range===void 0&&e.interval==null&&t!=="fx"&&t!=="fy"&&Ce({type:r})){const i=n.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Rt)?Gn(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${De(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${De(r)}".`):i.some(Ev)?Gn(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${De(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${De(r)}".`):i.some(Nv)&&Gn(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${De(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${De(r)}".`)}switch(e.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":e=Ni(n,e,tr);break;case"identity":switch(dt.get(t)){case hn:e=Ni(n,e,tr);break;case fa:e=Ni(n,e,e5);break}break;case"utc":case"time":e=Ni(n,e,A1);break}switch(r){case"diverging":return L3(t,n,e);case"diverging-sqrt":return D3(t,n,e);case"diverging-pow":return Q1(t,n,e);case"diverging-log":return R3(t,n,e);case"diverging-symlog":return F3(t,n,e);case"categorical":case"ordinal":case mi:return H3(t,n,e);case"cyclical":case"sequential":case"linear":return _3(t,n,e);case"sqrt":return w3(t,n,e);case"threshold":return Qc(t,n,e);case"quantile":return M3(t,n,e);case"quantize":return $3(t,n,e);case"pow":return Z1(t,n,e);case"log":return v3(t,n,e);case"symlog":return x3(t,n,e);case"utc":return Y3(t,n,e);case"time":return B3(t,n,e);case"point":return W3(t,n,e);case"band":return V3(t,n,e);case"identity":return S3(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function De(t){return typeof t=="symbol"?t.description:t}function Js(t){return typeof t=="string"?`${t}`.toLowerCase():t}const tl={toString:()=>"projection"};function t5(t,n,{type:e,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(e=Js(e),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(e=tl);for(const s of n){const u=Js(s.type);if(u!==void 0){if(e===void 0)e=u;else if(e!==u)throw new Error(`scale incompatible with channel: ${e} !== ${u}`)}}if(e===tl)return;if(e!==void 0)return e;if(r===void 0&&!n.some(({value:s})=>s!==void 0))return;const c=dt.get(t);if(c===li)return"sqrt";if(c===hi||c===di)return"linear";if(c===fa)return"ordinal";if((r||i||[]).length>2)return Ya(c);if(r!==void 0){if(Os(r))return Ya(c);if(Rt(r))return"utc"}else{const s=n.map(({value:u})=>u).filter(u=>u!==void 0);if(s.some(Os))return Ya(c);if(s.some(Rt))return"utc"}if(c===qn){if(a!=null||b3(o))return"diverging";if(p3(o))return"categorical"}return"linear"}function Ya(t){switch(t){case hn:return"point";case qn:return mi;default:return"ordinal"}}function Ce({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===mi}function ap({type:t}){return t==="threshold"}function n5({type:t}){return t==="point"||t==="band"}function Ao(t){if(t===void 0)return!0;const n=t.domain(),e=t(n[0]);for(let r=1,i=n.length;r<i;++r)if(t(n[r])-e)return!1;return!0}function Ni(t,{domain:n,...e},r){var i;for(const o of t)o.value!==void 0&&(n===void 0&&(n=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:n===void 0?n:r(n),...e}}function e5(t){return ht(t,Xc)}function r5(t){return n=>{if(!dt.has(n=`${n}`))throw new Error(`unknown scale: ${n}`);return t[n]}}function i5({scale:t,type:n,domain:e,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:c}){if(n==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const s=t.unknown?t.unknown():void 0;return{type:n,domain:Yr(e),...r!==void 0&&{range:Yr(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...c!==void 0&&{pivot:c,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function o5(t,n){const{fx:e,fy:r}=Gf(t,n),i=e==null?void 0:e.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?jm(i,o).map(([a,f],c)=>({x:a,y:f,i:c})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function a5(t,{x:n,y:e}){return n&&(n=Zf(n)),e&&(e=Zf(e)),t.filter(n&&e?r=>n.has(r.x)&&e.has(r.y):n?r=>n.has(r.x):r=>e.has(r.y)).sort(n&&e?(r,i)=>n.get(r.x)-n.get(i.x)||e.get(r.y)-e.get(i.y):n?(r,i)=>n.get(r.x)-n.get(i.x):(r,i)=>e.get(r.y)-e.get(i.y))}function nu(t,{fx:n,fy:e}){const r=Un(t),i=n==null?void 0:n.value,o=e==null?void 0:e.value;return n&&e?Oe(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):n?Oe(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Oe(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function f5(t,n,{marginTop:e,marginLeft:r}){return t&&n?({x:i,y:o})=>`translate(${t(i)-r},${n(o)-e})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${n(i)-e})`}function c5(t){const n=[],e=new Uint32Array(Zn(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(e.set(o,i),i+=o.length);n.push(e.slice(0,i))}return n}const u5=new Map([["top",Ha],["right",Xa],["bottom",Wa],["left",Va],["top-left",Ii(Ha,Va)],["top-right",Ii(Ha,Xa)],["bottom-left",Ii(Wa,Va)],["bottom-right",Ii(Wa,Xa)],["top-empty",d5],["right-empty",m5],["bottom-empty",h5],["left-empty",p5],["empty",g5]]);function s5(t){if(t==null)return null;const n=u5.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid facet anchor: ${t}`)}const nl=new WeakMap;function Zf(t){let n=nl.get(t);return n||nl.set(t,n=new ge(ht(t,(e,r)=>[e,r]))),n}function oe(t,n){return Zf(t).get(n)}function l5(t,n,e){return n=Dn(n),e=Dn(e),t.find(r=>Object.is(Dn(r.x),n)&&Object.is(Dn(r.y),e))}function la(t,n,e){var r;return(r=l5(t,n,e))==null?void 0:r.empty}function Ha(t,{y:n},{y:e}){return n?oe(n,e)===0:!0}function Wa(t,{y:n},{y:e}){return n?oe(n,e)===n.length-1:!0}function Va(t,{x:n},{x:e}){return n?oe(n,e)===0:!0}function Xa(t,{x:n},{x:e}){return n?oe(n,e)===n.length-1:!0}function d5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=oe(n,r);if(o>0)return la(t,e,n[o-1])}function h5(t,{y:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=oe(n,r);if(o<n.length-1)return la(t,e,n[o+1])}function p5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=oe(n,e);if(o>0)return la(t,n[o-1],r)}function m5(t,{x:n},{x:e,y:r,empty:i}){if(i)return!1;if(!n)return;const o=oe(n,e);if(o<n.length-1)return la(t,n[o+1],r)}function g5(t,n,{empty:e}){return e}function Ii(t,n){return function(){return t.apply(null,arguments)&&n.apply(null,arguments)}}function ja(t,{channels:{fx:n,fy:e},groups:r}){return n&&e?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):n?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const fp=Math.PI,Tn=2*fp,Ga=.618;function b5({projection:t,inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,c,s="frame";if(re(t)){let M;if({type:t,domain:c,inset:M,insetTop:e=M!==void 0?M:e,insetRight:r=M!==void 0?M:r,insetBottom:i=M!==void 0?M:i,insetLeft:o=M!==void 0?M:o,clip:s=s,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Kf(t));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=a,g=u-l-h-o-r,y=d-p-m-e-i;if(t=t==null?void 0:t({width:g,height:y,clip:s,...f}),t==null)return;s=y5(s,l,p,u-h,d-m);let b=l+o,v=p+e,_;if(c!=null){const[[M,w],[x,T]]=qo(t).bounds(c),A=Math.min(g/(x-M),y/(T-w));A>0?(b-=(A*(M+x)-g)/2,v-=(A*(w+T)-y)/2,_=Lf({point(E,$){this.stream.point(E*A+b,$*A+v)}})):Gn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=b===0&&v===0?cp():Lf({point(M,w){this.stream.point(M+b,w+v)}})),{stream:M=>t.stream(_.stream(s(M)))}}function Kf(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Qt(O_,.7463,.4673);case"albers":return Li(Hd,.7463,.4673);case"azimuthal-equal-area":return Qt(z_,4,4);case"azimuthal-equidistant":return Qt(U_,Tn,Tn);case"conic-conformal":return Li(Y_,Tn,Tn);case"conic-equal-area":return Li(ho,6.1702,2.9781);case"conic-equidistant":return Li(V_,7.312,3.6282);case"equal-earth":return Qt(j_,5.4133,2.6347);case"equirectangular":return Qt(H_,Tn,fp);case"gnomonic":return Qt(G_,3.4641,3.4641);case"identity":return{type:cp};case"reflect-y":return{type:_5};case"mercator":return Qt(q_,Tn,Tn);case"orthographic":return Qt(Z_,2,2);case"stereographic":return Qt(K_,2,2);case"transverse-mercator":return Qt(Q_,Tn,Tn);default:throw new Error(`unknown projection type: ${t}`)}}function y5(t,n,e,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return kd(n,e,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Qt(t,n,e){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var s,u,d;const c=t();return a!=null&&((s=c.precision)==null||s.call(c,a)),o!=null&&((u=c.rotate)==null||u.call(c,o)),typeof f=="number"&&((d=c.clipAngle)==null||d.call(c,f)),r!=null&&(c.scale(Math.min(r/n,i/e)),c.translate([r/2,i/2])),c},aspectRatio:e/n}}function Li(t,n,e){const{type:r,aspectRatio:i}=Qt(t,n,e);return{type:o=>{const{parallels:a,domain:f,width:c,height:s}=o,u=r(o);return a!=null&&(u.parallels(a),f===void 0&&c!=null&&u.fitSize([c,s],{type:"Sphere"})),u},aspectRatio:i}}const cp=Ln({stream:t=>t}),_5=Ln(Lf({point(t,n){this.stream.point(t,-n)}}));function w5(t,n,e,r){const i=e[t],o=e[n],a=i.length,f=e[t]=new Float64Array(a).fill(NaN),c=e[n]=new Float64Array(a).fill(NaN);let s;const u=r.stream({point(d,l){f[s]=d,c[s]=l}});for(s=0;s<a;++s)u.point(i[s],o[s])}function v5({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(re(t)&&(t=t.type),t!=null)}function x5(t){if(typeof(t==null?void 0:t.stream)=="function")return Ga;if(re(t)){let n,e;if({domain:n,type:t,...e}=t,n!=null&&t!=null){const r=typeof t=="string"?Kf(t).type:t,[[i,o],[a,f]]=qo(r({...e,width:100,height:100})).bounds(n),c=(f-o)/(a-i);return c&&isFinite(c)?c<.2?.2:c>5?5:c:Ga}}if(t!=null){if(typeof t!="function"){const{aspectRatio:n}=Kf(t);if(n)return n}return Ga}}function M5(t){const n=[],e=[],r={scale:"x",value:n},i={scale:"y",value:e},o={point(a,f){n.push(a),e.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)ue(a,o);return[r,i]}function eu(t={}){const{document:n=typeof window<"u"?window.document:void 0,clip:e}=t;return{document:n,clip:D1(e)}}function xt(t,{document:n}){return ze(Ro(t).call(n.documentElement))}const Qf=Symbol("unset");function ru(t){return(t.length===1?$5:T5)(t)}function $5(t){let n,e=Qf;return r=>(Object.is(e,r)||(e=r,n=t(r)),n)}function T5(t){let n,e;return(...r)=>(((e==null?void 0:e.length)!==r.length||e.some((i,o)=>!Object.is(i,r[o])))&&(e=r,n=t(...r)),n)}const S5=ru(t=>new Intl.NumberFormat(t));ru((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{month:n}}));ru((t,n)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...n&&{weekday:n}}));function A5(t="en-US"){const n=S5(t);return e=>e!=null&&!isNaN(e)?n.format(e):void 0}function k5(t){return cv(t,"Invalid Date")}function C5(t="en-US"){const n=A5(t);return e=>(e instanceof Date?k5:typeof e=="number"?n:Et)(e)}const ir=C5(),Ft=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let E5=0;function N5(){return`plot-clip-${++E5}`}function I5(t,{title:n,href:e,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:c,stroke:s,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,imageFilter:v,paintOrder:_,pointerEvents:M,shapeRendering:w,channels:x},{ariaLabel:T,fill:A="currentColor",fillOpacity:E,stroke:$="none",strokeOpacity:N,strokeWidth:F,strokeLinecap:L,strokeLinejoin:S,strokeMiterlimit:D,paintOrder:j}){A===null&&(f=null,c=null),$===null&&(s=null,d=null),It(A)?!It($)&&(!It(f)||x!=null&&x.fill)&&($="none"):It($)&&(!It(s)||x!=null&&x.stroke)&&(A="none");const[H,W]=zn(f,A),[R,O]=Nt(c,E),[P,z]=zn(s,$),[tt,B]=Nt(d,N),[X,U]=Nt(y);Wr(z)||(u===void 0&&(u=F),h===void 0&&(h=L),l===void 0&&(l=S),p===void 0&&!Rv(l)&&(p=D),!Wr(W)&&_===void 0&&(_=j));const[q,k]=Nt(u);return A!==null&&(t.fill=vt(W,"currentColor"),t.fillOpacity=yr(O,1)),$!==null&&(t.stroke=vt(z,"none"),t.strokeWidth=yr(k,1),t.strokeOpacity=yr(B,1),t.strokeLinejoin=vt(l,"miter"),t.strokeLinecap=vt(h,"butt"),t.strokeMiterlimit=yr(p,4),t.strokeDasharray=vt(m,"none"),t.strokeDashoffset=vt(g,"0")),t.target=Et(a),t.ariaLabel=Et(T),t.ariaDescription=Et(i),t.ariaHidden=Et(o),t.opacity=yr(U,1),t.mixBlendMode=vt(b,"normal"),t.imageFilter=vt(v,"none"),t.paintOrder=vt(_,"normal"),t.pointerEvents=vt(M,"auto"),t.shapeRendering=vt(w,"auto"),{title:{value:n,optional:!0,filter:null},href:{value:e,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:R,scale:"auto",optional:!0},stroke:{value:P,scale:"auto",optional:!0},strokeOpacity:{value:tt,scale:"auto",optional:!0},strokeWidth:{value:q,optional:!0},opacity:{value:X,scale:"auto",optional:!0}}}function L5(t,n){n&&t.filter(e=>Dc(n[e])).append("title").call(R5,n)}function D5(t,n){n&&t.filter(([e])=>Dc(n[e])).append("title").call(F5,n)}function R5(t,n){n&&t.text(e=>ir(n[e]))}function F5(t,n){n&&t.text(([e])=>ir(n[e]))}function sr(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&Q(t,"aria-label",l=>r[l]),o&&Q(t,"fill",l=>o[l]),a&&Q(t,"fill-opacity",l=>a[l]),f&&Q(t,"stroke",l=>f[l]),c&&Q(t,"stroke-opacity",l=>c[l]),s&&Q(t,"stroke-width",l=>s[l]),u&&Q(t,"opacity",l=>u[l]),d&&dp(t,l=>d[l],n),e||L5(t,i)}function up(t,{target:n,tip:e},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:c,strokeWidth:s,opacity:u,href:d}){r&&Q(t,"aria-label",([l])=>r[l]),o&&Q(t,"fill",([l])=>o[l]),a&&Q(t,"fill-opacity",([l])=>a[l]),f&&Q(t,"stroke",([l])=>f[l]),c&&Q(t,"stroke-opacity",([l])=>c[l]),s&&Q(t,"stroke-width",([l])=>s[l]),u&&Q(t,"opacity",([l])=>u[l]),d&&dp(t,([l])=>d[l],n),e||D5(t,i)}function P5({ariaLabel:t,title:n,fill:e,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:c},{tip:s}){return[t,s?void 0:n,e,r,i,o,a,f,c].filter(u=>u!==void 0)}function O5(t,n,e){const r=Lo(t,i=>n[i]);return e===void 0&&r.size>1+t.length>>1&&Gn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*sp(t,n,e,r){const{z:i}=e,{z:o}=r,a=P5(r,e),f=[...n,...a];for(const c of o?O5(t,o,i):[t]){let s,u;t:for(const d of c){for(const l of f)if(!Jn(l[d])){u&&u.push(-1);continue t}if(s===void 0){u&&(yield u),s=a.map(l=>Dn(l[d])),u=[d];continue}u.push(d);for(let l=0;l<a.length;++l)if(Dn(a[l][d])!==s[l]){yield u,s=a.map(p=>Dn(p[d])),u=[d];continue t}}u&&(yield u)}}function z5(t,n,e,r){let i;const{clip:o=r.clip}=n;switch(o){case"frame":{t=xt("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=U5(r,e);break}case"sphere":{i=q5(r);break}}Q(t,"aria-label",n.ariaLabel),Q(t,"aria-description",n.ariaDescription),Q(t,"aria-hidden",n.ariaHidden),Q(t,"clip-path",i)}function lp(t){const n=new WeakMap;return(e,r)=>{let i=n.get(e);if(!i){const o=N5();ze(e.ownerSVGElement).append("clipPath").attr("id",o).call(t,e,r),n.set(e,i=`url(#${o})`)}return i}}const U5=lp((t,n,e)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:c}=e;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-c)}),q5=lp((t,n)=>{const{projection:e}=n;if(!e)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",qo(e)({type:"Sphere"}))});function Bn(t,n,e,r){z5(t,n,e,r),Q(t,"class",n.className),Q(t,"fill",n.fill),Q(t,"fill-opacity",n.fillOpacity),Q(t,"stroke",n.stroke),Q(t,"stroke-width",n.strokeWidth),Q(t,"stroke-opacity",n.strokeOpacity),Q(t,"stroke-linejoin",n.strokeLinejoin),Q(t,"stroke-linecap",n.strokeLinecap),Q(t,"stroke-miterlimit",n.strokeMiterlimit),Q(t,"stroke-dasharray",n.strokeDasharray),Q(t,"stroke-dashoffset",n.strokeDashoffset),Q(t,"shape-rendering",n.shapeRendering),Q(t,"filter",n.imageFilter),Q(t,"paint-order",n.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=n;Q(t,"pointer-events",i)}function Yn(t,n){B5(t,"mix-blend-mode",n.mixBlendMode),Q(t,"opacity",n.opacity)}function dp(t,n,e){t.each(function(r){const i=n(r);if(i!=null){const o=this.ownerDocument.createElementNS(He.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(He.xlink,"href",i),e!=null&&o.setAttribute("target",e),this.parentNode.insertBefore(o,this).appendChild(this)}})}function Q(t,n,e){e!=null&&t.attr(n,e)}function B5(t,n,e){e!=null&&t.style(n,e)}function Hn(t,n,{x:e,y:r},i=Ft,o=Ft){i+=n.dx,o+=n.dy,e!=null&&e.bandwidth&&(i+=e.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function vt(t,n){if((t=Et(t))!==n)return t}function yr(t,n){if((t=kt(t))!==n)return t}const Y5=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function da(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!Y5.test(t))throw new Error(`invalid class name: ${t}`);return t}function iu(t,n){if(typeof n=="string")t.property("style",n);else if(n!=null)for(const e of t)Object.assign(e.style,n)}function gi({frameAnchor:t},{width:n,height:e,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?n-i:(a+n-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?e-o:(r+e-o)/2]}class Kt{constructor(n,e={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:c,sort:s,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,className:y,clip:b=i==null?void 0:i.clip,channels:v,tip:_,render:M}=r;if(this.data=n,this.sort=er(s)?s:null,this.initializer=rr(r).initializer,this.transform=this.initializer?r.transform:ca(r).transform,o===null||o===!1?this.facet=null:(this.facet=cn(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=n===Hi&&typeof f=="string"?[f]:f,this.fy=n===Hi&&typeof c=="string"?[c]:c),this.facetAnchor=s5(a),e=L1(e),v!==void 0&&(e={...H5(v),...e}),i!==void 0&&(e={...I5(this,r,i),...e}),this.channels=Object.fromEntries(Object.entries(e).map(([w,x])=>{if(ra(x.value)){const{value:T,label:A=x.label,scale:E=x.scale}=x.value;x={...x,label:A,scale:E,value:T}}if(n===Hi&&typeof x.value=="string"){const{value:T}=x;x={...x,value:[T]}}return[w,x]}).filter(([w,{value:x,optional:T}])=>{if(x!=null)return!0;if(T)return!1;throw new Error(`missing channel value: ${w}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=D1(b),this.tip=W5(_),this.className=y?da(y):null,this.facet==="super"){if(f||c)throw new Error("super-faceting cannot use fx or fy");for(const w in this.channels){const{scale:x}=e[w];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}M!=null&&(this.render=pp(M,this.render))}initialize(n,e,r){let i=nr(this.data);n===void 0&&i!=null&&(n=[Un(i)]);const o=n;this.transform!=null&&({facets:n,data:i}=this.transform(i,n,r),i=nr(i)),n!==void 0&&(n.original=o);const a=c3(this.channels,i);return this.sort!=null&&s3(i,n,a,e,this.sort),{data:i,facets:n,channels:a}}filter(n,e,r){for(const i in e){const{filter:o=Jn}=e[i];if(o!==null){const a=r[i];n=n.filter(f=>o(a[f]))}}return n}project(n,e,r){for(const i in n)if(n[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in n&&n[o].scale==="y"&&w5(i,o,e,r.projection)}}scale(n,e,r){const i=u3(n,e);return r.projection&&this.project(n,i,r),i}}function hp(...t){return t.plot=Kt.prototype.plot,t}function pp(t,n){if(t==null)return n===null?void 0:n;if(n==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof n!="function")throw new TypeError(`invalid render transform: ${n}`);return function(e,r,i,o,a,f){return t.call(this,e,r,i,o,a,(c,s,u,d,l)=>n.call(this,c,s,u,d,l,f))}}function H5(t){return Object.fromEntries(Object.entries(L1(t)).map(([n,e])=>(e=typeof e=="string"?{value:e,label:n}:si(e),e.filter===void 0&&e.scale==null&&(e={...e,filter:null}),[n,e])))}function W5(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?cn(t,"tip",["x","y","xy"]):t}function ha(t,n){return(t==null?void 0:t.tip)===!0?{...t,tip:n}:re(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:n}}:t}function V5(t,n,e={}){let r=.5-Ft,i=.5+Ft,o=.5+Ft,a=.5-Ft;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:b}of n)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),b>a&&(a=b);let{margin:f,marginTop:c=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:u=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=e;c=+c,s=+s,u=+u,d=+d;let{width:l=640,height:h=X5(t,e,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,c-r+u-o)}=e;l=+l,h=+h;const p={width:l,height:h,marginTop:c,marginRight:s,marginBottom:u,marginLeft:d};if(t.fx||t.fy){let{margin:m,marginTop:g=m!==void 0?m:c,marginRight:y=m!==void 0?m:s,marginBottom:b=m!==void 0?m:u,marginLeft:v=m!==void 0?m:d}=e.facet??{};g=+g,y=+y,b=+b,v=+v,p.facet={marginTop:g,marginRight:y,marginBottom:b,marginLeft:v}}return p}function X5({x:t,y:n,fy:e,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:c,marginBottomDefault:s,marginLeftDefault:u}){const d=e&&e.scale.domain().length||1,l=x5(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-u-c)*g+f+s)}const h=n?Ce(n)?n.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=el("y",n)/(el("x",t)*o),m=r?r.scale.bandwidth():1,g=e?e.scale.bandwidth():1,y=m*(a-u-c)-t.insetLeft-t.insetRight;return(p*y+n.insetTop+n.insetBottom)/g+f+s}return!!(n||e)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function el(t,n){if(!n)throw new Error(`aspectRatio requires ${t} scale`);const{type:e,domain:r}=n;let i;switch(e){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=n.scale.exponent();i=c=>Math.pow(c,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${e}`)}const[o,a]=Wt(r);return Math.abs(i(a)-i(o))}const rl=new WeakMap;function ou(t,n,{x:e,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:c,...s}={}){return a=+a,i!=null&&(e??(e=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:e,y:r,channels:f,...s,render:pp(function(u,d,l,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let b=rl.get(g);b||rl.set(g,b={sticky:!1,roots:[],renders:[]});let v=b.renders.push(z)-1;const{x:_,y:M,fx:w,fy:x}=d;let T=w?w(u.fx)-h.marginLeft:0,A=x?x(u.fy)-h.marginTop:0;_!=null&&_.bandwidth&&(T+=_.bandwidth()/2),M!=null&&M.bandwidth&&(A+=M.bandwidth()/2);const E=u.fi!=null;let $;if(E){let U=b.facetStates;U||(b.facetStates=U=new Map),$=U.get(this),$||U.set(this,$=new Map)}const[N,F]=gi(this,h),{px:L,py:S}=l,D=L?U=>L[U]:mp(l,N),j=S?U=>S[U]:gp(l,F);let H,W,R,O;function P(U,q){if(E)if(O&&(O=cancelAnimationFrame(O)),U==null)$.delete(u.fi);else{$.set(u.fi,q),O=requestAnimationFrame(()=>{O=null;for(const[k,I]of $)if(I<q||I===q&&k<u.fi){U=null;break}z(U)});return}z(U)}function z(U){if(H===U&&R===b.sticky)return;H=U,R=p.pointerSticky=b.sticky;const q=H==null?[]:[H];E&&(q.fx=u.fx,q.fy=u.fy,q.fi=u.fi);const k=m(q,d,l,h,p);if(W){if(E){const I=W.parentNode,Y=W.getAttribute("transform"),C=k.getAttribute("transform");Y?k.setAttribute("transform",Y):k.removeAttribute("transform"),C?I.setAttribute("transform",C):I.removeAttribute("transform"),k.removeAttribute("aria-label"),k.removeAttribute("aria-description"),k.removeAttribute("aria-hidden")}W.replaceWith(k)}if(b.roots[v]=W=k,!(H==null&&($==null?void 0:$.size)>1)){const I=H==null?null:Ae(y)?y[H]:y.get(H);p.dispatchValue(I)}return k}function tt(U){if(b.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[q,k]=nb(U);q-=T,k-=A;const I=q<h.marginLeft||q>h.width-h.marginRight?1:t,Y=k<h.marginTop||k>h.height-h.marginBottom?1:n;let C=null,rt=a*a;for(const V of u){const at=I*(D(V)-q),ut=Y*(j(V)-k),Mt=at*at+ut*ut;Mt<=rt&&(C=V,rt=Mt)}if(C!=null&&(t!==1||n!==1)){const V=D(C)-q,at=j(C)-k;rt=V*V+at*at}P(C,rt)}function B(U){U.pointerType==="mouse"&&H!=null&&(b.sticky&&b.roots.some(q=>q==null?void 0:q.contains(U.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(q=>q(null))):(b.sticky=!0,z(H)),U.stopImmediatePropagation()))}function X(U){U.pointerType==="mouse"&&(b.sticky||P(null))}return g.addEventListener("pointerenter",tt),g.addEventListener("pointermove",tt),g.addEventListener("pointerdown",B),g.addEventListener("pointerleave",X),z(null)},c)}}function j5(t){return ou(1,1,t)}function G5(t){return ou(1,.01,t)}function il(t){return ou(.01,1,t)}function mp({x1:t,x2:n,x:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function gp({y1:t,y2:n,y:e=t},r){return t&&n?i=>(t[i]+n[i])/2:e?i=>e[i]:()=>r}function bp(t){return Ce(t)&&t.interval===void 0?void 0:"tabular-nums"}function Z5(t,n){let{label:e=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:c=16+r,marginLeft:s=0,style:u,ticks:d=(i-s-f)/64,tickFormat:l,fontVariant:h=bp(t),round:p=!0,opacity:m,className:g}=n;const y=eu(n);g=da(g),m=Nt(m)[1],l===null&&(l=()=>null);const b=xt("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(N=>N.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(iu,u);let v=N=>N.selectAll(".tick line").attr("y1",a+c-o),_;const M=p?(N,F)=>N.rangeRound(F):(N,F)=>N.range(F),{type:w,domain:x,range:T,interpolate:A,scale:E,pivot:$}=t;if(A){const N=T===void 0?A:Oo(A.length===1?Jc(A):A,T);_=M(E.copy(),en(St(s,i-f),Math.min(x.length+($!==void 0),T===void 0?1/0:T.length)));const F=256,L=y.document.createElement("canvas");L.width=F,L.height=1;const S=L.getContext("2d");for(let D=0,j=F-1;D<F;++D)S.fillStyle=N(D/j),S.fillRect(D,0,1,1);b.append("image").attr("opacity",m).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-c).attr("preserveAspectRatio","none").attr("xlink:href",L.toDataURL())}else if(w==="threshold"){const N=x,F=l===void 0?L=>L:typeof l=="string"?fr(l):l;_=M(Tc().domain([-1,T.length-1]),[s,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(T).enter().append("rect").attr("x",(L,S)=>_(S-1)).attr("y",a).attr("width",(L,S)=>_(S)-_(S-1)).attr("height",o-a-c).attr("fill",L=>L),d=ht(N,(L,S)=>S),l=L=>F(N[L],L)}else _=M(Wo().domain(x),[s,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(x).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-c).attr("fill",E),v=()=>{};return b.append("g").attr("transform",`translate(0,${o-c})`).call(yg(_).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",vt(h,"normal")).call(v).call(N=>N.select(".domain").remove()),e!==void 0&&b.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(e),b.node()}const yp=Math.PI/180;function au(t,{marker:n,markerStart:e=n,markerMid:r=n,markerEnd:i=n}={}){t.markerStart=Za(e),t.markerMid=Za(r),t.markerEnd=Za(i)}function Za(t){if(t==null||t===!1)return null;if(t===!0)return al;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return ol("auto");case"arrow-reverse":return ol("auto-start-reverse");case"dot":return K5;case"circle":case"circle-fill":return al;case"circle-stroke":return Q5;case"tick":return Ka("auto");case"tick-x":return Ka(90);case"tick-y":return Ka(0)}throw new Error(`invalid marker: ${t}`)}function ol(t){return(n,e)=>xt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",n).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function K5(t,n){return xt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(e=>e.append("circle").attr("r",2.5)).node()}function al(t,n){return xt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Q5(t,n){return xt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(e=>e.append("circle").attr("r",3)).node()}function Ka(t){return(n,e)=>xt("svg:marker",e).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",n).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let J5=0;function _p(t,n,{stroke:e},r){return vp(t,n,e&&(i=>e[i]),null,r)}function t8(t,n,{stroke:e,z:r},i){return vp(t,n,e&&(([o])=>e[o]),r,i)}const Jf=1,wp=2;function n8(t,n){const e=new Uint8Array(n.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Qf;o<i;++o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=Dn(n[c]))&&(e[c]|=Jf)}}for(let o=i-1,a=Qf;o>=0;--o){const f=r[o];if(f.length>1){const c=f[0];a!==(a=Dn(n[c]))&&(e[c]|=wp)}}return([o])=>e[o]}function vp(t,{markerStart:n,markerMid:e,markerEnd:r,stroke:i},o=()=>i,a,f){if(!n&&!e&&!r)return;const c=new Map,s=a&&n8(t,a);function u(d,l,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=c.get(l);g||c.set(l,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(l(m,f),this),v=`plot-marker-${++J5}`;b.setAttribute("id",v),g.set(m,y=`url(#${v})`)}this.setAttribute(d,y)}}n&&t.each(u("marker-start",n,s&&(d=>s(d)&Jf))),e&&s&&t.each(u("marker-start",e,d=>!(s(d)&Jf))),e&&t.each(u("marker-mid",e)),r&&t.each(u("marker-end",r,s&&(d=>s(d)&wp)))}function fu({inset:t,insetLeft:n,insetRight:e,...r}={}){return[n,e]=Mp(t,n,e),{inset:t,insetLeft:n,insetRight:e,...r}}function xp({inset:t,insetTop:n,insetBottom:e,...r}={}){return[n,e]=Mp(t,n,e),{inset:t,insetTop:n,insetBottom:e,...r}}function Mp(t,n,e){return t===void 0&&n===void 0&&e===void 0?Ft?[1,0]:[.5,.5]:[n,e]}function $p(t,{interval:n}){return t={...si(t)},t.interval=Hc(t.interval===void 0?n:t.interval),t}function Tp(t,n,e,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=e,{value:f,interval:c}=$p(i,e);if(f==null||c==null&&!r)return e;const s=ke(i);if(c==null){let h;const p={transform:m=>h||(h=_t(m,f)),label:s};return{...e,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let u,d;function l(h){return d!==void 0&&h===u?d:d=ht(_t(u=h,f),p=>c.floor(p))}return n({...e,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:s}:o,[`${t}2`]:a===void 0?{transform:h=>l(h).map(p=>c.offset(p)),label:s}:a})}function Sp(t,n,e){const{[t]:r}=e,{value:i,interval:o}=$p(r,e);return i==null||o==null?e:n({...e,[t]:{label:ke(r),transform:a=>{const f=ht(_t(a,i),s=>o.floor(s)),c=f.map(s=>o.offset(s));return f.map(Rt(f)?(s,u)=>s==null||isNaN(s=+s)||(u=c[u],u==null)||isNaN(u=+u)?void 0:new Date((s+u)/2):(s,u)=>s==null||(u=c[u],u==null)?NaN:(+s+ +u)/2)}}})}function e8(t={}){return Tp("x",fu,t)}function r8(t={}){return Tp("y",xp,t)}function i8(t={}){return Sp("x",fu,t)}function o8(t={}){return Sp("y",xp,t)}const Ap={ariaLabel:"rule",fill:null,stroke:"currentColor"};class a8 extends Kt{constructor(n,e={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:c=a}=e;super(n,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},ha(e,"x"),Ap),this.insetTop=kt(f),this.insetBottom=kt(c),au(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y1:s,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return xt("svg:g",o).call(Bn,this,i,o).call(Hn,this,{x:c&&a},Ft,0).call(v=>v.selectAll().data(n).enter().append("line").call(Yn,this).attr("x1",c?_=>c[_]:(m+d-p)/2).attr("x2",c?_=>c[_]:(m+d-p)/2).attr("y1",s&&!Ao(f)?_=>s[_]+y:h+y).attr("y2",u&&!Ao(f)?f.bandwidth?_=>u[_]+f.bandwidth()-b:_=>u[_]-b:l-g-b).call(sr,this,r).call(_p,this,r,o)).node()}}class f8 extends Kt{constructor(n,e={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:c=a}=e;super(n,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},ha(e,"y"),Ap),this.insetRight=kt(f),this.insetLeft=kt(c),au(this,e)}render(n,e,r,i,o){const{x:a,y:f}=e,{y:c,x1:s,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return xt("svg:g",o).call(Bn,this,i,o).call(Hn,this,{y:c&&f},0,Ft).call(v=>v.selectAll().data(n).enter().append("line").call(Yn,this).attr("x1",s&&!Ao(a)?_=>s[_]+y:m+y).attr("x2",u&&!Ao(a)?a.bandwidth?_=>u[_]+a.bandwidth()-b:_=>u[_]-b:d-p-b).attr("y1",c?_=>c[_]:(h+l-g)/2).attr("y2",c?_=>c[_]:(h+l-g)/2).call(sr,this,r).call(_p,this,r,o)).node()}}function tc(t,n){let{x:e=zt,y:r,y1:i,y2:o,...a}=r8(n);return[i,o]=Cp(r,i,o),new a8(t,{...a,x:e,y1:i,y2:o})}function kp(t,n){let{y:e=zt,x:r,x1:i,x2:o,...a}=e8(n);return[i,o]=Cp(r,i,o),new f8(t,{...a,y:e,x1:i,x2:o})}function Cp(t,n,e){if(t==null){if(n===void 0){if(e!==void 0)return[0,e]}else if(e===void 0)return[0,n]}else{if(n===void 0)return e===void 0?[0,t]:[t,e];if(e===void 0)return[t,n]}return[n,e]}function cu(t,...n){let e=n.length;for(let r=0,i=!0;r<e;++r)typeof n[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+n[r]+t[r+1]),n.splice(r,1),--r,--e);return r=>{let i=t[0];for(let o=0;o<e;++o)i+=n[o](r)+t[o+1];return i}}const c8={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ep="";class uu extends Kt{constructor(n,e={}){const{x:r,y:i,text:o=ie(n)&&I1(n)?zt:T1,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:c=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:b}=e,[v,_]=Nt(b,0),[M,w]=p8(p);if(super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:M,optional:!0},rotate:{value:Cv(v),optional:!0},text:{value:o,filter:Dc,optional:!0}},e,c8),this.rotate=_,this.textAnchor=vt(f,"middle"),this.lineAnchor=cn(c,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+u,this.textOverflow=Np(d),this.monospace=!!l,this.fontFamily=Et(h),this.fontSize=w,this.fontStyle=Et(m),this.fontVariant=Et(g),this.fontWeight=Et(y),this.frameAnchor=aa(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=Dp(this),this.clipLine=Rp(this)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,g]=gi(this,i);return xt("svg:g",o).call(Bn,this,i,o).call(Lp,this,d,i).call(Hn,this,{x:c&&a,y:s&&f}).call(y=>y.selectAll().data(n).enter().append("text").call(Yn,this).call(u8,this,d,l).attr("transform",cu`translate(${c?b=>c[b]:m},${s?b=>s[b]:g})${u?b=>` rotate(${u[b]})`:p?` rotate(${p})`:""}`).call(Q,"font-size",h&&(b=>h[b])).call(sr,this,r)).node()}}function Np(t){return t==null?null:cn(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function u8(t,n,e,r){if(!e)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:c}=n;t.each(function(s){const u=f(ir(e[s])??"").map(c),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const m=this.ownerDocument.createElementNS(He.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=u[p],this.appendChild(m),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=u[0];if(a&&!r&&u[0]!==e[s]){const h=this.ownerDocument.createElementNS(He.svg,"title");h.textContent=e[s],this.appendChild(h)}})}function Ip(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ia(n,e)),new uu(t,{...r,x:n,y:e})}function s8(t,{x:n=zt,...e}={}){return new uu(t,o8({...e,x:n}))}function l8(t,{y:n=zt,...e}={}){return new uu(t,i8({...e,y:n}))}function Lp(t,n,e){Q(t,"text-anchor",n.textAnchor),Q(t,"font-family",n.fontFamily),Q(t,"font-size",n.fontSize),Q(t,"font-style",n.fontStyle),Q(t,"font-variant",n.fontVariant===void 0?d8(e):n.fontVariant),Q(t,"font-weight",n.fontWeight)}function d8(t){return t&&(Iv(t)||Rt(t))?"tabular-nums":void 0}const h8=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function p8(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),h8.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function m8(t,n,e){const r=[];let i,o=0;for(const[a,f,c]of g8(t)){if(i===void 0&&(i=a),o>i&&e(t,i,f)>n&&(r.push(t.slice(i,o)+(t[o-1]===Ep?"-":"")),i=a),c){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*g8(t){let n=0,e=0;const r=t.length;for(;e<r;){let i=1;switch(t[e]){case Ep:case"-":++e,yield[n,e,!1],n=e;break;case" ":for(yield[n,e,!1];t[++e]===" ";);n=e;break;case"\r":t[e+1]===`
`&&++i;case`
`:yield[n,e,!0],e+=i,n=e;break;default:++e;break}}yield[n,e,!0]}const fl={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function su(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=lr(t,i))r+=fl[t[i]]??(Pp(t,i)?120:fl.e);return r}function lu(t,n=0,e=t.length){let r=0;for(let i=n;i<e;i=lr(t,i))r+=Pp(t,i)?126:63;return r}function Dp({monospace:t,lineWidth:n,textOverflow:e}){if(e!=null||n==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?lu:su,i=n*100;return o=>m8(o,i,r)}function Rp({monospace:t,lineWidth:n,textOverflow:e}){if(e==null||n==1/0)return o=>o;const r=t?lu:su,i=n*100;switch(e){case"clip-start":return o=>ul(o,i,r,"");case"clip-end":return o=>cl(o,i,r,"");case"ellipsis-start":return o=>ul(o,i,r,Be);case"ellipsis-middle":return o=>b8(o,i,r,Be);case"ellipsis-end":return o=>cl(o,i,r,Be)}}const Be="";function or(t,n,e,r){const i=[];let o=0;for(let a=0,f=0,c=t.length;a<c;a=f){f=lr(t,a);const s=e(t,a,f);if(o+s>n){for(o+=r;o>n&&a>0;)f=a,a=i.pop(),o-=e(t,a,f);return[a,n-o]}o+=s,i.push(a)}return[-1,0]}function cl(t,n,e,r){t=t.trim();const i=e(r),[o]=or(t,n,e,i);return o<0?t:t.slice(0,o).trimEnd()+r}function b8(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r)/2,[a,f]=or(t,n/2,e,o),[c]=or(t,i-n/2-f+o,e,-o);return c<0?r:t.slice(0,a).trimEnd()+r+t.slice(lr(t,c)).trimStart()}function ul(t,n,e,r){t=t.trim();const i=e(t);if(i<=n)return t;const o=e(r),[a]=or(t,i-n+o,e,-o);return a<0?r:r+t.slice(lr(t,a)).trimStart()}const nc=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,sl=new RegExp("\\p{Extended_Pictographic}","uy");function lr(t,n){return n+=y8(t,n)?2:1,w8(t,n)&&(n=nc.lastIndex),_8(t,n)?lr(t,n+1):n}function Fp(t,n){return t.charCodeAt(n)<128}function y8(t,n){const e=t.charCodeAt(n);if(e>=55296&&e<56320){const r=t.charCodeAt(n+1);return r>=56320&&r<57344}return!1}function _8(t,n){return t.charCodeAt(n)===8205}function w8(t,n){return Fp(t,n)?!1:(nc.lastIndex=n,nc.test(t))}function Pp(t,n){return Fp(t,n)?!1:(sl.lastIndex=n,sl.test(t))}const v8={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Op=3.5,x8=Op*5,zp={draw(t,n,e){const r=n*e/x8;t.moveTo(0,0),t.lineTo(0,-n),t.moveTo(-r,r-n),t.lineTo(0,-n),t.lineTo(r,r-n)}},M8={draw(t,n,e){t.moveTo(-e,0),t.lineTo(0,-n),t.lineTo(e,0)}},$8=new Map([["arrow",zp],["spike",M8]]);function T8(t){return t&&typeof t.draw=="function"}function S8(t){if(T8(t))return t;const n=$8.get(`${t}`.toLowerCase());if(n)return n;throw new Error(`invalid shape: ${t}`)}class Up extends Kt{constructor(n,e={}){const{x:r,y:i,r:o=Op,length:a,rotate:f,shape:c=zp,anchor:s="middle",frameAnchor:u}=e,[d,l]=Nt(a,12),[h,p]=Nt(f,0);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},e,v8),this.r=+o,this.length=l,this.rotate=p,this.shape=S8(c),this.anchor=cn(s,"anchor",["start","middle","end"]),this.frameAnchor=aa(u)}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:g}=this,[y,b]=gi(this,i);return xt("svg:g",o).call(Bn,this,i,o).call(Hn,this,{x:c&&a,y:s&&f}).call(v=>v.selectAll().data(n).enter().append("path").call(Yn,this).attr("transform",cu`translate(${c?_=>c[_]:y},${s?_=>s[_]:b})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?_=>` translate(0,${u[_]})`:` translate(0,${l})`:u?_=>` translate(0,${u[_]/2})`:` translate(0,${l/2})`}`).attr("d",u?_=>{const M=le();return m.draw(M,u[_],g),M}:(()=>{const _=le();return m.draw(_,l,g),_})()).call(sr,this,r)).node()}}function A8(t,n={}){const{x:e=zt,...r}=n;return new Up(t,{...r,x:e})}function k8(t,n={}){const{y:e=zt,...r}=n;return new Up(t,{...r,y:e})}function ae(t,n){return arguments.length<2&&!ie(t)&&(n=t,t=null),n===void 0&&(n={}),[t,n]}function pa({anchor:t}={},n){return t===void 0?n[0]:cn(t,"anchor",n)}function qp(t){return pa(t,["left","right"])}function Bp(t){return pa(t,["right","left"])}function Yp(t){return pa(t,["bottom","top"])}function Hp(t){return pa(t,["top","bottom"])}function Wp(){const[t,n]=ae(...arguments);return Xp("y",qp(n),t,n)}function C8(){const[t,n]=ae(...arguments);return Xp("fy",Bp(n),t,n)}function Vp(){const[t,n]=ae(...arguments);return jp("x",Yp(n),t,n)}function E8(){const[t,n]=ae(...arguments);return jp("fx",Hp(n),t,n)}function Xp(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:b,marginTop:v=b===void 0?20:b,marginRight:_=b===void 0?n==="right"?40:0:b,marginBottom:M=b===void 0?20:b,marginLeft:w=b===void 0?n==="left"?40:0:b,label:x,labelAnchor:T,labelArrow:A,labelOffset:E,...$}){return p=kt(p),m=kt(m),g=kt(g),T!==void 0&&(T=cn(T,"labelAnchor",["center","top","bottom"])),A=em(A),hp(p&&!It(o)?N8(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...$}):null,It(c)?null:L8(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:v,marginRight:_,marginBottom:M,marginLeft:w,...$}),!It(c)&&x!==null?Ip([],Qp({fill:c,fillOpacity:s,...$},function(N,F,L,S,D){const j=S[t],{marginTop:H,marginRight:W,marginBottom:R,marginLeft:O}=t==="y"&&D.inset||D,P=T??(j.bandwidth?"center":"top"),z=E??(n==="right"?W:O)-3;return P==="center"?(this.textAnchor=void 0,this.lineAnchor=n==="right"?"bottom":"top",this.frameAnchor=n,this.rotate=-90):(this.textAnchor=n==="right"?"end":"start",this.lineAnchor=P,this.frameAnchor=`${P}-${n}`,this.rotate=0),this.dy=P==="top"?3-H:P==="bottom"?R-3:0,this.dx=n==="right"?z:-z,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[nm(t,j,{anchor:n,label:x,labelAnchor:P,labelArrow:A})]}}}})):null)}function jp(t,n,e,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:c=r,fillOpacity:s=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:b,marginTop:v=b===void 0?n==="top"?30:0:b,marginRight:_=b===void 0?20:b,marginBottom:M=b===void 0?n==="bottom"?30:0:b,marginLeft:w=b===void 0?20:b,label:x,labelAnchor:T,labelArrow:A,labelOffset:E,...$}){return p=kt(p),m=kt(m),g=kt(g),T!==void 0&&(T=cn(T,"labelAnchor",["center","left","right"])),A=em(A),hp(p&&!It(o)?I8(t,n,e,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...$}):null,It(c)?null:D8(t,n,e,{fill:c,fillOpacity:s,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:v,marginRight:_,marginBottom:M,marginLeft:w,...$}),!It(c)&&x!==null?Ip([],Qp({fill:c,fillOpacity:s,...$},function(N,F,L,S,D){const j=S[t],{marginTop:H,marginRight:W,marginBottom:R,marginLeft:O}=t==="x"&&D.inset||D,P=T??(j.bandwidth?"center":"right"),z=E??(n==="top"?H:R)-3;return P==="center"?(this.frameAnchor=n,this.textAnchor=void 0):(this.frameAnchor=`${n}-${P}`,this.textAnchor=P==="right"?"end":"start"),this.lineAnchor=n,this.dy=n==="top"?-z:z,this.dx=P==="right"?W-3:P==="left"?3-O:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[nm(t,j,{anchor:n,label:x,labelAnchor:P,labelArrow:A})]}}}})):null)}function N8(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="y"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetLeft:u=s,insetRight:d=s,dx:l=0,y:h=t==="y"?void 0:null,...p}){return dr(k8,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...p,dx:n==="left"?+l-Ft+ +u:+l+Ft-d,anchor:"start",length:c,shape:n==="left"?B8:Y8})}function I8(t,n,e,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=n+(t==="x"?"-empty":""),frameAnchor:f=n,tickSize:c,inset:s=0,insetTop:u=s,insetBottom:d=s,dy:l=0,x:h=t==="x"?void 0:null,...p}){return dr(A8,t,e,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...p,dy:n==="bottom"?+l-Ft-d:+l+Ft+ +u,anchor:"start",length:c,shape:n==="bottom"?U8:q8})}function L8(t,n,e,{facetAnchor:r=n+(t==="y"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*yp):0),text:c,textAnchor:s=Math.abs(a)>60?"middle":n==="left"?"end":"start",lineAnchor:u=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:m=0,y:g=t==="y"?void 0:null,...y}){return dr(l8,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:a,y:g,...y,dx:n==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(b,v,_,M,w){d===void 0&&(this.fontVariant=tm(b)),c===void 0&&(w.text=Jp(b,v,_,M,n))})}function D8(t,n,e,{facetAnchor:r=n+(t==="x"?"-empty":""),frameAnchor:i=n,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*yp):0),text:c,textAnchor:s=Math.abs(a)>=10?a<0^n==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(a)>=10?"middle":n==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:m=0,x:g=t==="x"?void 0:null,...y}){return dr(s8,t,e,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:c===void 0?null:c,textAnchor:s,lineAnchor:u,fontVariant:d,rotate:a,x:g,...y,dy:n==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(b,v,_,M,w){d===void 0&&(this.fontVariant=tm(b)),c===void 0&&(w.text=Jp(b,v,_,M,n))})}function R8(){const[t,n]=ae(...arguments);return Gp("y",qp(n),t,n)}function F8(){const[t,n]=ae(...arguments);return Gp("fy",Bp(n),t,n)}function P8(){const[t,n]=ae(...arguments);return Zp("x",Yp(n),t,n)}function O8(){const[t,n]=ae(...arguments);return Zp("fx",Hp(n),t,n)}function Gp(t,n,e,{y:r=t==="y"?void 0:null,x:i=null,x1:o=n==="left"?i:null,x2:a=n==="right"?i:null,...f}){return dr(kp,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...Kp(f)})}function Zp(t,n,e,{x:r=t==="x"?void 0:null,y:i=null,y1:o=n==="top"?i:null,y2:a=n==="bottom"?i:null,...f}){return dr(tc,t,e,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...Kp(f)})}function Kp({color:t="currentColor",opacity:n=.1,stroke:e=t,strokeOpacity:r=n,strokeWidth:i=1,...o}){return{stroke:e,strokeOpacity:r,strokeWidth:i,...o}}function Qp({fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u=!1},d){return[,t]=zn(t),[,n]=Nt(n),{facet:"super",x:null,y:null,fill:t,fillOpacity:n,fontFamily:e,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:c,shapeRendering:s,clip:u,initializer:d}}function dr(t,n,e,r,i,o){let a;function f(u,d,l,h,p,m){const g=u==null&&(n==="fx"||n==="fy"),{[n]:y}=h;if(!y)throw new Error(`missing scale: ${n}`);const b=y.domain();let{interval:v,ticks:_,tickFormat:M,tickSpacing:w=n==="x"?80:35}=i;if(typeof _=="string"&&rm(y)&&(v=_,_=void 0),_===void 0&&(_=ur(v,y.type)??z8(y,w)),u==null){if(ie(_))u=te(_);else if(Pe(_))u=Qa(_,...Wt(b));else if(y.interval){let T=y.interval;if(y.ticks){const[A,E]=Wt(b),$=(E-A)/T[ui];T=Rs(T,$/_)??T,u=Qa(T,A,E)}else{u=b;const A=u.length;T=Rs(T,A/_)??T,T!==y.interval&&(u=Qa(T,...Wt(u)))}if(T===y.interval){const A=Math.round(u.length/_);A>1&&(u=u.filter((E,$)=>$%A===0))}}else y.ticks?u=y.ticks(_):u=b;if(!y.ticks&&u.length&&u!==b){const T=new Io(b);u=u.filter(A=>T.has(A)),u.length||Gn(`Warning: the ${n}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}n==="y"||n==="x"?d=[Un(u)]:a[n]={scale:n,value:zt}}o==null||o.call(this,y,u,_,M,a);const x=Object.fromEntries(Object.entries(a).map(([T,A])=>[T,{...A,value:_t(u,A.value)}]));return g&&(d=m.filterFacets(u,x)),{data:u,facets:d,channels:x}}const c=rr(i).initializer,s=t(e,rr({...i,initializer:f},c));return e==null?(a=s.channels,s.channels={}):a={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function z8(t,n){const[e,r]=Wt(t.range());return(r-e)/n}function Jp(t,n,e,r,i){return{value:du(t,n,e,r,i)}}function du(t,n,e,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&n&&Rt(n)?pv(t.type,n,i)??ir:t.tickFormat?t.tickFormat(typeof e=="number"?e:null,r):r===void 0?ir:typeof r=="string"?(Rt(t.domain())?fi:fr)(r):Ln(r)}function Qa(t,n,e){return t.range(n,t.offset(t.floor(e)))}const U8={draw(t,n){t.moveTo(0,0),t.lineTo(0,n)}},q8={draw(t,n){t.moveTo(0,0),t.lineTo(0,-n)}},B8={draw(t,n){t.moveTo(0,0),t.lineTo(-n,0)}},Y8={draw(t,n){t.moveTo(0,0),t.lineTo(n,0)}};function tm(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function nm(t,n,{anchor:e,label:r=n.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&rm(n)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!n.bandwidth||n.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=K3(n);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return e==="right"?`${r} `:` ${r}`;case"down":return e==="right"?`${r} `:` ${r}`}return r}}function em(t="auto"){return It(t)?!1:typeof t=="boolean"?t:cn(t,"labelArrow",["auto","up","right","down","left"])}function rm(t){return Rt(t.domain())}function ll(t,n){if(n==null)return n;const e=t(n);if(!e)throw new Error(`scale not found: ${n}`);return e}function H8(t,{opacity:n,...e}={}){if(!Ce(t)&&!ap(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return im(t,e,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Nt(n)[1]).append("rect").attr("width","100%").attr("height","100%"))}function W8(t,{fill:n=(s=>(s=t.hint)==null?void 0:s.fill)()!==void 0?t.hint.fill:"none",fillOpacity:e=1,stroke:r=(u=>(u=t.hint)==null?void 0:u.stroke)()!==void 0?t.hint.stroke:It(n)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},c){const[d,l]=zn(n),[h,p]=zn(r),m=ll(c,d),g=ll(c,h),y=a*a*Math.PI;return e=Nt(e)[1],i=Nt(i)[1],o=Nt(o)[1],im(t,f,(b,v,_,M)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",M).attr("fill",d==="color"?w=>m.scale(w):l).attr("fill-opacity",e).attr("stroke",h==="color"?w=>g.scale(w):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",w=>{const x=le();return t.scale(w).draw(x,y),x}))}function im(t,n={},e){let{columns:r,tickFormat:i,fontVariant:o=bp(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:c=a,marginLeft:s=0,className:u,style:d,width:l}=n;const h=eu(n);u=da(u),i=du(t.scale,t.domain,void 0,i);const p=xt("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(e,t,f,c).call(g=>g.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(e,t,f,c).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",s?`${+s}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",vt(o,"normal")).call(iu,d).node()}const ec=new Map([["symbol",W8],["color",am],["opacity",X8]]);function V8(t,n,e={}){return(r,i)=>{if(!ec.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return ec.get(r)(t[r],om(n,e[r],i),o=>t[o])}}function om({className:t,...n},{label:e,ticks:r,tickFormat:i}={},o){return Fv(o,{className:t,...n},{label:e,ticks:r,tickFormat:i})}function am(t,{legend:n=!0,...e}){if(n===!0&&(n=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${n}`.toLowerCase()){case"swatches":return H8(t,e);case"ramp":return Z5(t,e);default:throw new Error(`unknown legend type: ${n}`)}}function X8({type:t,interpolate:n,...e},{legend:r=!0,color:i=Kn(0,0,0),...o}){if(!n)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return am({type:t,...e,interpolate:j8(i)},{legend:r,...o})}function j8(t){const{r:n,g:e,b:r}=Kn(t)||Kn(0,0,0);return i=>`rgba(${n},${e},${r},${i})`}function G8(t,n,e){const r=[];for(const[i,o]of ec){const a=e[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],om(n,t[i],a),c=>t[c]);f!=null&&r.push(f)}}return r}function Z8(t={}){return xv(t)?t:{...t,y:zt}}function K8(t,n){if(n.length===1)return{data:t,facets:n};const e=Hr(t),r=new Uint8Array(e);let i=0;for(const f of n)for(const c of f)r[c]&&++i,r[c]=1;if(i===0)return{data:t,facets:n};t=Yr(t);const o=t[M1]=new Uint32Array(e+i);n=n.map(f=>Yr(f,Uint32Array));let a=e;r.fill(0);for(const f of n)for(let c=0,s=f.length;c<s;++c){const u=f[c];r[u]?(f[c]=a,t[a]=t[u],o[a]=u,++a):o[u]=u,r[u]=1}return{data:t,facets:n}}function Q8(t={},n={}){arguments.length===1&&([t,n]=t4(t));const{x1:e,x:r=e,y:i,...o}=n,[a,f,c,s]=e4(r,i,"x","y",t,o);return{...a,x1:e,x:f,y1:c,y2:s,y:Hf(c,s)}}function J8({y:t,y1:n,y2:e,...r}={}){return r=ha(r,"x"),n===void 0&&e===void 0?Q8({y:t,...r}):([n,e]=Mv(t,n,e),{...r,y1:n,y2:e})}function t4(t){const{offset:n,order:e,reverse:r,...i}=t;return[{offset:n,order:e,reverse:r},i]}const n4={length:!0};function e4(t,n=_v,e,r,{offset:i,order:o,reverse:a},f){if(n===null)throw new Error(`stack requires ${r}`);const c=Bc(f),[s,u]=Sn(t),[d,l]=To(n),[h,p]=To(n);return d.hint=h.hint=n4,i=r4(i),o=a4(o,i,r),[ca(f,(m,g,y)=>{({data:m,facets:g}=K8(m,g));const b=t==null?void 0:u(E1(_t(m,t),y==null?void 0:y[e])),v=_t(m,n,Float64Array),_=_t(m,c),M=o&&o(m,b,v,_),w=Hr(m),x=l(new Float64Array(w)),T=p(new Float64Array(w)),A=[];for(const E of g){const $=b?Array.from(Lo(E,N=>b[N]).values()):[E];if(M)for(const N of $)N.sort(M);for(const N of $){let F=0,L=0;a&&N.reverse();for(const S of N){const D=v[S];D<0?F=T[S]=(x[S]=F)+D:D>0?L=T[S]=(x[S]=L)+D:T[S]=x[S]=L}}A.push($)}return i&&i(A,x,T,_),{data:m,facets:g}}),s,d,h]}function r4(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return i4;case"center":case"silhouette":return o4;case"wiggle":return cm}throw new Error(`unknown offset: ${t}`)}}function fm(t,n){let e=0,r=0;for(const i of t){const o=n[i];o<e&&(e=o),o>r&&(r=o)}return[e,r]}function i4(t,n,e){for(const r of t)for(const i of r){const[o,a]=fm(i,e);for(const f of i){const c=1/(a-o||1);n[f]=c*(n[f]-o),e[f]=c*(e[f]-o)}}}function o4(t,n,e){for(const r of t){for(const i of r){const[o,a]=fm(i,e);for(const f of i){const c=(a+o)/2;n[f]-=c,e[f]-=c}}um(r,n,e)}sm(t,n,e)}function cm(t,n,e,r){for(const i of t){const o=new ge;let a=0;for(const f of i){let c=-1;const s=f.map(h=>Math.abs(e[h]-n[h])),u=f.map(h=>{c=r?r[h]:++c;const p=e[h]-n[h],m=o.has(c)?p-o.get(c):0;return o.set(c,p),m}),d=[0,...Gm(u)];for(const h of f)n[h]+=a,e[h]+=a;const l=Zn(s);l&&(a-=Zn(s,(h,p)=>(u[p]/2+d[p])*h)/l)}um(i,n,e)}sm(t,n,e)}function um(t,n,e){const r=Rn(t,i=>Rn(i,o=>n[o]));for(const i of t)for(const o of i)n[o]-=r,e[o]-=r}function sm(t,n,e){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Rn(f,c=>n[c])+nn(f,c=>e[c]))/2),a=Rn(o);for(let f=0;f<r;f++){const c=a-o[f];for(const s of i[f])n[s]+=c,e[s]+=c}}function a4(t,n,e){if(t===void 0&&n===cm)return dl(an);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?$o:an;switch((r?t.slice(1):t).toLowerCase()){case"value":case e:return f4(i);case"z":return c4(i);case"sum":return u4(i);case"appearance":return s4(i);case"inside-out":return dl(i)}return hl($1(t))}if(typeof t=="function")return(t.length===1?hl:l4)(t);if(Ae(t))return d4(t);throw new Error(`invalid order: ${t}`)}}function f4(t){return(n,e,r)=>(i,o)=>t(r[i],r[o])}function c4(t){return(n,e,r,i)=>(o,a)=>t(i[o],i[a])}function u4(t){return ma(t,(n,e,r,i)=>fc(Un(n),o=>Zn(o,a=>r[a]),o=>i[o]))}function s4(t){return ma(t,(n,e,r,i)=>fc(Un(n),o=>e[Ll(o,a=>r[a])],o=>i[o]))}function dl(t){return ma(t,(n,e,r,i)=>{const o=Un(n),a=fc(o,d=>e[Ll(d,l=>r[l])],d=>i[d]),f=Oe(o,d=>Zn(d,l=>r[l]),d=>i[d]),c=[],s=[];let u=0;for(const d of a)u<0?(u+=f.get(d),c.push(d)):(u-=f.get(d),s.push(d));return s.reverse().concat(c)})}function hl(t){return n=>{const e=_t(n,t);return(r,i)=>an(e[r],e[i])}}function l4(t){return n=>Ae(n)?(e,r)=>t(n[e],n[r]):(e,r)=>t(n.get(e),n.get(r))}function d4(t){return ma(an,()=>t)}function ma(t,n){return(e,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new ge(n(e,r,i,o).map((f,c)=>[f,c]));return(f,c)=>t(a.get(o[f]),a.get(o[c]))}}function h4(t,{inset:n=0,insetTop:e=n,insetRight:r=n,insetBottom:i=n,insetLeft:o=n}={}){t.insetTop=kt(e),t.insetRight=kt(r),t.insetBottom=kt(i),t.insetLeft=kt(o)}function p4(t,{r:n,rx:e,ry:r,rx1:i=n,ry1:o=n,rx2:a=n,ry2:f=n,rx1y1:c=i!==void 0?+i:o!==void 0?+o:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:u=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){c||s||u||d?(t.rx1y1=c,t.rx1y2=s,t.rx2y1=u,t.rx2y2=d):(t.rx=vt(e,"auto"),t.ry=vt(r,"auto"))}function m4(t,n,e,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:c,rx2y2:s}=o;typeof n!="function"&&(n=Ln(n)),typeof e!="function"&&(e=Ln(e)),typeof r!="function"&&(r=Ln(r)),typeof i!="function"&&(i=Ln(i));const u=Math.max(Math.abs(a+c),Math.abs(f+s)),d=Math.max(Math.abs(a+f),Math.abs(c+s));t.attr("d",l=>{const h=n(l),p=e(l),m=r(l),g=i(l),y=h>m,b=p>g,v=y?m:h,_=y?h:m,M=b?g:p,w=b?p:g,x=Math.min(1,(_-v)/u,(w-M)/d),T=x*(y?b?s:c:b?f:a),A=x*(y?b?f:a:b?s:c),E=x*(y?b?a:f:b?c:s),$=x*(y?b?c:s:b?a:f);return`M${v},${M+Ri(T,$)}A${T},${T} 0 0 ${T<0?0:1} ${v+Di(T,$)},${M}H${_-Di(A,E)}A${A},${A} 0 0 ${A<0?0:1} ${_},${M+Ri(A,E)}V${w-Ri(E,A)}A${E},${E} 0 0 ${E<0?0:1} ${_-Di(E,A)},${w}H${v+Di($,T)}A${$},${$} 0 0 ${$<0?0:1} ${v},${w-Ri($,T)}Z`})}function Di(t,n){return n<0?t:Math.abs(t)}function Ri(t,n){return n<0?Math.abs(t):t}const g4={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},b4={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class y4 extends Kt{constructor(n={}){const{anchor:e=null}=n;super(Hi,void 0,n,e==null?g4:b4),this.anchor=C1(e,"anchor",["top","right","bottom","left"]),h4(this,n),e||p4(this,n)}render(n,e,r,i,o){const{marginTop:a,marginRight:f,marginBottom:c,marginLeft:s,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:b,rx1y1:v,rx1y2:_,rx2y1:M,rx2y2:w}=this,x=s+g,T=u-f-p,A=a+h,E=d-c-m;return xt(l?"svg:line":v||_||M||w?"svg:path":"svg:rect",o).datum(0).call(Bn,this,i,o).call(Yn,this).call(sr,this,r).call(Hn,this,{}).call(l==="left"?$=>$.attr("x1",x).attr("x2",x).attr("y1",A).attr("y2",E):l==="right"?$=>$.attr("x1",T).attr("x2",T).attr("y1",A).attr("y2",E):l==="top"?$=>$.attr("x1",x).attr("x2",T).attr("y1",A).attr("y2",A):l==="bottom"?$=>$.attr("x1",x).attr("x2",T).attr("y1",E).attr("y2",E):v||_||M||w?$=>$.call(m4,x,A,T,E,this):$=>$.attr("x",x).attr("y",A).attr("width",T-x).attr("height",E-A).attr("rx",y).attr("ry",b)).node()}}function _4(t){return new y4(t)}const Ja={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},w4=new Set(["geometry","href","src","ariaLabel","scales"]);class v4 extends Kt{constructor(n,e={}){e.tip&&(e={...e,tip:!1}),e.title===void 0&&ie(n)&&I1(n)&&(e={...e,title:zt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:c,anchor:s,preferredAnchor:u="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:v,format:_,textAnchor:M="start",textOverflow:w,textPadding:x=8,title:T,pointerSize:A=12,pathFilter:E="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=e;super(n,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&c!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:c==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:c,scale:"y",optional:f==null},title:{value:T,optional:!0}},e,Ja),this.anchor=Wf(s,"anchor"),this.preferredAnchor=Wf(u,"preferredAnchor"),this.frameAnchor=aa(v),this.textAnchor=vt(M,"middle"),this.textPadding=+x,this.pointerSize=+A,this.pathFilter=Et(E),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=Np(w),this.monospace=!!d,this.fontFamily=Et(l),this.fontSize=kt(h),this.fontStyle=Et(p),this.fontVariant=Et(m),this.fontWeight=Et(g);for(const $ in Ja)$ in this.channels&&(this[$]=Ja[$]);this.splitLines=Dp(this),this.clipLine=Rp(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(n,e,r,i,o){const a=this,{x:f,y:c,fx:s,fy:u}=e,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:v}=this,{marginTop:_,marginLeft:M}=i,{x1:w,y1:x,x2:T,y2:A,x:E=w??T,y:$=x??A}=r,N=s?s(n.fx)-M:0,F=u?u(n.fy)-_:0,[L,S]=gi(this,i),D=mp(r,L),j=gp(r,S),H=p?lu:su,W=H(Be);let R,O;"title"in r?(R=pl.call(this,{title:r.channels.title},e),O=S4):(R=pl.call(this,r.channels,e),O=A4);const P=xt("svg:g",o).call(Bn,this,i,o).call(Lp,this).call(Hn,this,{x:E&&f,y:$&&c}).call(B=>B.selectAll().data(n).enter().append("g").attr("transform",X=>`translate(${Math.round(D(X))},${Math.round(j(X))})`).call(Yn,this).call(X=>X.append("path").attr("filter",v)).call(X=>X.append("text").each(function(U){const q=ze(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const k=O.call(a,U,n,R,e,r);if(typeof k=="string")for(const I of a.splitLines(k))z(q,{value:a.clipLine(I)});else{const I=new Set;for(const Y of k){const{label:C=""}=Y;C&&I.has(C)||(I.add(C),z(q,Y))}}})));function z(B,{label:X,value:U,color:q,opacity:k}){X??(X=""),U??(U="");const I=q!=null||k!=null;let Y,C=g*100;const[rt]=or(X,C,H,W);if(rt>=0)X=X.slice(0,rt).trimEnd()+Be,Y=U.trim(),U="";else{(X||!U&&!I)&&(U=" "+U);const[at]=or(U,C-H(X),H,W);at>=0&&(Y=U.trim(),U=U.slice(0,at).trimEnd()+Be)}const V=B.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");X&&V.append("tspan").attr("font-weight","bold").text(X),U&&V.append(()=>l.createTextNode(U)),I&&V.append("tspan").text(" ").attr("fill",q).attr("fill-opacity",k).style("user-select","none"),Y&&V.append("title").text(Y)}function tt(){const{width:B,height:X}=i.facet??i;P.selectChildren().each(function(U){let{x:q,width:k,height:I}=this.getBBox();k=Math.round(k),I=Math.round(I);let Y=h;if(Y===void 0){const V=D(U)+N,at=j(U)+F,ut=V+k+b+y*2<B,Mt=V-k-b-y*2>0,Wn=at+I+b+y*2<X,fe=at-I-b-y*2>0;Y=ut&&Mt?Wn&&fe?a.preferredAnchor:fe?"bottom":"top":Wn&&fe?ut?"left":"right":(ut||Mt)&&(Wn||fe)?`${fe?"bottom":"top"}-${ut?"left":"right"}`:a.preferredAnchor}const C=this.firstChild,rt=this.lastChild;if(C.setAttribute("d",T4(Y,b,y,k,I)),q)for(const V of rt.childNodes)V.setAttribute("x",-q);rt.setAttribute("y",`${+M4(Y,rt.childNodes.length,m).toFixed(6)}em`),rt.setAttribute("transform",`translate(${$4(Y,b,y,k,I)})`)}),P.attr("visibility",null)}return n.length&&(P.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(tt):typeof requestAnimationFrame<"u"&&requestAnimationFrame(tt)),P.node()}}function x4(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ia(n,e)),new v4(t,{...r,x:n,y:e})}function M4(t,n,e){return/^top(?:-|$)/.test(t)?.94-e:-.29-n*e}function $4(t,n,e,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[e,n+e];case"top":return[-r/2,n/2+e];case"top-right":return[-r-e,n+e];case"right":return[-n/2-r-e,i/2];case"bottom-left":return[e,-n-e];case"bottom":return[-r/2,-n/2-e];case"bottom-right":return[-r-e,-n-e];case"left":return[e+n/2,i/2]}}function T4(t,n,e,r,i){const o=r+e*2,a=i+e*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${n},${n}h${o-n}v${a}h${-o}z`;case"top":return`M0,0l${n/2},${n/2}h${(o-n)/2}v${a}h${-o}v${-a}h${(o-n)/2}z`;case"top-right":return`M0,0l${-n},${n}h${n-o}v${a}h${o}z`;case"right":return`M0,0l${-n/2},${-n/2}v${n/2-a/2}h${-o}v${a}h${o}v${n/2-a/2}z`;case"bottom-left":return`M0,0l${n},${-n}h${o-n}v${-a}h${-o}z`;case"bottom":return`M0,0l${n/2},${-n/2}h${(o-n)/2}v${-a}h${-o}v${a}h${(o-n)/2}z`;case"bottom-right":return`M0,0l${-n},${-n}h${n-o}v${-a}h${o}z`;case"left":return`M0,0l${n/2},${-n/2}v${n/2-a/2}h${o}v${a}h${-o}v${n/2-a/2}z`}}function pl(t,n){var i,o;const e={};let r=this.format;r=ml(r,t,"x"),r=ml(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")e[a]=!0;else{const c=Ys(t,a);c&&(e[a]=c)}}for(const a in t){if(a in e||a in r||w4.has(a)||(a==="x"||a==="y")&&t.geometry)continue;const f=Ys(t,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;e[a]=f}}this.facet&&(n.fx&&!("fx"in r)&&(e.fx=!0),n.fy&&!("fy"in r)&&(e.fy=!0));for(const a in e){const f=this.format[a];if(typeof f=="string"){const c=((i=e[a])==null?void 0:i.value)??((o=n[a])==null?void 0:o.domain())??[];this.format[a]=(Rt(c)?fi:fr)(f)}else if(f===void 0||f===!0){const c=n[a];this.format[a]=c!=null&&c.bandwidth?du(c,c.domain()):ir}}return e}function ml(t,n,e){if(!(e in t))return t;const r=`${e}1`,i=`${e}2`;if((r in t||!(r in n))&&(i in t||!(i in n)))return t;const o=Object.entries(t),a=t[e];return o.splice(o.findIndex(([f])=>f===e)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function S4(t,n,{title:e}){return this.format.title(e.value[t],t)}function*A4(t,n,e,r,i){for(const o in e){if(o==="fx"||o==="fy"){yield{label:ko(r,e,o),value:this.format[o](n[o],t)};continue}if(o==="x1"&&"x2"in e||o==="y1"&&"y2"in e)continue;const a=e[o];if(o==="x2"&&"x1"in e)yield{label:bl(r,e,"x"),value:gl(this.format.x2,e.x1,a,t)};else if(o==="y2"&&"y1"in e)yield{label:bl(r,e,"y"),value:gl(this.format.y2,e.y1,a,t)};else{const f=a.value[t],c=a.scale;if(!Jn(f)&&c==null)continue;yield{label:ko(r,e,o),value:this.format[o](f,t),color:c==="color"?i[o][t]:null,opacity:c==="opacity"?i[o][t]:null}}}}function gl(t,n,e,r){var i;return(i=e.hint)!=null&&i.length?`${t(e.value[r]-n.value[r],r)}`:`${t(n.value[r],r)}${t(e.value[r],r)}`}function bl(t,n,e){const r=ko(t,n,`${e}1`,e),i=ko(t,n,`${e}2`,e);return r===i?r:`${r}${i}`}function ko(t,n,e,r=e){const i=n[e],o=t[(i==null?void 0:i.scale)??e];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function rc(t={}){var W;const{facet:n,style:e,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,c=da(t.className),s=t.marks===void 0?[]:_l(t.marks);s.push(...D4(s));const u=I4(n,t),d=new Map;for(const R of s){const O=wl(R,u,t);O&&d.set(R,O)}const l=new Map;u&&_r(l,[u],t),_r(l,d,t);const h=_l(R4(s,l,t));for(const R of h){const O=wl(R,u,t);O&&d.set(R,O)}s.unshift(...h);let p=o5(l,t);if(p!==void 0){const R=u?ja(p,u):void 0;for(const P of s){if(P.facet===null||P.facet==="super")continue;const z=d.get(P);z!==void 0&&(z.facetsIndex=P.fx!=null||P.fy!=null?ja(p,z):R)}const O=new Set;for(const{facetsIndex:P}of d.values())P==null||P.forEach((z,tt)=>{(z==null?void 0:z.length)>0&&O.add(tt)});p.forEach(0<O.size&&O.size<p.length?(P,z)=>P.empty=!O.has(z):P=>P.empty=!1);for(const P of s)if(P.facet==="exclude"){const z=d.get(P);z!==void 0&&(z.facetsIndex=c5(z.facetsIndex))}}for(const R of dt.keys())Yf(t[R])&&R!=="fx"&&R!=="fy"&&l.set(R,[]);const m=new Map;for(const R of s){if(m.has(R))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:O,channels:P}=d.get(R)??{},{data:z,facets:tt,channels:B}=R.initialize(O,P,t);hu(B,t),m.set(R,{data:z,facets:tt,channels:B})}const g=Gf(_r(l,m,t),t),y=V5(g,s,t);G3(g,y);const b=Zs(g),{fx:v,fy:_}=b,M=v||_?rp(g,y):y,w=v||_?B4(b,y):y,x=eu(t),T=x.document,A=Ro("svg").call(T.documentElement);let E=A;x.ownerSVGElement=A,x.className=c,x.projection=b5(t,M),x.filterFacets=(R,O)=>ja(p,{channels:O,groups:nu(R,O)}),x.getMarkState=R=>{const O=m.get(R),P=d.get(R);return{...O,channels:{...O.channels,...P==null?void 0:P.channels}}},x.dispatchValue=R=>{E.value!==R&&(E.value=R,E.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[R,O]of m)if(R.initializer!=null){const P=R.facet==="super"?w:M,z=R.initializer(O.data,O.facets,O.channels,b,P,x);if(z.data!==void 0&&(O.data=z.data),z.facets!==void 0&&(O.facets=z.facets),z.channels!==void 0){const{fx:tt,fy:B,...X}=z.channels;N4(X),Object.assign(O.channels,X);for(const U of Object.values(X)){const{scale:q}=U;q!=null&&!zv(dt.get(q))&&(lm(U,t),$.add(q))}(tt!=null||B!=null)&&d.set(R,!0)}}if($.size){const R=new Map;_r(R,m,t,tt=>$.has(tt)),_r(l,m,t,tt=>$.has(tt));const O=q4(Gf(R,t),g),{scales:P,...z}=Zs(O);Object.assign(g,O),Object.assign(b,z),Object.assign(b.scales,P)}let N,F;p!==void 0&&(N={x:v==null?void 0:v.domain(),y:_==null?void 0:_.domain()},p=a5(p,N),F=f5(v,_,y));for(const[R,O]of m)O.values=R.scale(O.channels,b,x);const{width:L,height:S}=y;ze(A).attr("class",c).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",L).attr("height",S).attr("viewBox",`0 0 ${L} ${S}`).attr("aria-label",a).attr("aria-description",f).call(R=>R.append("style").text(`:where(.${c}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${c} text),
:where(.${c} tspan) {
  white-space: pre;
}`)).call(iu,e);for(const R of s){const{channels:O,values:P,facets:z}=m.get(R);if(p===void 0||R.facet==="super"){let tt=null;if(z&&(tt=z[0],tt=R.filter(tt,O,P),tt.length===0))continue;const B=R.render(tt,b,P,w,x);if(B==null)continue;A.appendChild(B)}else{let tt;for(const B of p){if(!(((W=R.facetAnchor)==null?void 0:W.call(R,p,N,B))??!B.empty))continue;let X=null;if(z){const q=d.has(R);if(X=z[q?B.i:0],X=R.filter(X,O,P),X.length===0)continue;!q&&X===z[0]&&(X=$v(X)),X.fx=B.x,X.fy=B.y,X.fi=B.i}const U=R.render(X,b,P,M,x);if(U!=null){(tt??(tt=ze(A).append("g"))).append(()=>U).datum(B);for(const q of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(q)&&(tt.attr(q,U.getAttribute(q)),U.removeAttribute(q))}}tt==null||tt.selectChildren().attr("transform",F)}}const D=G8(g,x,t),{figure:j=r!=null||i!=null||o!=null||D.length>0}=t;j&&(E=T.createElement("figure"),E.className=`${c}-figure`,E.style.maxWidth="initial",r!=null&&E.append(yl(T,r,"h2")),i!=null&&E.append(yl(T,i,"h3")),E.append(...D,A),o!=null&&E.append(k4(T,o)),"value"in A&&(E.value=A.value,delete A.value)),E.scale=r5(b.scales),E.legend=V8(g,x,t);const H=I3();return H>0&&ze(A).append("text").attr("x",L).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),E}function yl(t,n,e){if(n.ownerDocument)return n;const r=t.createElement(e);return r.append(n),r}function k4(t,n){const e=t.createElement("figcaption");return e.append(n),e}function _l(t){return t.flat(1/0).filter(n=>n!=null).map(C4)}function C4(t){return typeof t.render=="function"?t:new E4(t)}class E4 extends Kt{constructor(n){if(typeof n!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=n}render(){}}function hu(t,n){for(const e in t)lm(t[e],n);return t}function lm(t,n){const{scale:e,transform:r=!0}=t;if(e==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?c=>c==null?NaN:c*100:N1(a,i)}=n[e]??{};f!=null&&(t.value=ht(t.value,f),t.transform=!1)}function N4(t){for(const n in t)Y1(n,t[n])}function _r(t,n,e,r=wv){var i,o;for(const{channels:a}of n.values())for(const f in a){const c=a[f],{scale:s}=c;if(s!=null&&r(s))if(s==="projection"){if(!v5(e)){const u=((i=e.x)==null?void 0:i.domain)===void 0,d=((o=e.y)==null?void 0:o.domain)===void 0;if(u||d){const[l,h]=M5(c);u&&tf(t,"x",l),d&&tf(t,"y",h)}}}else tf(t,s,c)}return t}function tf(t,n,e){const r=t.get(n);r!==void 0?r.push(e):t.set(n,[e])}function I4(t,n){if(t==null)return;const{x:e,y:r}=t;if(e==null&&r==null)return;const i=nr(t.data);if(i==null)throw new Error("missing facet data");const o={};e!=null&&(o.fx=Vr(i,{value:e,scale:"fx"})),r!=null&&(o.fy=Vr(i,{value:r,scale:"fy"})),hu(o,n);const a=nu(i,o);return{channels:o,groups:a,data:t.data}}function wl(t,n,e){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const c=nr(t.data??r??i);if(c===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(c===null)return;const s={};return r!=null&&(s.fx=Vr(c,{value:r,scale:"fx"})),i!=null&&(s.fy=Vr(c,{value:i,scale:"fy"})),hu(s,e),{channels:s,groups:nu(c,s)}}if(n===void 0)return;const{channels:o,groups:a,data:f}=n;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&Hr(nr(t.data))===Hr(f)&&Gn(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function L4(t,n={}){return rr({...n,x:null,y:null},(e,r,i,o,a,f)=>f.getMarkState(t))}function D4(t){const n=[];for(const e of t){let r=e.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?G5:/^y$/i.test(i)?il:j5,r=i(L4(e,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===il?"left":"bottom");const a=x4(e.data,r);a.facet=e.facet,a.facetAnchor=e.facetAnchor,n.push(a)}}return n}function R4(t,n,e){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:c,grid:s,facet:u={},facet:{axis:d=c,grid:l}=u,x:{axis:h=c,grid:p=h===null?null:s}=i,y:{axis:m=c,grid:g=m===null?null:s}=o,fx:{axis:y=d,grid:b=y===null?null:l}=a,fy:{axis:v=d,grid:_=v===null?null:l}=f}=e;(r||!Yf(i)&&!vl("x",t))&&(h=p=null),(r||!Yf(o)&&!vl("y",t))&&(m=g=null),n.has("fx")||(y=b=null),n.has("fy")||(v=_=null),h===void 0&&(h=!Oi(t,"x")),m===void 0&&(m=!Oi(t,"y")),y===void 0&&(y=!Oi(t,"fx")),v===void 0&&(v=!Oi(t,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),v===!0&&(v=m==="right"||m===null?"left":"right");const M=[];return Pi(M,_,F8,f),Fi(M,v,C8,"right","left",u,f),Pi(M,b,O8,a),Fi(M,y,E8,"top","bottom",u,a),Pi(M,g,R8,o),Fi(M,m,Wp,"left","right",e,o),Pi(M,p,P8,i),Fi(M,h,Vp,"bottom","top",e,i),M}function Fi(t,n,e,r,i,o,a){if(!n)return;const f=F4(n);a=P4(f?r:n,o,a);const{line:c}=a;(e===Wp||e===Vp)&&c&&!Wr(c)&&t.push(_4(O4(a))),t.push(e(a)),f&&t.push(e({...a,anchor:i,label:null}))}function Pi(t,n,e,r){!n||Wr(n)||t.push(e(z4(n,r)))}function F4(t){return/^\s*both\s*$/i.test(t)}function P4(t,n,{line:e=n.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l=n.label,labelAnchor:h,labelArrow:p=n.labelArrow,labelOffset:m}){return{anchor:t,line:e,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:c,fontVariant:s,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:m}}function O4(t){const{anchor:n,line:e}=t;return{anchor:n,facetAnchor:n+"-empty",stroke:e===!0?void 0:e}}function z4(t,{stroke:n=oa(t)?t:void 0,ticks:e=U4(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:n,ticks:e,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function U4(t){switch(typeof t){case"number":return!0;case"string":return!oa(t)}return ie(t)||typeof(t==null?void 0:t.range)=="function"}function Oi(t,n){const e=`${n}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(e)})}function vl(t,n){for(const e of n)for(const r in e.channels){const{scale:i}=e.channels[r];if(i===t||i==="projection")return!0}return!1}function q4(t,n){for(const e in t){const r=t[e],i=n[e];r.label===void 0&&i&&(r.label=i.label)}return t}function B4({fx:t,fy:n},e){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:c}=tu(e),s=t&&xl(t),u=n&&xl(n);return{marginTop:n?u[0]:r,marginRight:t?f-s[1]:i,marginBottom:n?c-u[1]:o,marginLeft:t?s[0]:a,inset:{marginTop:e.marginTop,marginRight:e.marginRight,marginBottom:e.marginBottom,marginLeft:e.marginLeft},width:f,height:c}}function xl(t){const n=t.domain();if(n.length===0)return[0,t.bandwidth()];let e=t(n[0]),r=t(n[n.length-1]);return r<e&&([e,r]=[r,e]),[e,r+t.bandwidth()]}const Y4=new Map([["basis",W6],["basis-closed",V6],["basis-open",X6],["bundle",j6],["bump-x",D6],["bump-y",R6],["cardinal",G6],["cardinal-closed",Z6],["cardinal-open",K6],["catmull-rom",Q6],["catmull-rom-closed",J6],["catmull-rom-open",tv],["linear",ci],["linear-closed",nv],["monotone-x",ev],["monotone-y",rv],["natural",iv],["step",ov],["step-after",fv],["step-before",av]]);function dm(t=ci,n){if(typeof t=="function")return t;const e=Y4.get(`${t}`.toLowerCase());if(!e)throw new Error(`unknown curve: ${t}`);if(n!==void 0){if("beta"in e)return e.beta(n);if("tension"in e)return e.tension(n);if("alpha"in e)return e.alpha(n)}return e}function H4(t=Co,n){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Co:dm(t,n)}function Co(t){return ci(t)}function W4(t={y:"count"},n={}){[t,n]=G4(t,n);const{x:e,y:r}=n;return j4(Z4(e,n,zt),null,null,r,t,fu(n))}function V4(t,n,e={}){if((e==null?void 0:e.interval)==null)return e;const{reduce:r=Zc}=e,i={filter:null};return e[n]!=null&&(i[n]=r),e[`${n}1`]!=null&&(i[`${n}1`]=r),e[`${n}2`]!=null&&(i[`${n}2`]=r),t(i,e)}function X4(t={}){return V4(W4,"y",ha(t,"x"))}function j4(t,n,e,r,{data:i=B1,filter:o=So,sort:a,reverse:f,...c}={},s={}){t=Ml(t),n=Ml(n),c=Q4(c,s),i=mm(i,zt),a=a==null?void 0:hm("sort",a,s),o=o==null?void 0:pm("filter",o,s),r!=null&&qa(c,"y","y1","y2")&&(r=null);const[u,d]=Sn(t),[l,h]=Sn(t),[p,m]=Sn(n),[g,y]=Sn(n),[b,v]=r!=null?[r,"y"]:[],[_,M]=Sn(b),{x:w,y:x,z:T,fill:A,stroke:E,x1:$,x2:N,y1:F,y2:L,domain:S,cumulative:D,thresholds:j,interval:H,...W}=s,[R,O]=Sn(T),[P]=zn(A),[z]=zn(E),[tt,B]=Sn(P),[X,U]=Sn(z);return{..."z"in s&&{z:R||T},..."fill"in s&&{fill:tt||A},..."stroke"in s&&{stroke:X||E},...ca(W,(q,k,I)=>{const Y=E1(_t(q,b),I==null?void 0:I[v]),C=_t(q,T),rt=_t(q,P),V=_t(q,z),at=Jv(c,{z:C,fill:rt,stroke:V}),ut=[],Mt=[],Wn=Y&&M([]),fe=C&&O([]),bm=rt&&B([]),ym=V&&U([]),mu=t&&d([]),_m=t&&h([]),gu=n&&m([]),wm=n&&y([]),vm=n7(t,n,q);let xm=0;for(const Ee of c)Ee.initialize(q);a&&a.initialize(q),o&&o.initialize(q);for(const Ee of k){const bu=[];for(const Ne of c)Ne.scope("facet",Ee);a&&a.scope("facet",Ee),o&&o.scope("facet",Ee);for(const[Ne,Mm]of zs(Ee,at))for(const[$m,bi]of zs(Mm,Y))for(const[un,wn]of vm(bi))if(at&&(wn.z=Ne),!(o&&!o.reduce(un,wn))){bu.push(xm++),Mt.push(i.reduceIndex(un,q,wn)),Y&&Wn.push($m),C&&fe.push(at===C?Ne:C[(un.length>0?un:bi)[0]]),rt&&bm.push(at===rt?Ne:rt[(un.length>0?un:bi)[0]]),V&&ym.push(at===V?Ne:V[(un.length>0?un:bi)[0]]),mu&&(mu.push(wn.x1),_m.push(wn.x2)),gu&&(gu.push(wn.y1),wm.push(wn.y2));for(const Tm of c)Tm.reduce(un,wn);a&&a.reduce(un,wn)}ut.push(bu)}return t3(ut,a,f),{data:Mt,facets:ut}}),...!qa(c,"x")&&(u?{x1:u,x2:l,x:Hf(u,l)}:{x:w,x1:$,x2:N}),...!qa(c,"y")&&(p?{y1:p,y2:g,y:Hf(p,g)}:{y:x,y1:F,y2:L}),..._&&{[v]:_},...Object.fromEntries(c.map(({name:q,output:k})=>[q,k]))}}function G4({cumulative:t,domain:n,thresholds:e,interval:r,...i},o){return[i,{cumulative:t,domain:n,thresholds:e,interval:r,...o}]}function Z4(t,{cumulative:n,domain:e,thresholds:r,interval:i},o){return t={...si(t)},t.domain===void 0&&(t.domain=e),t.cumulative===void 0&&(t.cumulative=n),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=K4(t.thresholds,t.interval),t}function Ml(t){if(t==null)return;const{value:n,cumulative:e,domain:r=Wt,thresholds:i}=t,o=a=>{let f=_t(a,n),c;if(Rt(f)||t7(i)){f=ht(f,k1,Float64Array);let[u,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Pe(i)?i(f,u,d):i;typeof l=="number"&&(l=vh(u,d,l)),Pe(l)&&(r===Wt&&(u=l.floor(u),d=l.offset(l.floor(d))),l=l.range(u,l.offset(d))),c=l}else{f=tr(f);let[u,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Pe(i)?i(f,u,d):i;if(typeof l=="number")if(r===Wt){let h=ji(u,d,l);if(isFinite(h))if(h>0){let p=Math.round(u/h),m=Math.round(d/h);p*h<=u||--p,m*h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(u*h),m=Math.round(d*h);p/h<=u||--p,m/h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)/h}else l=[u];else l=[u]}else l=Lr(u,d,l);else Pe(l)&&(r===Wt&&(u=l.floor(u),d=l.offset(l.floor(d))),l=l.range(u,l.offset(d)));c=l}const s=[];if(c.length===1)s.push([c[0],c[0]]);else for(let u=1;u<c.length;++u)s.push([c[u-1],c[u]]);return s.bin=(e<0?r7:e>0?e7:pu)(s,c,f),s};return o.label=ke(n),o}function K4(t,n,e=$l){if(t===void 0)return n===void 0?e:ur(n);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return og;case"scott":return Dl;case"sturges":return ng;case"auto":return $l}return Oc(t)}return t}function Q4(t,n){return Zv(t,n,hm)}function hm(t,n,e){return U1(t,n,e,pm)}function pm(t,n,e){return q1(t,n,e,mm)}function mm(t,n){return Gc(t,n,J4)}function J4(t){switch(`${t}`.toLowerCase()){case"x":return i7;case"x1":return a7;case"x2":return f7;case"y":return o7;case"y1":return c7;case"y2":return u7;case"z":return f3}throw new Error(`invalid bin reduce: ${t}`)}function $l(t,n,e){return Math.min(200,Dl(t,n,e))}function t7(t){return kv(t)||ie(t)&&Rt(t)}function n7(t,n,e){const r=t==null?void 0:t(e),i=n==null?void 0:n(e);return r&&i?function*(o){const a=r.bin(o);for(const[f,[c,s]]of r.entries()){const u=i.bin(a[f]);for(const[d,[l,h]]of i.entries())yield[u[d],{data:e,x1:c,y1:l,x2:s,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[c,s]]of r.entries())yield[a[f],{data:e,x1:c,x2:s}]}:function*(o){const a=i.bin(o);for(const[f,[c,s]]of i.entries())yield[a[f],{data:e,y1:c,y2:s}]}}function pu(t,n,e){return n=tr(n),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[No(n,e[a])-1])==null||o.push(a);return i}}function e7(t,n,e){const r=pu(t,n,e);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const c=o[a-1],s=o[a];for(const u of c)s.push(u)}return o}}function r7(t,n,e){const r=pu(t,n,e);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],c=o[a];for(const s of f)c.push(s)}return o}}function gm(t,n){const e=(+t+ +n)/2;return t instanceof Date?new Date(e):e}const i7={reduceIndex(t,n,{x1:e,x2:r}){return gm(e,r)}},o7={reduceIndex(t,n,{y1:e,y2:r}){return gm(e,r)}},a7={reduceIndex(t,n,{x1:e}){return e}},f7={reduceIndex(t,n,{x2:e}){return e}},c7={reduceIndex(t,n,{y1:e}){return e}},u7={reduceIndex(t,n,{y2:e}){return e}},s7={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class l7 extends Kt{constructor(n,e={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:c,tension:s}=e;super(n,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Bc(e),optional:!0}},e,s7),this.z=f,this.curve=dm(c,s)}filter(n){return n}render(n,e,r,i,o){const{x1:a,y1:f,x2:c=a,y2:s=f}=r;return xt("svg:g",o).call(Bn,this,i,o).call(Hn,this,e,0,0).call(u=>u.selectAll().data(sp(n,[a,f,c,s],this,r)).enter().append("path").call(Yn,this).call(up,this,r).attr("d",L6().curve(this.curve).defined(d=>d>=0).x0(d=>a[d]).y0(d=>f[d]).x1(d=>c[d]).y1(d=>s[d]))).node()}}function d7(t,n){const{x:e=T1,...r}=X4(n);return new l7(t,J8(Z8({...r,x1:e,x2:void 0})))}const h7={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function p7(t){return t.sort===void 0&&t.reverse===void 0?Xv({channel:"-r"},t):t}class m7 extends Kt{constructor(n,e={}){const{x:r,y:i,r:o,rotate:a,symbol:f=Br,frameAnchor:c}=e,[s,u]=Nt(a,0),[d,l]=Wv(f),[h,p]=Nt(o,d==null?3:4.5);super(n,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:na,optional:!0},rotate:{value:s,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},p7(e),h7),this.r=p,this.rotate=u,this.symbol=l,this.frameAnchor=aa(c);const{channels:m}=this,{symbol:g}=m;if(g){const{fill:y,stroke:b}=m;g.hint={fill:y?y.value===g.value?"color":"currentColor":this.fill??"currentColor",stroke:b?b.value===g.value?"color":"currentColor":this.stroke??"none"}}}render(n,e,r,i,o){const{x:a,y:f}=e,{x:c,y:s,r:u,rotate:d,symbol:l}=r,{r:h,rotate:p,symbol:m}=this,[g,y]=gi(this,i),b=m===Br,v=u?void 0:h*h*Math.PI;return Rc(h)&&(n=[]),xt("svg:g",o).call(Bn,this,i,o).call(Hn,this,{x:c&&a,y:s&&f}).call(_=>_.selectAll().data(n).enter().append(b?"circle":"path").call(Yn,this).call(b?M=>{M.attr("cx",c?w=>c[w]:g).attr("cy",s?w=>s[w]:y).attr("r",u?w=>u[w]:h)}:M=>{M.attr("transform",cu`translate(${c?w=>c[w]:g},${s?w=>s[w]:y})${d?w=>` rotate(${d[w]})`:p?` rotate(${p})`:""}`).attr("d",u&&l?w=>{const x=le();return l[w].draw(x,u[w]*u[w]*Math.PI),x}:u?w=>{const x=le();return m.draw(x,u[w]*u[w]*Math.PI),x}:l?w=>{const x=le();return l[w].draw(x,v),x}:(()=>{const w=le();return m.draw(w,v),w})())}).call(sr,this,r)).node()}}function g7(t,{x:n,y:e,...r}={}){return r.frameAnchor===void 0&&([n,e]=ia(n,e)),new m7(t,{...r,x:n,y:e})}const b7={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class y7 extends Kt{constructor(n,e={}){const{x:r,y:i,z:o,curve:a,tension:f}=e;super(n,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Bc(e),optional:!0}},e,b7),this.z=o,this.curve=H4(a,f),au(this,e)}filter(n){return n}project(n,e,r){this.curve!==Co&&super.project(n,e,r)}render(n,e,r,i,o){const{x:a,y:f}=r,{curve:c}=this;return xt("svg:g",o).call(Bn,this,i,o).call(Hn,this,e).call(s=>s.selectAll().data(sp(n,[a,f],this,r)).enter().append("path").call(Yn,this).call(up,this,r).call(t8,this,r,o).attr("d",c===Co&&o.projection?_7(o.projection,a,f):Y0().curve(c).defined(u=>u>=0).x(u=>a[u]).y(u=>f[u]))).node()}}function _7(t,n,e){const r=qo(t);return n=tr(n),e=tr(e),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([n[f],e[f]]);return r({type:"MultiLineString",coordinates:a})}}function nf(t,{x:n,y:e,...r}={}){return[n,e]=ia(n,e),new y7(t,{...r,x:n,y:e})}Kt.prototype.plot=function({marks:t=[],...n}={}){return rc({...n,marks:[...t,this]})};var w7=Am(`<main class="container svelte-majuhw"><header class="intro svelte-majuhw"><h1 class="svelte-majuhw">Random Number Square Root Approximation</h1> <div class="explanation svelte-majuhw"><p class="svelte-majuhw">This visualization demonstrates how we can approximate square roots using random numbers,
				based on an interesting probability relationship explained in <a href="https://youtu.be/Pny70rNPJLk" target="_blank" rel="noopener" class="svelte-majuhw">3Blue1Brown's video</a>.</p> <p class="svelte-majuhw">The key insight is that P(max(x, x)  R) = P((rand(0,1))  R) = P(rand(0,1)  R) = R.
				Therefore, if we generate many random point pairs and take the lower R portion of them, the
				maximum values of these pairs will approximate (R).</p></div></header> <div class="controls svelte-majuhw"><div class="control-group svelte-majuhw"><label class="svelte-majuhw">Target value (R): <div class="input-group svelte-majuhw"><input type="range" min="0" max="1" step="0.01" class="svelte-majuhw"> <input type="number" min="0" max="1" step="0.01" class="svelte-majuhw"></div></label></div> <div class="control-group svelte-majuhw"><label class="svelte-majuhw">Number of points: <div class="input-group svelte-majuhw"><input type="range" min="0" max="1" step="0.01" class="svelte-majuhw"> <input type="number" min="100" max="10000" step="100" class="svelte-majuhw"></div></label></div> <button class="svelte-majuhw">Generate New Points</button></div> <div class="plots-container svelte-majuhw"><div class="plots svelte-majuhw"><div class="plot-group svelte-majuhw"><div class="visualization svelte-majuhw"></div> <div class="legend svelte-majuhw"><h3 class="svelte-majuhw">Scatter Plot Legend</h3> <div class="legend-item svelte-majuhw"><span class="color-dot svelte-majuhw" style="background: red; opacity: 0.6"></span> <span>Points where max(x,y)  R</span></div> <div class="legend-item svelte-majuhw"><span class="color-dot svelte-majuhw" style="background: blue; opacity: 0.6"></span> <span>Points where max(x,y) > R</span></div> <div class="legend-item svelte-majuhw"><span class="color-line svelte-majuhw" style="background: green"></span> <span>Actual (R)</span></div> <div class="legend-item svelte-majuhw"><span class="color-line svelte-majuhw" style="background: red"></span> <span>Approximated (R)</span></div></div></div> <div class="plot-group svelte-majuhw"><div class="histogram svelte-majuhw"></div> <div class="legend svelte-majuhw"><h3 class="svelte-majuhw">Distribution Legend</h3> <div class="legend-item svelte-majuhw"><span class="color-dot svelte-majuhw" style="background: steelblue"></span> <span>Cumulative proportion of points where max(x,y)  x</span></div> <div class="legend-item svelte-majuhw"><div class="color-area svelte-majuhw"></div> <span>Points where max(x,y)  approximated (R)</span></div> <div class="legend-item svelte-majuhw"><span class="color-line svelte-majuhw" style="background: green"></span> <span>Actual (R)</span></div> <div class="legend-item svelte-majuhw"><span class="color-line svelte-majuhw" style="background: red"></span> <span>Approximated (R)</span></div></div></div></div></div> <div class="stats svelte-majuhw"><p> </p> <p> </p> <p> </p></div></main>`);function S7(t,n){Lm(n,!1);let e=vn(),r=vn(.5),i=vn(1e3),o=vn([]),a=vn(0),f=vn(Math.sqrt(G(r))),c=vn(),s=vn(G(r)),u=vn(G(i));function d(B){return Math.round(Math.pow(10,2+B*2))}function l(B){return(Math.log10(B)-2)/2}function h(){var q;const X=[];for(let k=0;k<G(i);k+=1e3){const I=Array.from({length:Math.min(1e3,G(i)-k)},()=>{const Y=Math.random(),C=Math.random();return{x:Y,y:C,max:Math.max(Y,C)}});X.push(...I)}X.sort((k,I)=>k.max-I.max);const U=Math.floor(X.length*G(r));Ut(o,X.map((k,I)=>({...k,selected:I<=U}))),Ut(a,((q=G(o)[U])==null?void 0:q.max)||0),Ut(f,Math.sqrt(G(r))),p()}function p(){if(!G(e)||!G(c))return;const B=600,X=rc({width:B,height:B,grid:!0,x:{domain:[0,1]},y:{domain:[0,1]},marks:[g7(G(o),{x:"x",y:"y",fill:k=>k.selected?"red":"blue",opacity:.6,r:3}),nf([[0,G(f)],[G(f),G(f)],[G(f),0]],{stroke:"green",strokeDasharray:"4 4"}),nf([[0,G(a)],[G(a),G(a)],[G(a),0]],{stroke:"red",strokeDasharray:"4 4"})]}),U=G(o).map(k=>k.max).sort((k,I)=>k-I).map((k,I)=>({x:k,y:(I+1)/G(o).length})),q=rc({width:B,height:B*.4,grid:!0,x:{domain:[0,1],label:"x"},y:{domain:[0,1],label:"Proportion of points where max(x,y)  x",grid:!0},marks:[d7(U.filter(k=>k.x<=G(a)),{x:"x",y:"y",fill:"rgba(255, 0, 0, 0.2)"}),nf(U,{x:"x",y:"y",stroke:"steelblue",strokeWidth:2}),tc([G(f)],{stroke:"green",strokeDasharray:"4 4"}),tc([G(a)],{stroke:"red",strokeDasharray:"4 4"}),kp([G(r)],{stroke:"#666",strokeDasharray:"2 2"})]});yu(e,G(e).innerHTML=""),yu(c,G(c).innerHTML=""),G(e).appendChild(X),G(c).appendChild(q)}zm(()=>{h()}),Dm(()=>(G(r),G(o)),()=>{Ut(f,Math.sqrt(G(r))),G(o).length>0&&h()}),Rm(),km();var m=w7(),g=qt($t(m),2),y=$t(g),b=$t(y),v=qt($t(b)),_=$t(v);_i(_);var M=qt(_,2);_i(M),Tt(v),Tt(b),Tt(y);var w=qt(y,2),x=$t(w),T=qt($t(x)),A=$t(T);_i(A),yi(()=>Um(A,l(G(i))));var E=qt(A,2);_i(E),Tt(T),Tt(x),Tt(w);var $=qt(w,2);Tt(g);var N=qt(g,2),F=$t(N),L=$t(F),S=$t(L);wu(S,B=>Ut(e,B),()=>G(e)),_u(2),Tt(L);var D=qt(L,2),j=$t(D);wu(j,B=>Ut(c,B),()=>G(c)),_u(2),Tt(D),Tt(F),Tt(N);var H=qt(N,2),W=$t(H),R=$t(W);yi(()=>ba(R,`Approximated (R): ${G(a).toFixed(4)??""}`)),Tt(W);var O=qt(W,2),P=$t(O);yi(()=>ba(P,`Actual (R): ${G(f).toFixed(4)??""}`)),Tt(O);var z=qt(O,2),tt=$t(z);yi(()=>ba(tt,`Error: ${Math.abs(G(a)-G(f)).toFixed(4)??""}`)),Tt(z),Tt(H),Tt(m),ya(_,()=>G(r),B=>Ut(r,B)),ga("change",_,()=>{Ut(s,G(r)),h()}),ya(M,()=>G(s),B=>Ut(s,B)),ga("change",A,B=>{Ut(i,d(parseFloat(B.currentTarget.value))),Ut(u,G(i)),h()}),ya(E,()=>G(u),B=>Ut(u,B)),ga("click",$,h),Sm(t,m),Fm()}export{S7 as component};
